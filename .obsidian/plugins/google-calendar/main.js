/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var yT=Object.create;var pl=Object.defineProperty,bT=Object.defineProperties,kT=Object.getOwnPropertyDescriptor,ET=Object.getOwnPropertyDescriptors,CT=Object.getOwnPropertyNames,Dg=Object.getOwnPropertySymbols,ST=Object.getPrototypeOf,Og=Object.prototype.hasOwnProperty,TT=Object.prototype.propertyIsEnumerable;var Mg=(t,e,n)=>e in t?pl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_i=(t,e)=>{for(var n in e||(e={}))Og.call(e,n)&&Mg(t,n,e[n]);if(Dg)for(var n of Dg(e))TT.call(e,n)&&Mg(t,n,e[n]);return t},Xa=(t,e)=>bT(t,ET(e)),Ag=t=>pl(t,"__esModule",{value:!0});var KM=typeof require!="undefined"?require:t=>{throw new Error('Dynamic require of "'+t+'" is not supported')};var yo=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),DT=(t,e)=>{Ag(t);for(var n in e)pl(t,n,{get:e[n],enumerable:!0})},OT=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of CT(e))!Og.call(t,r)&&r!=="default"&&pl(t,r,{get:()=>e[r],enumerable:!(n=kT(e,r))||n.enumerable});return t},Ye=t=>OT(Ag(pl(t!=null?yT(ST(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var K=(t,e,n)=>new Promise((r,i)=>{var s=f=>{try{u(n.next(f))}catch(d){i(d)}},l=f=>{try{u(n.throw(f))}catch(d){i(d)}},u=f=>f.done?r(f.value):Promise.resolve(f.value).then(s,l);u((n=n.apply(t,e)).next())});var lu=yo(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});var jt=require("obsidian"),od="YYYY-MM-DD",sd="gggg-[W]ww",mm="YYYY-MM",_m="YYYY-[Q]Q",vm="YYYY";function El(t){var n,r;let e=window.app.plugins.getPlugin("periodic-notes");return e&&((r=(n=e.settings)==null?void 0:n[t])==null?void 0:r.enabled)}function Cl(){var t,e,n,r;try{let{internalPlugins:i,plugins:s}=window.app;if(El("daily")){let{format:d,folder:p,template:h}=((e=(t=s.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:e.daily)||{};return{format:d||od,folder:(p==null?void 0:p.trim())||"",template:(h==null?void 0:h.trim())||""}}let{folder:l,format:u,template:f}=((r=(n=i.getPluginById("daily-notes"))==null?void 0:n.instance)==null?void 0:r.options)||{};return{format:u||od,folder:(l==null?void 0:l.trim())||"",template:(f==null?void 0:f.trim())||""}}catch(i){console.info("No custom daily note settings found!",i)}}function Sl(){var t,e,n,r,i,s,l;try{let u=window.app.plugins,f=(t=u.getPlugin("calendar"))==null?void 0:t.options,d=(n=(e=u.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:n.weekly;if(El("weekly"))return{format:d.format||sd,folder:((r=d.folder)==null?void 0:r.trim())||"",template:((i=d.template)==null?void 0:i.trim())||""};let p=f||{};return{format:p.weeklyNoteFormat||sd,folder:((s=p.weeklyNoteFolder)==null?void 0:s.trim())||"",template:((l=p.weeklyNoteTemplate)==null?void 0:l.trim())||""}}catch(u){console.info("No custom weekly note settings found!",u)}}function Tl(){var e,n,r,i;let t=window.app.plugins;try{let s=El("monthly")&&((n=(e=t.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:n.monthly)||{};return{format:s.format||mm,folder:((r=s.folder)==null?void 0:r.trim())||"",template:((i=s.template)==null?void 0:i.trim())||""}}catch(s){console.info("No custom monthly note settings found!",s)}}function Dl(){var e,n,r,i;let t=window.app.plugins;try{let s=El("quarterly")&&((n=(e=t.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:n.quarterly)||{};return{format:s.format||_m,folder:((r=s.folder)==null?void 0:r.trim())||"",template:((i=s.template)==null?void 0:i.trim())||""}}catch(s){console.info("No custom quarterly note settings found!",s)}}function Ol(){var e,n,r,i;let t=window.app.plugins;try{let s=El("yearly")&&((n=(e=t.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:n.yearly)||{};return{format:s.format||vm,folder:((r=s.folder)==null?void 0:r.trim())||"",template:((i=s.template)==null?void 0:i.trim())||""}}catch(s){console.info("No custom yearly note settings found!",s)}}function wm(...t){let e=[];for(let r=0,i=t.length;r<i;r++)e=e.concat(t[r].split("/"));let n=[];for(let r=0,i=e.length;r<i;r++){let s=e[r];!s||s==="."||n.push(s)}return e[0]===""&&n.unshift(""),n.join("/")}function pD(t){let e=t.substring(t.lastIndexOf("/")+1);return e.lastIndexOf(".")!=-1&&(e=e.substring(0,e.lastIndexOf("."))),e}function hD(t){return K(this,null,function*(){let e=t.replace(/\\/g,"/").split("/");if(e.pop(),e.length){let n=wm(...e);window.app.vault.getAbstractFileByPath(n)||(yield window.app.vault.createFolder(n))}})}function Ml(t,e){return K(this,null,function*(){e.endsWith(".md")||(e+=".md");let n=jt.normalizePath(wm(t,e));return yield hD(n),n})}function ws(t){return K(this,null,function*(){let{metadataCache:e,vault:n}=window.app,r=jt.normalizePath(t);if(r==="/")return Promise.resolve(["",null]);try{let i=e.getFirstLinkpathDest(r,""),s=yield n.cachedRead(i),l=window.app.foldManager.load(i);return[s,l]}catch(i){return console.error(`Failed to read the daily note template '${r}'`,i),new jt.Notice("Failed to read the daily note template"),["",null]}})}function Pr(t,e="day"){let n=t.clone().startOf(e).format();return`${e}-${n}`}function ym(t){return t.replace(/\[[^\]]*\]/g,"")}function gD(t,e){if(e==="week"){let n=ym(t);return/w{1,2}/i.test(n)&&(/M{1,4}/.test(n)||/D{1,4}/.test(n))}return!1}function ys(t,e){return bm(t.basename,e)}function mD(t,e){return bm(pD(t),e)}function bm(t,e){let r={day:Cl,week:Sl,month:Tl,quarter:Dl,year:Ol}[e]().format.split("/").pop(),i=window.moment(t,r,!0);if(!i.isValid())return null;if(gD(r,e)&&e==="week"){let s=ym(r);if(/w{1,2}/i.test(s))return window.moment(t,r.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return i}var km=class extends Error{};function Em(t){return K(this,null,function*(){let e=window.app,{vault:n}=e,r=window.moment,{template:i,format:s,folder:l}=Cl(),[u,f]=yield ws(i),d=t.format(s),p=yield Ml(l,d);try{let h=yield n.create(p,u.replace(/{{\s*date\s*}}/gi,d).replace(/{{\s*time\s*}}/gi,r().format("HH:mm")).replace(/{{\s*title\s*}}/gi,d).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(g,_,v,b,C,y)=>{let O=r(),T=t.clone().set({hour:O.get("hour"),minute:O.get("minute"),second:O.get("second")});return v&&T.add(parseInt(b,10),C),y?T.format(y.substring(1).trim()):T.format(s)}).replace(/{{\s*yesterday\s*}}/gi,t.clone().subtract(1,"day").format(s)).replace(/{{\s*tomorrow\s*}}/gi,t.clone().add(1,"d").format(s)));return e.foldManager.save(h,f),h}catch(h){console.error(`Failed to create file: '${p}'`,h),new jt.Notice("Unable to create new file.")}})}function _D(t,e){var n;return(n=e[Pr(t,"day")])!=null?n:null}function vD(){let{vault:t}=window.app,{folder:e}=Cl(),n=t.getAbstractFileByPath(jt.normalizePath(e));if(!n)throw new km("Failed to find daily notes folder");let r={};return jt.Vault.recurseChildren(n,i=>{if(i instanceof jt.TFile){let s=ys(i,"day");if(s){let l=Pr(s,"day");r[l]=i}}}),r}var Cm=class extends Error{};function wD(){let{moment:t}=window,e=t.localeData()._week.dow,n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;e;)n.push(n.shift()),e--;return n}function yD(t){return wD().indexOf(t.toLowerCase())}function Sm(t){return K(this,null,function*(){let{vault:e}=window.app,{template:n,format:r,folder:i}=Sl(),[s,l]=yield ws(n),u=t.format(r),f=yield Ml(i,u);try{let d=yield e.create(f,s.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,h,g,_,v,b)=>{let C=window.moment(),y=t.clone().set({hour:C.get("hour"),minute:C.get("minute"),second:C.get("second")});return g&&y.add(parseInt(_,10),v),b?y.format(b.substring(1).trim()):y.format(r)}).replace(/{{\s*title\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(p,h,g)=>{let _=yD(h);return t.weekday(_).format(g.trim())}));return window.app.foldManager.save(d,l),d}catch(d){console.error(`Failed to create file: '${f}'`,d),new jt.Notice("Unable to create new file.")}})}function bD(t,e){var n;return(n=e[Pr(t,"week")])!=null?n:null}function kD(){let t={};if(!Am())return t;let{vault:e}=window.app,{folder:n}=Sl(),r=e.getAbstractFileByPath(jt.normalizePath(n));if(!r)throw new Cm("Failed to find weekly notes folder");return jt.Vault.recurseChildren(r,i=>{if(i instanceof jt.TFile){let s=ys(i,"week");if(s){let l=Pr(s,"week");t[l]=i}}}),t}var Tm=class extends Error{};function Dm(t){return K(this,null,function*(){let{vault:e}=window.app,{template:n,format:r,folder:i}=Tl(),[s,l]=yield ws(n),u=t.format(r),f=yield Ml(i,u);try{let d=yield e.create(f,s.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,h,g,_,v,b)=>{let C=window.moment(),y=t.clone().set({hour:C.get("hour"),minute:C.get("minute"),second:C.get("second")});return g&&y.add(parseInt(_,10),v),b?y.format(b.substring(1).trim()):y.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(d,l),d}catch(d){console.error(`Failed to create file: '${f}'`,d),new jt.Notice("Unable to create new file.")}})}function ED(t,e){var n;return(n=e[Pr(t,"month")])!=null?n:null}function CD(){let t={};if(!Im())return t;let{vault:e}=window.app,{folder:n}=Tl(),r=e.getAbstractFileByPath(jt.normalizePath(n));if(!r)throw new Tm("Failed to find monthly notes folder");return jt.Vault.recurseChildren(r,i=>{if(i instanceof jt.TFile){let s=ys(i,"month");if(s){let l=Pr(s,"month");t[l]=i}}}),t}var Om=class extends Error{};function SD(t){return K(this,null,function*(){let{vault:e}=window.app,{template:n,format:r,folder:i}=Dl(),[s,l]=yield ws(n),u=t.format(r),f=yield Ml(i,u);try{let d=yield e.create(f,s.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,h,g,_,v,b)=>{let C=window.moment(),y=t.clone().set({hour:C.get("hour"),minute:C.get("minute"),second:C.get("second")});return g&&y.add(parseInt(_,10),v),b?y.format(b.substring(1).trim()):y.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(d,l),d}catch(d){console.error(`Failed to create file: '${f}'`,d),new jt.Notice("Unable to create new file.")}})}function TD(t,e){var n;return(n=e[Pr(t,"quarter")])!=null?n:null}function DD(){let t={};if(!Nm())return t;let{vault:e}=window.app,{folder:n}=Dl(),r=e.getAbstractFileByPath(jt.normalizePath(n));if(!r)throw new Om("Failed to find quarterly notes folder");return jt.Vault.recurseChildren(r,i=>{if(i instanceof jt.TFile){let s=ys(i,"quarter");if(s){let l=Pr(s,"quarter");t[l]=i}}}),t}var Mm=class extends Error{};function OD(t){return K(this,null,function*(){let{vault:e}=window.app,{template:n,format:r,folder:i}=Ol(),[s,l]=yield ws(n),u=t.format(r),f=yield Ml(i,u);try{let d=yield e.create(f,s.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,h,g,_,v,b)=>{let C=window.moment(),y=t.clone().set({hour:C.get("hour"),minute:C.get("minute"),second:C.get("second")});return g&&y.add(parseInt(_,10),v),b?y.format(b.substring(1).trim()):y.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(d,l),d}catch(d){console.error(`Failed to create file: '${f}'`,d),new jt.Notice("Unable to create new file.")}})}function MD(t,e){var n;return(n=e[Pr(t,"year")])!=null?n:null}function AD(){let t={};if(!Pm())return t;let{vault:e}=window.app,{folder:n}=Ol(),r=e.getAbstractFileByPath(jt.normalizePath(n));if(!r)throw new Mm("Failed to find yearly notes folder");return jt.Vault.recurseChildren(r,i=>{if(i instanceof jt.TFile){let s=ys(i,"year");if(s){let l=Pr(s,"year");t[l]=i}}}),t}function ID(){var r,i;let{app:t}=window,e=t.internalPlugins.plugins["daily-notes"];if(e&&e.enabled)return!0;let n=t.plugins.getPlugin("periodic-notes");return n&&((i=(r=n.settings)==null?void 0:r.daily)==null?void 0:i.enabled)}function Am(){var n,r;let{app:t}=window;if(t.plugins.getPlugin("calendar"))return!0;let e=t.plugins.getPlugin("periodic-notes");return e&&((r=(n=e.settings)==null?void 0:n.weekly)==null?void 0:r.enabled)}function Im(){var n,r;let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&((r=(n=e.settings)==null?void 0:n.monthly)==null?void 0:r.enabled)}function Nm(){var n,r;let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&((r=(n=e.settings)==null?void 0:n.quarterly)==null?void 0:r.enabled)}function Pm(){var n,r;let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&((r=(n=e.settings)==null?void 0:n.yearly)==null?void 0:r.enabled)}function ND(t){return{day:Cl,week:Sl,month:Tl,quarter:Dl,year:Ol}[t]()}function PD(t,e){return{day:Em,month:Dm,week:Sm}[t](e)}Qe.DEFAULT_DAILY_NOTE_FORMAT=od;Qe.DEFAULT_MONTHLY_NOTE_FORMAT=mm;Qe.DEFAULT_QUARTERLY_NOTE_FORMAT=_m;Qe.DEFAULT_WEEKLY_NOTE_FORMAT=sd;Qe.DEFAULT_YEARLY_NOTE_FORMAT=vm;Qe.appHasDailyNotesPluginLoaded=ID;Qe.appHasMonthlyNotesPluginLoaded=Im;Qe.appHasQuarterlyNotesPluginLoaded=Nm;Qe.appHasWeeklyNotesPluginLoaded=Am;Qe.appHasYearlyNotesPluginLoaded=Pm;Qe.createDailyNote=Em;Qe.createMonthlyNote=Dm;Qe.createPeriodicNote=PD;Qe.createQuarterlyNote=SD;Qe.createWeeklyNote=Sm;Qe.createYearlyNote=OD;Qe.getAllDailyNotes=vD;Qe.getAllMonthlyNotes=CD;Qe.getAllQuarterlyNotes=DD;Qe.getAllWeeklyNotes=kD;Qe.getAllYearlyNotes=AD;Qe.getDailyNote=_D;Qe.getDailyNoteSettings=Cl;Qe.getDateFromFile=ys;Qe.getDateFromPath=mD;Qe.getDateUID=Pr;Qe.getMonthlyNote=ED;Qe.getMonthlyNoteSettings=Tl;Qe.getPeriodicNoteSettings=ND;Qe.getQuarterlyNote=TD;Qe.getQuarterlyNoteSettings=Dl;Qe.getTemplateInfo=ws;Qe.getWeeklyNote=bD;Qe.getWeeklyNoteSettings=Sl;Qe.getYearlyNote=MD;Qe.getYearlyNoteSettings=Ol});var Ci=yo((bs,Al)=>{(function(){var t,e="4.17.21",n=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",d=1,p=2,h=4,g=1,_=2,v=1,b=2,C=4,y=8,O=16,T=32,R=64,I=128,x=256,U=512,D=30,Y="...",ne=800,j=16,oe=1,ce=2,Te=3,F=1/0,Z=9007199254740991,G=17976931348623157e292,te=0/0,ae=4294967295,fe=ae-1,ee=ae>>>1,se=[["ary",I],["bind",v],["bindKey",b],["curry",y],["curryRight",O],["flip",U],["partial",T],["partialRight",R],["rearg",x]],ye="[object Arguments]",de="[object Array]",be="[object AsyncFunction]",Ve="[object Boolean]",xt="[object Date]",Lt="[object DOMException]",mt="[object Error]",bt="[object Function]",ct="[object GeneratorFunction]",_t="[object Map]",Zt="[object Number]",oi="[object Null]",nt="[object Object]",Re="[object Promise]",Bn="[object Proxy]",Zn="[object RegExp]",dn="[object Set]",pn="[object String]",Pn="[object Symbol]",Yt="[object Undefined]",xn="[object WeakMap]",bn="[object WeakSet]",hn="[object ArrayBuffer]",Ln="[object DataView]",zn="[object Float32Array]",Hn="[object Float64Array]",Ii="[object Int8Array]",Ur="[object Int16Array]",so="[object Int32Array]",lo="[object Uint8Array]",q="[object Uint8ClampedArray]",Ce="[object Uint16Array]",pt="[object Uint32Array]",vt=/\b__p \+= '';/g,Xn=/\b(__p \+=) '' \+/g,si=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zo=/&(?:amp|lt|gt|quot|#39);/g,Xo=/[&<>"']/g,sf=RegExp(Zo.source),lf=RegExp(Xo.source),af=/<%-([\s\S]+?)%>/g,uf=/<%([\s\S]+?)%>/g,ia=/<%=([\s\S]+?)%>/g,ff=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cf=/^\w*$/,df=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ks=/[\\^$.*+?()[\]{}|]/g,pf=RegExp(Ks.source),Zs=/^\s+/,hf=/\s/,gf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mf=/\{\n\/\* \[wrapped with (.+)\] \*/,_f=/,? & /,vf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wf=/[()=,{}\[\]\/\s]/,yf=/\\(\\)?/g,bf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,oa=/\w*$/,kf=/^[-+]0x[0-9a-f]+$/i,Ef=/^0b[01]+$/i,Cf=/^\[object .+?Constructor\]$/,Sf=/^0o[0-7]+$/i,Tf=/^(?:0|[1-9]\d*)$/,Df=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qo=/($^)/,Of=/['\n\r\u2028\u2029\\]/g,Jo="\\ud800-\\udfff",Mf="\\u0300-\\u036f",Af="\\ufe20-\\ufe2f",If="\\u20d0-\\u20ff",sa=Mf+Af+If,la="\\u2700-\\u27bf",aa="a-z\\xdf-\\xf6\\xf8-\\xff",Nf="\\xac\\xb1\\xd7\\xf7",Pf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ua="\\u2000-\\u206f",M=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="A-Z\\xc0-\\xd6\\xd8-\\xde",kt="\\ufe0e\\ufe0f",ht=Nf+Pf+ua+M,Cr="['\u2019]",Xs="["+Jo+"]",ao="["+ht+"]",jr="["+sa+"]",Qs="\\d+",fa="["+la+"]",$o="["+aa+"]",li="[^"+Jo+ht+Qs+la+aa+Pe+"]",uo="\\ud83c[\\udffb-\\udfff]",ky="(?:"+jr+"|"+uo+")",dp="[^"+Jo+"]",xf="(?:\\ud83c[\\udde6-\\uddff]){2}",Lf="[\\ud800-\\udbff][\\udc00-\\udfff]",es="["+Pe+"]",pp="\\u200d",hp="(?:"+$o+"|"+li+")",Ey="(?:"+es+"|"+li+")",gp="(?:"+Cr+"(?:d|ll|m|re|s|t|ve))?",mp="(?:"+Cr+"(?:D|LL|M|RE|S|T|VE))?",_p=ky+"?",vp="["+kt+"]?",Cy="(?:"+pp+"(?:"+[dp,xf,Lf].join("|")+")"+vp+_p+")*",Sy="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ty="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",wp=vp+_p+Cy,Dy="(?:"+[fa,xf,Lf].join("|")+")"+wp,Oy="(?:"+[dp+jr+"?",jr,xf,Lf,Xs].join("|")+")",My=RegExp(Cr,"g"),Ay=RegExp(jr,"g"),Rf=RegExp(uo+"(?="+uo+")|"+Oy+wp,"g"),Iy=RegExp([es+"?"+$o+"+"+gp+"(?="+[ao,es,"$"].join("|")+")",Ey+"+"+mp+"(?="+[ao,es+hp,"$"].join("|")+")",es+"?"+hp+"+"+gp,es+"+"+mp,Ty,Sy,Qs,Dy].join("|"),"g"),Ny=RegExp("["+pp+Jo+sa+kt+"]"),Py=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ly=-1,Gt={};Gt[zn]=Gt[Hn]=Gt[Ii]=Gt[Ur]=Gt[so]=Gt[lo]=Gt[q]=Gt[Ce]=Gt[pt]=!0,Gt[ye]=Gt[de]=Gt[hn]=Gt[Ve]=Gt[Ln]=Gt[xt]=Gt[mt]=Gt[bt]=Gt[_t]=Gt[Zt]=Gt[nt]=Gt[Zn]=Gt[dn]=Gt[pn]=Gt[xn]=!1;var Rt={};Rt[ye]=Rt[de]=Rt[hn]=Rt[Ln]=Rt[Ve]=Rt[xt]=Rt[zn]=Rt[Hn]=Rt[Ii]=Rt[Ur]=Rt[so]=Rt[_t]=Rt[Zt]=Rt[nt]=Rt[Zn]=Rt[dn]=Rt[pn]=Rt[Pn]=Rt[lo]=Rt[q]=Rt[Ce]=Rt[pt]=!0,Rt[mt]=Rt[bt]=Rt[xn]=!1;var Ry={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Fy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wy=parseFloat,By=parseInt,yp=typeof global=="object"&&global&&global.Object===Object&&global,zy=typeof self=="object"&&self&&self.Object===Object&&self,gn=yp||zy||Function("return this")(),Ff=typeof bs=="object"&&bs&&!bs.nodeType&&bs,fo=Ff&&typeof Al=="object"&&Al&&!Al.nodeType&&Al,bp=fo&&fo.exports===Ff,Yf=bp&&yp.process,lr=function(){try{var B=fo&&fo.require&&fo.require("util").types;return B||Yf&&Yf.binding&&Yf.binding("util")}catch($){}}(),kp=lr&&lr.isArrayBuffer,Ep=lr&&lr.isDate,Cp=lr&&lr.isMap,Sp=lr&&lr.isRegExp,Tp=lr&&lr.isSet,Dp=lr&&lr.isTypedArray;function Qn(B,$,V){switch(V.length){case 0:return B.call($);case 1:return B.call($,V[0]);case 2:return B.call($,V[0],V[1]);case 3:return B.call($,V[0],V[1],V[2])}return B.apply($,V)}function Hy(B,$,V,ve){for(var Fe=-1,wt=B==null?0:B.length;++Fe<wt;){var on=B[Fe];$(ve,on,V(on),B)}return ve}function ar(B,$){for(var V=-1,ve=B==null?0:B.length;++V<ve&&$(B[V],V,B)!==!1;);return B}function Uy(B,$){for(var V=B==null?0:B.length;V--&&$(B[V],V,B)!==!1;);return B}function Op(B,$){for(var V=-1,ve=B==null?0:B.length;++V<ve;)if(!$(B[V],V,B))return!1;return!0}function Ni(B,$){for(var V=-1,ve=B==null?0:B.length,Fe=0,wt=[];++V<ve;){var on=B[V];$(on,V,B)&&(wt[Fe++]=on)}return wt}function ca(B,$){var V=B==null?0:B.length;return!!V&&ts(B,$,0)>-1}function Gf(B,$,V){for(var ve=-1,Fe=B==null?0:B.length;++ve<Fe;)if(V($,B[ve]))return!0;return!1}function Bt(B,$){for(var V=-1,ve=B==null?0:B.length,Fe=Array(ve);++V<ve;)Fe[V]=$(B[V],V,B);return Fe}function Pi(B,$){for(var V=-1,ve=$.length,Fe=B.length;++V<ve;)B[Fe+V]=$[V];return B}function Wf(B,$,V,ve){var Fe=-1,wt=B==null?0:B.length;for(ve&&wt&&(V=B[++Fe]);++Fe<wt;)V=$(V,B[Fe],Fe,B);return V}function jy(B,$,V,ve){var Fe=B==null?0:B.length;for(ve&&Fe&&(V=B[--Fe]);Fe--;)V=$(V,B[Fe],Fe,B);return V}function Bf(B,$){for(var V=-1,ve=B==null?0:B.length;++V<ve;)if($(B[V],V,B))return!0;return!1}var qy=zf("length");function Vy(B){return B.split("")}function Ky(B){return B.match(vf)||[]}function Mp(B,$,V){var ve;return V(B,function(Fe,wt,on){if($(Fe,wt,on))return ve=wt,!1}),ve}function da(B,$,V,ve){for(var Fe=B.length,wt=V+(ve?1:-1);ve?wt--:++wt<Fe;)if($(B[wt],wt,B))return wt;return-1}function ts(B,$,V){return $===$?sb(B,$,V):da(B,Ap,V)}function Zy(B,$,V,ve){for(var Fe=V-1,wt=B.length;++Fe<wt;)if(ve(B[Fe],$))return Fe;return-1}function Ap(B){return B!==B}function Ip(B,$){var V=B==null?0:B.length;return V?Uf(B,$)/V:te}function zf(B){return function($){return $==null?t:$[B]}}function Hf(B){return function($){return B==null?t:B[$]}}function Np(B,$,V,ve,Fe){return Fe(B,function(wt,on,Mt){V=ve?(ve=!1,wt):$(V,wt,on,Mt)}),V}function Xy(B,$){var V=B.length;for(B.sort($);V--;)B[V]=B[V].value;return B}function Uf(B,$){for(var V,ve=-1,Fe=B.length;++ve<Fe;){var wt=$(B[ve]);wt!==t&&(V=V===t?wt:V+wt)}return V}function jf(B,$){for(var V=-1,ve=Array(B);++V<B;)ve[V]=$(V);return ve}function Qy(B,$){return Bt($,function(V){return[V,B[V]]})}function Pp(B){return B&&B.slice(0,Fp(B)+1).replace(Zs,"")}function Jn(B){return function($){return B($)}}function qf(B,$){return Bt($,function(V){return B[V]})}function Js(B,$){return B.has($)}function xp(B,$){for(var V=-1,ve=B.length;++V<ve&&ts($,B[V],0)>-1;);return V}function Lp(B,$){for(var V=B.length;V--&&ts($,B[V],0)>-1;);return V}function Jy(B,$){for(var V=B.length,ve=0;V--;)B[V]===$&&++ve;return ve}var $y=Hf(Ry),eb=Hf(Fy);function tb(B){return"\\"+Gy[B]}function nb(B,$){return B==null?t:B[$]}function ns(B){return Ny.test(B)}function rb(B){return Py.test(B)}function ib(B){for(var $,V=[];!($=B.next()).done;)V.push($.value);return V}function Vf(B){var $=-1,V=Array(B.size);return B.forEach(function(ve,Fe){V[++$]=[Fe,ve]}),V}function Rp(B,$){return function(V){return B($(V))}}function xi(B,$){for(var V=-1,ve=B.length,Fe=0,wt=[];++V<ve;){var on=B[V];(on===$||on===f)&&(B[V]=f,wt[Fe++]=V)}return wt}function pa(B){var $=-1,V=Array(B.size);return B.forEach(function(ve){V[++$]=ve}),V}function ob(B){var $=-1,V=Array(B.size);return B.forEach(function(ve){V[++$]=[ve,ve]}),V}function sb(B,$,V){for(var ve=V-1,Fe=B.length;++ve<Fe;)if(B[ve]===$)return ve;return-1}function lb(B,$,V){for(var ve=V+1;ve--;)if(B[ve]===$)return ve;return ve}function rs(B){return ns(B)?ub(B):qy(B)}function Sr(B){return ns(B)?fb(B):Vy(B)}function Fp(B){for(var $=B.length;$--&&hf.test(B.charAt($)););return $}var ab=Hf(Yy);function ub(B){for(var $=Rf.lastIndex=0;Rf.test(B);)++$;return $}function fb(B){return B.match(Rf)||[]}function cb(B){return B.match(Iy)||[]}var db=function B($){$=$==null?gn:Li.defaults(gn.Object(),$,Li.pick(gn,xy));var V=$.Array,ve=$.Date,Fe=$.Error,wt=$.Function,on=$.Math,Mt=$.Object,Kf=$.RegExp,pb=$.String,ur=$.TypeError,ha=V.prototype,hb=wt.prototype,is=Mt.prototype,ga=$["__core-js_shared__"],ma=hb.toString,Tt=is.hasOwnProperty,gb=0,Yp=function(){var o=/[^.]+$/.exec(ga&&ga.keys&&ga.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),_a=is.toString,mb=ma.call(Mt),_b=gn._,vb=Kf("^"+ma.call(Tt).replace(Ks,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),va=bp?$.Buffer:t,Ri=$.Symbol,wa=$.Uint8Array,Gp=va?va.allocUnsafe:t,ya=Rp(Mt.getPrototypeOf,Mt),Wp=Mt.create,Bp=is.propertyIsEnumerable,ba=ha.splice,zp=Ri?Ri.isConcatSpreadable:t,$s=Ri?Ri.iterator:t,co=Ri?Ri.toStringTag:t,ka=function(){try{var o=_o(Mt,"defineProperty");return o({},"",{}),o}catch(a){}}(),wb=$.clearTimeout!==gn.clearTimeout&&$.clearTimeout,yb=ve&&ve.now!==gn.Date.now&&ve.now,bb=$.setTimeout!==gn.setTimeout&&$.setTimeout,Ea=on.ceil,Ca=on.floor,Zf=Mt.getOwnPropertySymbols,kb=va?va.isBuffer:t,Hp=$.isFinite,Eb=ha.join,Cb=Rp(Mt.keys,Mt),sn=on.max,On=on.min,Sb=ve.now,Tb=$.parseInt,Up=on.random,Db=ha.reverse,Xf=_o($,"DataView"),el=_o($,"Map"),Qf=_o($,"Promise"),os=_o($,"Set"),tl=_o($,"WeakMap"),nl=_o(Mt,"create"),Sa=tl&&new tl,ss={},Ob=vo(Xf),Mb=vo(el),Ab=vo(Qf),Ib=vo(os),Nb=vo(tl),Ta=Ri?Ri.prototype:t,rl=Ta?Ta.valueOf:t,jp=Ta?Ta.toString:t;function k(o){if(qt(o)&&!Be(o)&&!(o instanceof rt)){if(o instanceof fr)return o;if(Tt.call(o,"__wrapped__"))return qh(o)}return new fr(o)}var ls=function(){function o(){}return function(a){if(!Ht(a))return{};if(Wp)return Wp(a);o.prototype=a;var c=new o;return o.prototype=t,c}}();function Da(){}function fr(o,a){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=t}k.templateSettings={escape:af,evaluate:uf,interpolate:ia,variable:"",imports:{_:k}},k.prototype=Da.prototype,k.prototype.constructor=k,fr.prototype=ls(Da.prototype),fr.prototype.constructor=fr;function rt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function Pb(){var o=new rt(this.__wrapped__);return o.__actions__=Un(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Un(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Un(this.__views__),o}function xb(){if(this.__filtered__){var o=new rt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Lb(){var o=this.__wrapped__.value(),a=this.__dir__,c=Be(o),m=a<0,w=c?o.length:0,S=Vk(0,w,this.__views__),A=S.start,L=S.end,H=L-A,re=m?L:A-1,ie=this.__iteratees__,le=ie.length,he=0,ke=On(H,this.__takeCount__);if(!c||!m&&w==H&&ke==H)return gh(o,this.__actions__);var Me=[];e:for(;H--&&he<ke;){re+=a;for(var Ke=-1,Ae=o[re];++Ke<le;){var $e=ie[Ke],lt=$e.iteratee,tr=$e.type,Yn=lt(Ae);if(tr==ce)Ae=Yn;else if(!Yn){if(tr==oe)continue e;break e}}Me[he++]=Ae}return Me}rt.prototype=ls(Da.prototype),rt.prototype.constructor=rt;function po(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var m=o[a];this.set(m[0],m[1])}}function Rb(){this.__data__=nl?nl(null):{},this.size=0}function Fb(o){var a=this.has(o)&&delete this.__data__[o];return this.size-=a?1:0,a}function Yb(o){var a=this.__data__;if(nl){var c=a[o];return c===l?t:c}return Tt.call(a,o)?a[o]:t}function Gb(o){var a=this.__data__;return nl?a[o]!==t:Tt.call(a,o)}function Wb(o,a){var c=this.__data__;return this.size+=this.has(o)?0:1,c[o]=nl&&a===t?l:a,this}po.prototype.clear=Rb,po.prototype.delete=Fb,po.prototype.get=Yb,po.prototype.has=Gb,po.prototype.set=Wb;function ai(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var m=o[a];this.set(m[0],m[1])}}function Bb(){this.__data__=[],this.size=0}function zb(o){var a=this.__data__,c=Oa(a,o);if(c<0)return!1;var m=a.length-1;return c==m?a.pop():ba.call(a,c,1),--this.size,!0}function Hb(o){var a=this.__data__,c=Oa(a,o);return c<0?t:a[c][1]}function Ub(o){return Oa(this.__data__,o)>-1}function jb(o,a){var c=this.__data__,m=Oa(c,o);return m<0?(++this.size,c.push([o,a])):c[m][1]=a,this}ai.prototype.clear=Bb,ai.prototype.delete=zb,ai.prototype.get=Hb,ai.prototype.has=Ub,ai.prototype.set=jb;function ui(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var m=o[a];this.set(m[0],m[1])}}function qb(){this.size=0,this.__data__={hash:new po,map:new(el||ai),string:new po}}function Vb(o){var a=Wa(this,o).delete(o);return this.size-=a?1:0,a}function Kb(o){return Wa(this,o).get(o)}function Zb(o){return Wa(this,o).has(o)}function Xb(o,a){var c=Wa(this,o),m=c.size;return c.set(o,a),this.size+=c.size==m?0:1,this}ui.prototype.clear=qb,ui.prototype.delete=Vb,ui.prototype.get=Kb,ui.prototype.has=Zb,ui.prototype.set=Xb;function ho(o){var a=-1,c=o==null?0:o.length;for(this.__data__=new ui;++a<c;)this.add(o[a])}function Qb(o){return this.__data__.set(o,l),this}function Jb(o){return this.__data__.has(o)}ho.prototype.add=ho.prototype.push=Qb,ho.prototype.has=Jb;function Tr(o){var a=this.__data__=new ai(o);this.size=a.size}function $b(){this.__data__=new ai,this.size=0}function ek(o){var a=this.__data__,c=a.delete(o);return this.size=a.size,c}function tk(o){return this.__data__.get(o)}function nk(o){return this.__data__.has(o)}function rk(o,a){var c=this.__data__;if(c instanceof ai){var m=c.__data__;if(!el||m.length<n-1)return m.push([o,a]),this.size=++c.size,this;c=this.__data__=new ui(m)}return c.set(o,a),this.size=c.size,this}Tr.prototype.clear=$b,Tr.prototype.delete=ek,Tr.prototype.get=tk,Tr.prototype.has=nk,Tr.prototype.set=rk;function qp(o,a){var c=Be(o),m=!c&&wo(o),w=!c&&!m&&Bi(o),S=!c&&!m&&!w&&cs(o),A=c||m||w||S,L=A?jf(o.length,pb):[],H=L.length;for(var re in o)(a||Tt.call(o,re))&&!(A&&(re=="length"||w&&(re=="offset"||re=="parent")||S&&(re=="buffer"||re=="byteLength"||re=="byteOffset")||pi(re,H)))&&L.push(re);return L}function Vp(o){var a=o.length;return a?o[ac(0,a-1)]:t}function ik(o,a){return Ba(Un(o),go(a,0,o.length))}function ok(o){return Ba(Un(o))}function Jf(o,a,c){(c!==t&&!Dr(o[a],c)||c===t&&!(a in o))&&fi(o,a,c)}function il(o,a,c){var m=o[a];(!(Tt.call(o,a)&&Dr(m,c))||c===t&&!(a in o))&&fi(o,a,c)}function Oa(o,a){for(var c=o.length;c--;)if(Dr(o[c][0],a))return c;return-1}function sk(o,a,c,m){return Fi(o,function(w,S,A){a(m,w,c(w),A)}),m}function Kp(o,a){return o&&Vr(a,mn(a),o)}function lk(o,a){return o&&Vr(a,qn(a),o)}function fi(o,a,c){a=="__proto__"&&ka?ka(o,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):o[a]=c}function $f(o,a){for(var c=-1,m=a.length,w=V(m),S=o==null;++c<m;)w[c]=S?t:Pc(o,a[c]);return w}function go(o,a,c){return o===o&&(c!==t&&(o=o<=c?o:c),a!==t&&(o=o>=a?o:a)),o}function cr(o,a,c,m,w,S){var A,L=a&d,H=a&p,re=a&h;if(c&&(A=w?c(o,m,w,S):c(o)),A!==t)return A;if(!Ht(o))return o;var ie=Be(o);if(ie){if(A=Zk(o),!L)return Un(o,A)}else{var le=Mn(o),he=le==bt||le==ct;if(Bi(o))return vh(o,L);if(le==nt||le==ye||he&&!w){if(A=H||he?{}:Fh(o),!L)return H?Yk(o,lk(A,o)):Fk(o,Kp(A,o))}else{if(!Rt[le])return w?o:{};A=Xk(o,le,L)}}S||(S=new Tr);var ke=S.get(o);if(ke)return ke;S.set(o,A),dg(o)?o.forEach(function(Ae){A.add(cr(Ae,a,c,Ae,o,S))}):fg(o)&&o.forEach(function(Ae,$e){A.set($e,cr(Ae,a,c,$e,o,S))});var Me=re?H?wc:vc:H?qn:mn,Ke=ie?t:Me(o);return ar(Ke||o,function(Ae,$e){Ke&&($e=Ae,Ae=o[$e]),il(A,$e,cr(Ae,a,c,$e,o,S))}),A}function ak(o){var a=mn(o);return function(c){return Zp(c,o,a)}}function Zp(o,a,c){var m=c.length;if(o==null)return!m;for(o=Mt(o);m--;){var w=c[m],S=a[w],A=o[w];if(A===t&&!(w in o)||!S(A))return!1}return!0}function Xp(o,a,c){if(typeof o!="function")throw new ur(i);return cl(function(){o.apply(t,c)},a)}function ol(o,a,c,m){var w=-1,S=ca,A=!0,L=o.length,H=[],re=a.length;if(!L)return H;c&&(a=Bt(a,Jn(c))),m?(S=Gf,A=!1):a.length>=n&&(S=Js,A=!1,a=new ho(a));e:for(;++w<L;){var ie=o[w],le=c==null?ie:c(ie);if(ie=m||ie!==0?ie:0,A&&le===le){for(var he=re;he--;)if(a[he]===le)continue e;H.push(ie)}else S(a,le,m)||H.push(ie)}return H}var Fi=Eh(qr),Qp=Eh(tc,!0);function uk(o,a){var c=!0;return Fi(o,function(m,w,S){return c=!!a(m,w,S),c}),c}function Ma(o,a,c){for(var m=-1,w=o.length;++m<w;){var S=o[m],A=a(S);if(A!=null&&(L===t?A===A&&!er(A):c(A,L)))var L=A,H=S}return H}function fk(o,a,c,m){var w=o.length;for(c=qe(c),c<0&&(c=-c>w?0:w+c),m=m===t||m>w?w:qe(m),m<0&&(m+=w),m=c>m?0:hg(m);c<m;)o[c++]=a;return o}function Jp(o,a){var c=[];return Fi(o,function(m,w,S){a(m,w,S)&&c.push(m)}),c}function kn(o,a,c,m,w){var S=-1,A=o.length;for(c||(c=Jk),w||(w=[]);++S<A;){var L=o[S];a>0&&c(L)?a>1?kn(L,a-1,c,m,w):Pi(w,L):m||(w[w.length]=L)}return w}var ec=Ch(),$p=Ch(!0);function qr(o,a){return o&&ec(o,a,mn)}function tc(o,a){return o&&$p(o,a,mn)}function Aa(o,a){return Ni(a,function(c){return hi(o[c])})}function mo(o,a){a=Gi(a,o);for(var c=0,m=a.length;o!=null&&c<m;)o=o[Kr(a[c++])];return c&&c==m?o:t}function eh(o,a,c){var m=a(o);return Be(o)?m:Pi(m,c(o))}function Rn(o){return o==null?o===t?Yt:oi:co&&co in Mt(o)?qk(o):oE(o)}function nc(o,a){return o>a}function ck(o,a){return o!=null&&Tt.call(o,a)}function dk(o,a){return o!=null&&a in Mt(o)}function pk(o,a,c){return o>=On(a,c)&&o<sn(a,c)}function rc(o,a,c){for(var m=c?Gf:ca,w=o[0].length,S=o.length,A=S,L=V(S),H=1/0,re=[];A--;){var ie=o[A];A&&a&&(ie=Bt(ie,Jn(a))),H=On(ie.length,H),L[A]=!c&&(a||w>=120&&ie.length>=120)?new ho(A&&ie):t}ie=o[0];var le=-1,he=L[0];e:for(;++le<w&&re.length<H;){var ke=ie[le],Me=a?a(ke):ke;if(ke=c||ke!==0?ke:0,!(he?Js(he,Me):m(re,Me,c))){for(A=S;--A;){var Ke=L[A];if(!(Ke?Js(Ke,Me):m(o[A],Me,c)))continue e}he&&he.push(Me),re.push(ke)}}return re}function hk(o,a,c,m){return qr(o,function(w,S,A){a(m,c(w),S,A)}),m}function sl(o,a,c){a=Gi(a,o),o=Bh(o,a);var m=o==null?o:o[Kr(pr(a))];return m==null?t:Qn(m,o,c)}function th(o){return qt(o)&&Rn(o)==ye}function gk(o){return qt(o)&&Rn(o)==hn}function mk(o){return qt(o)&&Rn(o)==xt}function ll(o,a,c,m,w){return o===a?!0:o==null||a==null||!qt(o)&&!qt(a)?o!==o&&a!==a:_k(o,a,c,m,ll,w)}function _k(o,a,c,m,w,S){var A=Be(o),L=Be(a),H=A?de:Mn(o),re=L?de:Mn(a);H=H==ye?nt:H,re=re==ye?nt:re;var ie=H==nt,le=re==nt,he=H==re;if(he&&Bi(o)){if(!Bi(a))return!1;A=!0,ie=!1}if(he&&!ie)return S||(S=new Tr),A||cs(o)?xh(o,a,c,m,w,S):Uk(o,a,H,c,m,w,S);if(!(c&g)){var ke=ie&&Tt.call(o,"__wrapped__"),Me=le&&Tt.call(a,"__wrapped__");if(ke||Me){var Ke=ke?o.value():o,Ae=Me?a.value():a;return S||(S=new Tr),w(Ke,Ae,c,m,S)}}return he?(S||(S=new Tr),jk(o,a,c,m,w,S)):!1}function vk(o){return qt(o)&&Mn(o)==_t}function ic(o,a,c,m){var w=c.length,S=w,A=!m;if(o==null)return!S;for(o=Mt(o);w--;){var L=c[w];if(A&&L[2]?L[1]!==o[L[0]]:!(L[0]in o))return!1}for(;++w<S;){L=c[w];var H=L[0],re=o[H],ie=L[1];if(A&&L[2]){if(re===t&&!(H in o))return!1}else{var le=new Tr;if(m)var he=m(re,ie,H,o,a,le);if(!(he===t?ll(ie,re,g|_,m,le):he))return!1}}return!0}function nh(o){if(!Ht(o)||eE(o))return!1;var a=hi(o)?vb:Cf;return a.test(vo(o))}function wk(o){return qt(o)&&Rn(o)==Zn}function yk(o){return qt(o)&&Mn(o)==dn}function bk(o){return qt(o)&&Va(o.length)&&!!Gt[Rn(o)]}function rh(o){return typeof o=="function"?o:o==null?Vn:typeof o=="object"?Be(o)?sh(o[0],o[1]):oh(o):Sg(o)}function oc(o){if(!fl(o))return Cb(o);var a=[];for(var c in Mt(o))Tt.call(o,c)&&c!="constructor"&&a.push(c);return a}function kk(o){if(!Ht(o))return iE(o);var a=fl(o),c=[];for(var m in o)m=="constructor"&&(a||!Tt.call(o,m))||c.push(m);return c}function sc(o,a){return o<a}function ih(o,a){var c=-1,m=jn(o)?V(o.length):[];return Fi(o,function(w,S,A){m[++c]=a(w,S,A)}),m}function oh(o){var a=bc(o);return a.length==1&&a[0][2]?Gh(a[0][0],a[0][1]):function(c){return c===o||ic(c,o,a)}}function sh(o,a){return Ec(o)&&Yh(a)?Gh(Kr(o),a):function(c){var m=Pc(c,o);return m===t&&m===a?xc(c,o):ll(a,m,g|_)}}function Ia(o,a,c,m,w){o!==a&&ec(a,function(S,A){if(w||(w=new Tr),Ht(S))Ek(o,a,A,c,Ia,m,w);else{var L=m?m(Sc(o,A),S,A+"",o,a,w):t;L===t&&(L=S),Jf(o,A,L)}},qn)}function Ek(o,a,c,m,w,S,A){var L=Sc(o,c),H=Sc(a,c),re=A.get(H);if(re){Jf(o,c,re);return}var ie=S?S(L,H,c+"",o,a,A):t,le=ie===t;if(le){var he=Be(H),ke=!he&&Bi(H),Me=!he&&!ke&&cs(H);ie=H,he||ke||Me?Be(L)?ie=L:Xt(L)?ie=Un(L):ke?(le=!1,ie=vh(H,!0)):Me?(le=!1,ie=wh(H,!0)):ie=[]:dl(H)||wo(H)?(ie=L,wo(L)?ie=gg(L):(!Ht(L)||hi(L))&&(ie=Fh(H))):le=!1}le&&(A.set(H,ie),w(ie,H,m,S,A),A.delete(H)),Jf(o,c,ie)}function lh(o,a){var c=o.length;if(!!c)return a+=a<0?c:0,pi(a,c)?o[a]:t}function ah(o,a,c){a.length?a=Bt(a,function(S){return Be(S)?function(A){return mo(A,S.length===1?S[0]:S)}:S}):a=[Vn];var m=-1;a=Bt(a,Jn(De()));var w=ih(o,function(S,A,L){var H=Bt(a,function(re){return re(S)});return{criteria:H,index:++m,value:S}});return Xy(w,function(S,A){return Rk(S,A,c)})}function Ck(o,a){return uh(o,a,function(c,m){return xc(o,m)})}function uh(o,a,c){for(var m=-1,w=a.length,S={};++m<w;){var A=a[m],L=mo(o,A);c(L,A)&&al(S,Gi(A,o),L)}return S}function Sk(o){return function(a){return mo(a,o)}}function lc(o,a,c,m){var w=m?Zy:ts,S=-1,A=a.length,L=o;for(o===a&&(a=Un(a)),c&&(L=Bt(o,Jn(c)));++S<A;)for(var H=0,re=a[S],ie=c?c(re):re;(H=w(L,ie,H,m))>-1;)L!==o&&ba.call(L,H,1),ba.call(o,H,1);return o}function fh(o,a){for(var c=o?a.length:0,m=c-1;c--;){var w=a[c];if(c==m||w!==S){var S=w;pi(w)?ba.call(o,w,1):cc(o,w)}}return o}function ac(o,a){return o+Ca(Up()*(a-o+1))}function Tk(o,a,c,m){for(var w=-1,S=sn(Ea((a-o)/(c||1)),0),A=V(S);S--;)A[m?S:++w]=o,o+=c;return A}function uc(o,a){var c="";if(!o||a<1||a>Z)return c;do a%2&&(c+=o),a=Ca(a/2),a&&(o+=o);while(a);return c}function Xe(o,a){return Tc(Wh(o,a,Vn),o+"")}function Dk(o){return Vp(ds(o))}function Ok(o,a){var c=ds(o);return Ba(c,go(a,0,c.length))}function al(o,a,c,m){if(!Ht(o))return o;a=Gi(a,o);for(var w=-1,S=a.length,A=S-1,L=o;L!=null&&++w<S;){var H=Kr(a[w]),re=c;if(H==="__proto__"||H==="constructor"||H==="prototype")return o;if(w!=A){var ie=L[H];re=m?m(ie,H,L):t,re===t&&(re=Ht(ie)?ie:pi(a[w+1])?[]:{})}il(L,H,re),L=L[H]}return o}var ch=Sa?function(o,a){return Sa.set(o,a),o}:Vn,Mk=ka?function(o,a){return ka(o,"toString",{configurable:!0,enumerable:!1,value:Rc(a),writable:!0})}:Vn;function Ak(o){return Ba(ds(o))}function dr(o,a,c){var m=-1,w=o.length;a<0&&(a=-a>w?0:w+a),c=c>w?w:c,c<0&&(c+=w),w=a>c?0:c-a>>>0,a>>>=0;for(var S=V(w);++m<w;)S[m]=o[m+a];return S}function Ik(o,a){var c;return Fi(o,function(m,w,S){return c=a(m,w,S),!c}),!!c}function Na(o,a,c){var m=0,w=o==null?m:o.length;if(typeof a=="number"&&a===a&&w<=ee){for(;m<w;){var S=m+w>>>1,A=o[S];A!==null&&!er(A)&&(c?A<=a:A<a)?m=S+1:w=S}return w}return fc(o,a,Vn,c)}function fc(o,a,c,m){var w=0,S=o==null?0:o.length;if(S===0)return 0;a=c(a);for(var A=a!==a,L=a===null,H=er(a),re=a===t;w<S;){var ie=Ca((w+S)/2),le=c(o[ie]),he=le!==t,ke=le===null,Me=le===le,Ke=er(le);if(A)var Ae=m||Me;else re?Ae=Me&&(m||he):L?Ae=Me&&he&&(m||!ke):H?Ae=Me&&he&&!ke&&(m||!Ke):ke||Ke?Ae=!1:Ae=m?le<=a:le<a;Ae?w=ie+1:S=ie}return On(S,fe)}function dh(o,a){for(var c=-1,m=o.length,w=0,S=[];++c<m;){var A=o[c],L=a?a(A):A;if(!c||!Dr(L,H)){var H=L;S[w++]=A===0?0:A}}return S}function ph(o){return typeof o=="number"?o:er(o)?te:+o}function $n(o){if(typeof o=="string")return o;if(Be(o))return Bt(o,$n)+"";if(er(o))return jp?jp.call(o):"";var a=o+"";return a=="0"&&1/o==-F?"-0":a}function Yi(o,a,c){var m=-1,w=ca,S=o.length,A=!0,L=[],H=L;if(c)A=!1,w=Gf;else if(S>=n){var re=a?null:zk(o);if(re)return pa(re);A=!1,w=Js,H=new ho}else H=a?[]:L;e:for(;++m<S;){var ie=o[m],le=a?a(ie):ie;if(ie=c||ie!==0?ie:0,A&&le===le){for(var he=H.length;he--;)if(H[he]===le)continue e;a&&H.push(le),L.push(ie)}else w(H,le,c)||(H!==L&&H.push(le),L.push(ie))}return L}function cc(o,a){return a=Gi(a,o),o=Bh(o,a),o==null||delete o[Kr(pr(a))]}function hh(o,a,c,m){return al(o,a,c(mo(o,a)),m)}function Pa(o,a,c,m){for(var w=o.length,S=m?w:-1;(m?S--:++S<w)&&a(o[S],S,o););return c?dr(o,m?0:S,m?S+1:w):dr(o,m?S+1:0,m?w:S)}function gh(o,a){var c=o;return c instanceof rt&&(c=c.value()),Wf(a,function(m,w){return w.func.apply(w.thisArg,Pi([m],w.args))},c)}function dc(o,a,c){var m=o.length;if(m<2)return m?Yi(o[0]):[];for(var w=-1,S=V(m);++w<m;)for(var A=o[w],L=-1;++L<m;)L!=w&&(S[w]=ol(S[w]||A,o[L],a,c));return Yi(kn(S,1),a,c)}function mh(o,a,c){for(var m=-1,w=o.length,S=a.length,A={};++m<w;){var L=m<S?a[m]:t;c(A,o[m],L)}return A}function pc(o){return Xt(o)?o:[]}function hc(o){return typeof o=="function"?o:Vn}function Gi(o,a){return Be(o)?o:Ec(o,a)?[o]:jh(Et(o))}var Nk=Xe;function Wi(o,a,c){var m=o.length;return c=c===t?m:c,!a&&c>=m?o:dr(o,a,c)}var _h=wb||function(o){return gn.clearTimeout(o)};function vh(o,a){if(a)return o.slice();var c=o.length,m=Gp?Gp(c):new o.constructor(c);return o.copy(m),m}function gc(o){var a=new o.constructor(o.byteLength);return new wa(a).set(new wa(o)),a}function Pk(o,a){var c=a?gc(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.byteLength)}function xk(o){var a=new o.constructor(o.source,oa.exec(o));return a.lastIndex=o.lastIndex,a}function Lk(o){return rl?Mt(rl.call(o)):{}}function wh(o,a){var c=a?gc(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.length)}function yh(o,a){if(o!==a){var c=o!==t,m=o===null,w=o===o,S=er(o),A=a!==t,L=a===null,H=a===a,re=er(a);if(!L&&!re&&!S&&o>a||S&&A&&H&&!L&&!re||m&&A&&H||!c&&H||!w)return 1;if(!m&&!S&&!re&&o<a||re&&c&&w&&!m&&!S||L&&c&&w||!A&&w||!H)return-1}return 0}function Rk(o,a,c){for(var m=-1,w=o.criteria,S=a.criteria,A=w.length,L=c.length;++m<A;){var H=yh(w[m],S[m]);if(H){if(m>=L)return H;var re=c[m];return H*(re=="desc"?-1:1)}}return o.index-a.index}function bh(o,a,c,m){for(var w=-1,S=o.length,A=c.length,L=-1,H=a.length,re=sn(S-A,0),ie=V(H+re),le=!m;++L<H;)ie[L]=a[L];for(;++w<A;)(le||w<S)&&(ie[c[w]]=o[w]);for(;re--;)ie[L++]=o[w++];return ie}function kh(o,a,c,m){for(var w=-1,S=o.length,A=-1,L=c.length,H=-1,re=a.length,ie=sn(S-L,0),le=V(ie+re),he=!m;++w<ie;)le[w]=o[w];for(var ke=w;++H<re;)le[ke+H]=a[H];for(;++A<L;)(he||w<S)&&(le[ke+c[A]]=o[w++]);return le}function Un(o,a){var c=-1,m=o.length;for(a||(a=V(m));++c<m;)a[c]=o[c];return a}function Vr(o,a,c,m){var w=!c;c||(c={});for(var S=-1,A=a.length;++S<A;){var L=a[S],H=m?m(c[L],o[L],L,c,o):t;H===t&&(H=o[L]),w?fi(c,L,H):il(c,L,H)}return c}function Fk(o,a){return Vr(o,kc(o),a)}function Yk(o,a){return Vr(o,Lh(o),a)}function xa(o,a){return function(c,m){var w=Be(c)?Hy:sk,S=a?a():{};return w(c,o,De(m,2),S)}}function as(o){return Xe(function(a,c){var m=-1,w=c.length,S=w>1?c[w-1]:t,A=w>2?c[2]:t;for(S=o.length>3&&typeof S=="function"?(w--,S):t,A&&Fn(c[0],c[1],A)&&(S=w<3?t:S,w=1),a=Mt(a);++m<w;){var L=c[m];L&&o(a,L,m,S)}return a})}function Eh(o,a){return function(c,m){if(c==null)return c;if(!jn(c))return o(c,m);for(var w=c.length,S=a?w:-1,A=Mt(c);(a?S--:++S<w)&&m(A[S],S,A)!==!1;);return c}}function Ch(o){return function(a,c,m){for(var w=-1,S=Mt(a),A=m(a),L=A.length;L--;){var H=A[o?L:++w];if(c(S[H],H,S)===!1)break}return a}}function Gk(o,a,c){var m=a&v,w=ul(o);function S(){var A=this&&this!==gn&&this instanceof S?w:o;return A.apply(m?c:this,arguments)}return S}function Sh(o){return function(a){a=Et(a);var c=ns(a)?Sr(a):t,m=c?c[0]:a.charAt(0),w=c?Wi(c,1).join(""):a.slice(1);return m[o]()+w}}function us(o){return function(a){return Wf(Eg(kg(a).replace(My,"")),o,"")}}function ul(o){return function(){var a=arguments;switch(a.length){case 0:return new o;case 1:return new o(a[0]);case 2:return new o(a[0],a[1]);case 3:return new o(a[0],a[1],a[2]);case 4:return new o(a[0],a[1],a[2],a[3]);case 5:return new o(a[0],a[1],a[2],a[3],a[4]);case 6:return new o(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new o(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var c=ls(o.prototype),m=o.apply(c,a);return Ht(m)?m:c}}function Wk(o,a,c){var m=ul(o);function w(){for(var S=arguments.length,A=V(S),L=S,H=fs(w);L--;)A[L]=arguments[L];var re=S<3&&A[0]!==H&&A[S-1]!==H?[]:xi(A,H);if(S-=re.length,S<c)return Ah(o,a,La,w.placeholder,t,A,re,t,t,c-S);var ie=this&&this!==gn&&this instanceof w?m:o;return Qn(ie,this,A)}return w}function Th(o){return function(a,c,m){var w=Mt(a);if(!jn(a)){var S=De(c,3);a=mn(a),c=function(L){return S(w[L],L,w)}}var A=o(a,c,m);return A>-1?w[S?a[A]:A]:t}}function Dh(o){return di(function(a){var c=a.length,m=c,w=fr.prototype.thru;for(o&&a.reverse();m--;){var S=a[m];if(typeof S!="function")throw new ur(i);if(w&&!A&&Ga(S)=="wrapper")var A=new fr([],!0)}for(m=A?m:c;++m<c;){S=a[m];var L=Ga(S),H=L=="wrapper"?yc(S):t;H&&Cc(H[0])&&H[1]==(I|y|T|x)&&!H[4].length&&H[9]==1?A=A[Ga(H[0])].apply(A,H[3]):A=S.length==1&&Cc(S)?A[L]():A.thru(S)}return function(){var re=arguments,ie=re[0];if(A&&re.length==1&&Be(ie))return A.plant(ie).value();for(var le=0,he=c?a[le].apply(this,re):ie;++le<c;)he=a[le].call(this,he);return he}})}function La(o,a,c,m,w,S,A,L,H,re){var ie=a&I,le=a&v,he=a&b,ke=a&(y|O),Me=a&U,Ke=he?t:ul(o);function Ae(){for(var $e=arguments.length,lt=V($e),tr=$e;tr--;)lt[tr]=arguments[tr];if(ke)var Yn=fs(Ae),nr=Jy(lt,Yn);if(m&&(lt=bh(lt,m,w,ke)),S&&(lt=kh(lt,S,A,ke)),$e-=nr,ke&&$e<re){var Qt=xi(lt,Yn);return Ah(o,a,La,Ae.placeholder,c,lt,Qt,L,H,re-$e)}var Or=le?c:this,mi=he?Or[o]:o;return $e=lt.length,L?lt=sE(lt,L):Me&&$e>1&&lt.reverse(),ie&&H<$e&&(lt.length=H),this&&this!==gn&&this instanceof Ae&&(mi=Ke||ul(mi)),mi.apply(Or,lt)}return Ae}function Oh(o,a){return function(c,m){return hk(c,o,a(m),{})}}function Ra(o,a){return function(c,m){var w;if(c===t&&m===t)return a;if(c!==t&&(w=c),m!==t){if(w===t)return m;typeof c=="string"||typeof m=="string"?(c=$n(c),m=$n(m)):(c=ph(c),m=ph(m)),w=o(c,m)}return w}}function mc(o){return di(function(a){return a=Bt(a,Jn(De())),Xe(function(c){var m=this;return o(a,function(w){return Qn(w,m,c)})})})}function Fa(o,a){a=a===t?" ":$n(a);var c=a.length;if(c<2)return c?uc(a,o):a;var m=uc(a,Ea(o/rs(a)));return ns(a)?Wi(Sr(m),0,o).join(""):m.slice(0,o)}function Bk(o,a,c,m){var w=a&v,S=ul(o);function A(){for(var L=-1,H=arguments.length,re=-1,ie=m.length,le=V(ie+H),he=this&&this!==gn&&this instanceof A?S:o;++re<ie;)le[re]=m[re];for(;H--;)le[re++]=arguments[++L];return Qn(he,w?c:this,le)}return A}function Mh(o){return function(a,c,m){return m&&typeof m!="number"&&Fn(a,c,m)&&(c=m=t),a=gi(a),c===t?(c=a,a=0):c=gi(c),m=m===t?a<c?1:-1:gi(m),Tk(a,c,m,o)}}function Ya(o){return function(a,c){return typeof a=="string"&&typeof c=="string"||(a=hr(a),c=hr(c)),o(a,c)}}function Ah(o,a,c,m,w,S,A,L,H,re){var ie=a&y,le=ie?A:t,he=ie?t:A,ke=ie?S:t,Me=ie?t:S;a|=ie?T:R,a&=~(ie?R:T),a&C||(a&=~(v|b));var Ke=[o,a,w,ke,le,Me,he,L,H,re],Ae=c.apply(t,Ke);return Cc(o)&&zh(Ae,Ke),Ae.placeholder=m,Hh(Ae,o,a)}function _c(o){var a=on[o];return function(c,m){if(c=hr(c),m=m==null?0:On(qe(m),292),m&&Hp(c)){var w=(Et(c)+"e").split("e"),S=a(w[0]+"e"+(+w[1]+m));return w=(Et(S)+"e").split("e"),+(w[0]+"e"+(+w[1]-m))}return a(c)}}var zk=os&&1/pa(new os([,-0]))[1]==F?function(o){return new os(o)}:Gc;function Ih(o){return function(a){var c=Mn(a);return c==_t?Vf(a):c==dn?ob(a):Qy(a,o(a))}}function ci(o,a,c,m,w,S,A,L){var H=a&b;if(!H&&typeof o!="function")throw new ur(i);var re=m?m.length:0;if(re||(a&=~(T|R),m=w=t),A=A===t?A:sn(qe(A),0),L=L===t?L:qe(L),re-=w?w.length:0,a&R){var ie=m,le=w;m=w=t}var he=H?t:yc(o),ke=[o,a,c,m,w,ie,le,S,A,L];if(he&&rE(ke,he),o=ke[0],a=ke[1],c=ke[2],m=ke[3],w=ke[4],L=ke[9]=ke[9]===t?H?0:o.length:sn(ke[9]-re,0),!L&&a&(y|O)&&(a&=~(y|O)),!a||a==v)var Me=Gk(o,a,c);else a==y||a==O?Me=Wk(o,a,L):(a==T||a==(v|T))&&!w.length?Me=Bk(o,a,c,m):Me=La.apply(t,ke);var Ke=he?ch:zh;return Hh(Ke(Me,ke),o,a)}function Nh(o,a,c,m){return o===t||Dr(o,is[c])&&!Tt.call(m,c)?a:o}function Ph(o,a,c,m,w,S){return Ht(o)&&Ht(a)&&(S.set(a,o),Ia(o,a,t,Ph,S),S.delete(a)),o}function Hk(o){return dl(o)?t:o}function xh(o,a,c,m,w,S){var A=c&g,L=o.length,H=a.length;if(L!=H&&!(A&&H>L))return!1;var re=S.get(o),ie=S.get(a);if(re&&ie)return re==a&&ie==o;var le=-1,he=!0,ke=c&_?new ho:t;for(S.set(o,a),S.set(a,o);++le<L;){var Me=o[le],Ke=a[le];if(m)var Ae=A?m(Ke,Me,le,a,o,S):m(Me,Ke,le,o,a,S);if(Ae!==t){if(Ae)continue;he=!1;break}if(ke){if(!Bf(a,function($e,lt){if(!Js(ke,lt)&&(Me===$e||w(Me,$e,c,m,S)))return ke.push(lt)})){he=!1;break}}else if(!(Me===Ke||w(Me,Ke,c,m,S))){he=!1;break}}return S.delete(o),S.delete(a),he}function Uk(o,a,c,m,w,S,A){switch(c){case Ln:if(o.byteLength!=a.byteLength||o.byteOffset!=a.byteOffset)return!1;o=o.buffer,a=a.buffer;case hn:return!(o.byteLength!=a.byteLength||!S(new wa(o),new wa(a)));case Ve:case xt:case Zt:return Dr(+o,+a);case mt:return o.name==a.name&&o.message==a.message;case Zn:case pn:return o==a+"";case _t:var L=Vf;case dn:var H=m&g;if(L||(L=pa),o.size!=a.size&&!H)return!1;var re=A.get(o);if(re)return re==a;m|=_,A.set(o,a);var ie=xh(L(o),L(a),m,w,S,A);return A.delete(o),ie;case Pn:if(rl)return rl.call(o)==rl.call(a)}return!1}function jk(o,a,c,m,w,S){var A=c&g,L=vc(o),H=L.length,re=vc(a),ie=re.length;if(H!=ie&&!A)return!1;for(var le=H;le--;){var he=L[le];if(!(A?he in a:Tt.call(a,he)))return!1}var ke=S.get(o),Me=S.get(a);if(ke&&Me)return ke==a&&Me==o;var Ke=!0;S.set(o,a),S.set(a,o);for(var Ae=A;++le<H;){he=L[le];var $e=o[he],lt=a[he];if(m)var tr=A?m(lt,$e,he,a,o,S):m($e,lt,he,o,a,S);if(!(tr===t?$e===lt||w($e,lt,c,m,S):tr)){Ke=!1;break}Ae||(Ae=he=="constructor")}if(Ke&&!Ae){var Yn=o.constructor,nr=a.constructor;Yn!=nr&&"constructor"in o&&"constructor"in a&&!(typeof Yn=="function"&&Yn instanceof Yn&&typeof nr=="function"&&nr instanceof nr)&&(Ke=!1)}return S.delete(o),S.delete(a),Ke}function di(o){return Tc(Wh(o,t,Zh),o+"")}function vc(o){return eh(o,mn,kc)}function wc(o){return eh(o,qn,Lh)}var yc=Sa?function(o){return Sa.get(o)}:Gc;function Ga(o){for(var a=o.name+"",c=ss[a],m=Tt.call(ss,a)?c.length:0;m--;){var w=c[m],S=w.func;if(S==null||S==o)return w.name}return a}function fs(o){var a=Tt.call(k,"placeholder")?k:o;return a.placeholder}function De(){var o=k.iteratee||Fc;return o=o===Fc?rh:o,arguments.length?o(arguments[0],arguments[1]):o}function Wa(o,a){var c=o.__data__;return $k(a)?c[typeof a=="string"?"string":"hash"]:c.map}function bc(o){for(var a=mn(o),c=a.length;c--;){var m=a[c],w=o[m];a[c]=[m,w,Yh(w)]}return a}function _o(o,a){var c=nb(o,a);return nh(c)?c:t}function qk(o){var a=Tt.call(o,co),c=o[co];try{o[co]=t;var m=!0}catch(S){}var w=_a.call(o);return m&&(a?o[co]=c:delete o[co]),w}var kc=Zf?function(o){return o==null?[]:(o=Mt(o),Ni(Zf(o),function(a){return Bp.call(o,a)}))}:Wc,Lh=Zf?function(o){for(var a=[];o;)Pi(a,kc(o)),o=ya(o);return a}:Wc,Mn=Rn;(Xf&&Mn(new Xf(new ArrayBuffer(1)))!=Ln||el&&Mn(new el)!=_t||Qf&&Mn(Qf.resolve())!=Re||os&&Mn(new os)!=dn||tl&&Mn(new tl)!=xn)&&(Mn=function(o){var a=Rn(o),c=a==nt?o.constructor:t,m=c?vo(c):"";if(m)switch(m){case Ob:return Ln;case Mb:return _t;case Ab:return Re;case Ib:return dn;case Nb:return xn}return a});function Vk(o,a,c){for(var m=-1,w=c.length;++m<w;){var S=c[m],A=S.size;switch(S.type){case"drop":o+=A;break;case"dropRight":a-=A;break;case"take":a=On(a,o+A);break;case"takeRight":o=sn(o,a-A);break}}return{start:o,end:a}}function Kk(o){var a=o.match(mf);return a?a[1].split(_f):[]}function Rh(o,a,c){a=Gi(a,o);for(var m=-1,w=a.length,S=!1;++m<w;){var A=Kr(a[m]);if(!(S=o!=null&&c(o,A)))break;o=o[A]}return S||++m!=w?S:(w=o==null?0:o.length,!!w&&Va(w)&&pi(A,w)&&(Be(o)||wo(o)))}function Zk(o){var a=o.length,c=new o.constructor(a);return a&&typeof o[0]=="string"&&Tt.call(o,"index")&&(c.index=o.index,c.input=o.input),c}function Fh(o){return typeof o.constructor=="function"&&!fl(o)?ls(ya(o)):{}}function Xk(o,a,c){var m=o.constructor;switch(a){case hn:return gc(o);case Ve:case xt:return new m(+o);case Ln:return Pk(o,c);case zn:case Hn:case Ii:case Ur:case so:case lo:case q:case Ce:case pt:return wh(o,c);case _t:return new m;case Zt:case pn:return new m(o);case Zn:return xk(o);case dn:return new m;case Pn:return Lk(o)}}function Qk(o,a){var c=a.length;if(!c)return o;var m=c-1;return a[m]=(c>1?"& ":"")+a[m],a=a.join(c>2?", ":" "),o.replace(gf,`{
/* [wrapped with `+a+`] */
`)}function Jk(o){return Be(o)||wo(o)||!!(zp&&o&&o[zp])}function pi(o,a){var c=typeof o;return a=a==null?Z:a,!!a&&(c=="number"||c!="symbol"&&Tf.test(o))&&o>-1&&o%1==0&&o<a}function Fn(o,a,c){if(!Ht(c))return!1;var m=typeof a;return(m=="number"?jn(c)&&pi(a,c.length):m=="string"&&a in c)?Dr(c[a],o):!1}function Ec(o,a){if(Be(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||er(o)?!0:cf.test(o)||!ff.test(o)||a!=null&&o in Mt(a)}function $k(o){var a=typeof o;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?o!=="__proto__":o===null}function Cc(o){var a=Ga(o),c=k[a];if(typeof c!="function"||!(a in rt.prototype))return!1;if(o===c)return!0;var m=yc(c);return!!m&&o===m[0]}function eE(o){return!!Yp&&Yp in o}var tE=ga?hi:Bc;function fl(o){var a=o&&o.constructor,c=typeof a=="function"&&a.prototype||is;return o===c}function Yh(o){return o===o&&!Ht(o)}function Gh(o,a){return function(c){return c==null?!1:c[o]===a&&(a!==t||o in Mt(c))}}function nE(o){var a=ja(o,function(m){return c.size===u&&c.clear(),m}),c=a.cache;return a}function rE(o,a){var c=o[1],m=a[1],w=c|m,S=w<(v|b|I),A=m==I&&c==y||m==I&&c==x&&o[7].length<=a[8]||m==(I|x)&&a[7].length<=a[8]&&c==y;if(!(S||A))return o;m&v&&(o[2]=a[2],w|=c&v?0:C);var L=a[3];if(L){var H=o[3];o[3]=H?bh(H,L,a[4]):L,o[4]=H?xi(o[3],f):a[4]}return L=a[5],L&&(H=o[5],o[5]=H?kh(H,L,a[6]):L,o[6]=H?xi(o[5],f):a[6]),L=a[7],L&&(o[7]=L),m&I&&(o[8]=o[8]==null?a[8]:On(o[8],a[8])),o[9]==null&&(o[9]=a[9]),o[0]=a[0],o[1]=w,o}function iE(o){var a=[];if(o!=null)for(var c in Mt(o))a.push(c);return a}function oE(o){return _a.call(o)}function Wh(o,a,c){return a=sn(a===t?o.length-1:a,0),function(){for(var m=arguments,w=-1,S=sn(m.length-a,0),A=V(S);++w<S;)A[w]=m[a+w];w=-1;for(var L=V(a+1);++w<a;)L[w]=m[w];return L[a]=c(A),Qn(o,this,L)}}function Bh(o,a){return a.length<2?o:mo(o,dr(a,0,-1))}function sE(o,a){for(var c=o.length,m=On(a.length,c),w=Un(o);m--;){var S=a[m];o[m]=pi(S,c)?w[S]:t}return o}function Sc(o,a){if(!(a==="constructor"&&typeof o[a]=="function")&&a!="__proto__")return o[a]}var zh=Uh(ch),cl=bb||function(o,a){return gn.setTimeout(o,a)},Tc=Uh(Mk);function Hh(o,a,c){var m=a+"";return Tc(o,Qk(m,lE(Kk(m),c)))}function Uh(o){var a=0,c=0;return function(){var m=Sb(),w=j-(m-c);if(c=m,w>0){if(++a>=ne)return arguments[0]}else a=0;return o.apply(t,arguments)}}function Ba(o,a){var c=-1,m=o.length,w=m-1;for(a=a===t?m:a;++c<a;){var S=ac(c,w),A=o[S];o[S]=o[c],o[c]=A}return o.length=a,o}var jh=nE(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(df,function(c,m,w,S){a.push(w?S.replace(yf,"$1"):m||c)}),a});function Kr(o){if(typeof o=="string"||er(o))return o;var a=o+"";return a=="0"&&1/o==-F?"-0":a}function vo(o){if(o!=null){try{return ma.call(o)}catch(a){}try{return o+""}catch(a){}}return""}function lE(o,a){return ar(se,function(c){var m="_."+c[0];a&c[1]&&!ca(o,m)&&o.push(m)}),o.sort()}function qh(o){if(o instanceof rt)return o.clone();var a=new fr(o.__wrapped__,o.__chain__);return a.__actions__=Un(o.__actions__),a.__index__=o.__index__,a.__values__=o.__values__,a}function aE(o,a,c){(c?Fn(o,a,c):a===t)?a=1:a=sn(qe(a),0);var m=o==null?0:o.length;if(!m||a<1)return[];for(var w=0,S=0,A=V(Ea(m/a));w<m;)A[S++]=dr(o,w,w+=a);return A}function uE(o){for(var a=-1,c=o==null?0:o.length,m=0,w=[];++a<c;){var S=o[a];S&&(w[m++]=S)}return w}function fE(){var o=arguments.length;if(!o)return[];for(var a=V(o-1),c=arguments[0],m=o;m--;)a[m-1]=arguments[m];return Pi(Be(c)?Un(c):[c],kn(a,1))}var cE=Xe(function(o,a){return Xt(o)?ol(o,kn(a,1,Xt,!0)):[]}),dE=Xe(function(o,a){var c=pr(a);return Xt(c)&&(c=t),Xt(o)?ol(o,kn(a,1,Xt,!0),De(c,2)):[]}),pE=Xe(function(o,a){var c=pr(a);return Xt(c)&&(c=t),Xt(o)?ol(o,kn(a,1,Xt,!0),t,c):[]});function hE(o,a,c){var m=o==null?0:o.length;return m?(a=c||a===t?1:qe(a),dr(o,a<0?0:a,m)):[]}function gE(o,a,c){var m=o==null?0:o.length;return m?(a=c||a===t?1:qe(a),a=m-a,dr(o,0,a<0?0:a)):[]}function mE(o,a){return o&&o.length?Pa(o,De(a,3),!0,!0):[]}function _E(o,a){return o&&o.length?Pa(o,De(a,3),!0):[]}function vE(o,a,c,m){var w=o==null?0:o.length;return w?(c&&typeof c!="number"&&Fn(o,a,c)&&(c=0,m=w),fk(o,a,c,m)):[]}function Vh(o,a,c){var m=o==null?0:o.length;if(!m)return-1;var w=c==null?0:qe(c);return w<0&&(w=sn(m+w,0)),da(o,De(a,3),w)}function Kh(o,a,c){var m=o==null?0:o.length;if(!m)return-1;var w=m-1;return c!==t&&(w=qe(c),w=c<0?sn(m+w,0):On(w,m-1)),da(o,De(a,3),w,!0)}function Zh(o){var a=o==null?0:o.length;return a?kn(o,1):[]}function wE(o){var a=o==null?0:o.length;return a?kn(o,F):[]}function yE(o,a){var c=o==null?0:o.length;return c?(a=a===t?1:qe(a),kn(o,a)):[]}function bE(o){for(var a=-1,c=o==null?0:o.length,m={};++a<c;){var w=o[a];m[w[0]]=w[1]}return m}function Xh(o){return o&&o.length?o[0]:t}function kE(o,a,c){var m=o==null?0:o.length;if(!m)return-1;var w=c==null?0:qe(c);return w<0&&(w=sn(m+w,0)),ts(o,a,w)}function EE(o){var a=o==null?0:o.length;return a?dr(o,0,-1):[]}var CE=Xe(function(o){var a=Bt(o,pc);return a.length&&a[0]===o[0]?rc(a):[]}),SE=Xe(function(o){var a=pr(o),c=Bt(o,pc);return a===pr(c)?a=t:c.pop(),c.length&&c[0]===o[0]?rc(c,De(a,2)):[]}),TE=Xe(function(o){var a=pr(o),c=Bt(o,pc);return a=typeof a=="function"?a:t,a&&c.pop(),c.length&&c[0]===o[0]?rc(c,t,a):[]});function DE(o,a){return o==null?"":Eb.call(o,a)}function pr(o){var a=o==null?0:o.length;return a?o[a-1]:t}function OE(o,a,c){var m=o==null?0:o.length;if(!m)return-1;var w=m;return c!==t&&(w=qe(c),w=w<0?sn(m+w,0):On(w,m-1)),a===a?lb(o,a,w):da(o,Ap,w,!0)}function ME(o,a){return o&&o.length?lh(o,qe(a)):t}var AE=Xe(Qh);function Qh(o,a){return o&&o.length&&a&&a.length?lc(o,a):o}function IE(o,a,c){return o&&o.length&&a&&a.length?lc(o,a,De(c,2)):o}function NE(o,a,c){return o&&o.length&&a&&a.length?lc(o,a,t,c):o}var PE=di(function(o,a){var c=o==null?0:o.length,m=$f(o,a);return fh(o,Bt(a,function(w){return pi(w,c)?+w:w}).sort(yh)),m});function xE(o,a){var c=[];if(!(o&&o.length))return c;var m=-1,w=[],S=o.length;for(a=De(a,3);++m<S;){var A=o[m];a(A,m,o)&&(c.push(A),w.push(m))}return fh(o,w),c}function Dc(o){return o==null?o:Db.call(o)}function LE(o,a,c){var m=o==null?0:o.length;return m?(c&&typeof c!="number"&&Fn(o,a,c)?(a=0,c=m):(a=a==null?0:qe(a),c=c===t?m:qe(c)),dr(o,a,c)):[]}function RE(o,a){return Na(o,a)}function FE(o,a,c){return fc(o,a,De(c,2))}function YE(o,a){var c=o==null?0:o.length;if(c){var m=Na(o,a);if(m<c&&Dr(o[m],a))return m}return-1}function GE(o,a){return Na(o,a,!0)}function WE(o,a,c){return fc(o,a,De(c,2),!0)}function BE(o,a){var c=o==null?0:o.length;if(c){var m=Na(o,a,!0)-1;if(Dr(o[m],a))return m}return-1}function zE(o){return o&&o.length?dh(o):[]}function HE(o,a){return o&&o.length?dh(o,De(a,2)):[]}function UE(o){var a=o==null?0:o.length;return a?dr(o,1,a):[]}function jE(o,a,c){return o&&o.length?(a=c||a===t?1:qe(a),dr(o,0,a<0?0:a)):[]}function qE(o,a,c){var m=o==null?0:o.length;return m?(a=c||a===t?1:qe(a),a=m-a,dr(o,a<0?0:a,m)):[]}function VE(o,a){return o&&o.length?Pa(o,De(a,3),!1,!0):[]}function KE(o,a){return o&&o.length?Pa(o,De(a,3)):[]}var ZE=Xe(function(o){return Yi(kn(o,1,Xt,!0))}),XE=Xe(function(o){var a=pr(o);return Xt(a)&&(a=t),Yi(kn(o,1,Xt,!0),De(a,2))}),QE=Xe(function(o){var a=pr(o);return a=typeof a=="function"?a:t,Yi(kn(o,1,Xt,!0),t,a)});function JE(o){return o&&o.length?Yi(o):[]}function $E(o,a){return o&&o.length?Yi(o,De(a,2)):[]}function eC(o,a){return a=typeof a=="function"?a:t,o&&o.length?Yi(o,t,a):[]}function Oc(o){if(!(o&&o.length))return[];var a=0;return o=Ni(o,function(c){if(Xt(c))return a=sn(c.length,a),!0}),jf(a,function(c){return Bt(o,zf(c))})}function Jh(o,a){if(!(o&&o.length))return[];var c=Oc(o);return a==null?c:Bt(c,function(m){return Qn(a,t,m)})}var tC=Xe(function(o,a){return Xt(o)?ol(o,a):[]}),nC=Xe(function(o){return dc(Ni(o,Xt))}),rC=Xe(function(o){var a=pr(o);return Xt(a)&&(a=t),dc(Ni(o,Xt),De(a,2))}),iC=Xe(function(o){var a=pr(o);return a=typeof a=="function"?a:t,dc(Ni(o,Xt),t,a)}),oC=Xe(Oc);function sC(o,a){return mh(o||[],a||[],il)}function lC(o,a){return mh(o||[],a||[],al)}var aC=Xe(function(o){var a=o.length,c=a>1?o[a-1]:t;return c=typeof c=="function"?(o.pop(),c):t,Jh(o,c)});function $h(o){var a=k(o);return a.__chain__=!0,a}function uC(o,a){return a(o),o}function za(o,a){return a(o)}var fC=di(function(o){var a=o.length,c=a?o[0]:0,m=this.__wrapped__,w=function(S){return $f(S,o)};return a>1||this.__actions__.length||!(m instanceof rt)||!pi(c)?this.thru(w):(m=m.slice(c,+c+(a?1:0)),m.__actions__.push({func:za,args:[w],thisArg:t}),new fr(m,this.__chain__).thru(function(S){return a&&!S.length&&S.push(t),S}))});function cC(){return $h(this)}function dC(){return new fr(this.value(),this.__chain__)}function pC(){this.__values__===t&&(this.__values__=pg(this.value()));var o=this.__index__>=this.__values__.length,a=o?t:this.__values__[this.__index__++];return{done:o,value:a}}function hC(){return this}function gC(o){for(var a,c=this;c instanceof Da;){var m=qh(c);m.__index__=0,m.__values__=t,a?w.__wrapped__=m:a=m;var w=m;c=c.__wrapped__}return w.__wrapped__=o,a}function mC(){var o=this.__wrapped__;if(o instanceof rt){var a=o;return this.__actions__.length&&(a=new rt(this)),a=a.reverse(),a.__actions__.push({func:za,args:[Dc],thisArg:t}),new fr(a,this.__chain__)}return this.thru(Dc)}function _C(){return gh(this.__wrapped__,this.__actions__)}var vC=xa(function(o,a,c){Tt.call(o,c)?++o[c]:fi(o,c,1)});function wC(o,a,c){var m=Be(o)?Op:uk;return c&&Fn(o,a,c)&&(a=t),m(o,De(a,3))}function yC(o,a){var c=Be(o)?Ni:Jp;return c(o,De(a,3))}var bC=Th(Vh),kC=Th(Kh);function EC(o,a){return kn(Ha(o,a),1)}function CC(o,a){return kn(Ha(o,a),F)}function SC(o,a,c){return c=c===t?1:qe(c),kn(Ha(o,a),c)}function eg(o,a){var c=Be(o)?ar:Fi;return c(o,De(a,3))}function tg(o,a){var c=Be(o)?Uy:Qp;return c(o,De(a,3))}var TC=xa(function(o,a,c){Tt.call(o,c)?o[c].push(a):fi(o,c,[a])});function DC(o,a,c,m){o=jn(o)?o:ds(o),c=c&&!m?qe(c):0;var w=o.length;return c<0&&(c=sn(w+c,0)),Ka(o)?c<=w&&o.indexOf(a,c)>-1:!!w&&ts(o,a,c)>-1}var OC=Xe(function(o,a,c){var m=-1,w=typeof a=="function",S=jn(o)?V(o.length):[];return Fi(o,function(A){S[++m]=w?Qn(a,A,c):sl(A,a,c)}),S}),MC=xa(function(o,a,c){fi(o,c,a)});function Ha(o,a){var c=Be(o)?Bt:ih;return c(o,De(a,3))}function AC(o,a,c,m){return o==null?[]:(Be(a)||(a=a==null?[]:[a]),c=m?t:c,Be(c)||(c=c==null?[]:[c]),ah(o,a,c))}var IC=xa(function(o,a,c){o[c?0:1].push(a)},function(){return[[],[]]});function NC(o,a,c){var m=Be(o)?Wf:Np,w=arguments.length<3;return m(o,De(a,4),c,w,Fi)}function PC(o,a,c){var m=Be(o)?jy:Np,w=arguments.length<3;return m(o,De(a,4),c,w,Qp)}function xC(o,a){var c=Be(o)?Ni:Jp;return c(o,qa(De(a,3)))}function LC(o){var a=Be(o)?Vp:Dk;return a(o)}function RC(o,a,c){(c?Fn(o,a,c):a===t)?a=1:a=qe(a);var m=Be(o)?ik:Ok;return m(o,a)}function FC(o){var a=Be(o)?ok:Ak;return a(o)}function YC(o){if(o==null)return 0;if(jn(o))return Ka(o)?rs(o):o.length;var a=Mn(o);return a==_t||a==dn?o.size:oc(o).length}function GC(o,a,c){var m=Be(o)?Bf:Ik;return c&&Fn(o,a,c)&&(a=t),m(o,De(a,3))}var WC=Xe(function(o,a){if(o==null)return[];var c=a.length;return c>1&&Fn(o,a[0],a[1])?a=[]:c>2&&Fn(a[0],a[1],a[2])&&(a=[a[0]]),ah(o,kn(a,1),[])}),Ua=yb||function(){return gn.Date.now()};function BC(o,a){if(typeof a!="function")throw new ur(i);return o=qe(o),function(){if(--o<1)return a.apply(this,arguments)}}function ng(o,a,c){return a=c?t:a,a=o&&a==null?o.length:a,ci(o,I,t,t,t,t,a)}function rg(o,a){var c;if(typeof a!="function")throw new ur(i);return o=qe(o),function(){return--o>0&&(c=a.apply(this,arguments)),o<=1&&(a=t),c}}var Mc=Xe(function(o,a,c){var m=v;if(c.length){var w=xi(c,fs(Mc));m|=T}return ci(o,m,a,c,w)}),ig=Xe(function(o,a,c){var m=v|b;if(c.length){var w=xi(c,fs(ig));m|=T}return ci(a,m,o,c,w)});function og(o,a,c){a=c?t:a;var m=ci(o,y,t,t,t,t,t,a);return m.placeholder=og.placeholder,m}function sg(o,a,c){a=c?t:a;var m=ci(o,O,t,t,t,t,t,a);return m.placeholder=sg.placeholder,m}function lg(o,a,c){var m,w,S,A,L,H,re=0,ie=!1,le=!1,he=!0;if(typeof o!="function")throw new ur(i);a=hr(a)||0,Ht(c)&&(ie=!!c.leading,le="maxWait"in c,S=le?sn(hr(c.maxWait)||0,a):S,he="trailing"in c?!!c.trailing:he);function ke(Qt){var Or=m,mi=w;return m=w=t,re=Qt,A=o.apply(mi,Or),A}function Me(Qt){return re=Qt,L=cl($e,a),ie?ke(Qt):A}function Ke(Qt){var Or=Qt-H,mi=Qt-re,Tg=a-Or;return le?On(Tg,S-mi):Tg}function Ae(Qt){var Or=Qt-H,mi=Qt-re;return H===t||Or>=a||Or<0||le&&mi>=S}function $e(){var Qt=Ua();if(Ae(Qt))return lt(Qt);L=cl($e,Ke(Qt))}function lt(Qt){return L=t,he&&m?ke(Qt):(m=w=t,A)}function tr(){L!==t&&_h(L),re=0,m=H=w=L=t}function Yn(){return L===t?A:lt(Ua())}function nr(){var Qt=Ua(),Or=Ae(Qt);if(m=arguments,w=this,H=Qt,Or){if(L===t)return Me(H);if(le)return _h(L),L=cl($e,a),ke(H)}return L===t&&(L=cl($e,a)),A}return nr.cancel=tr,nr.flush=Yn,nr}var zC=Xe(function(o,a){return Xp(o,1,a)}),HC=Xe(function(o,a,c){return Xp(o,hr(a)||0,c)});function UC(o){return ci(o,U)}function ja(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new ur(i);var c=function(){var m=arguments,w=a?a.apply(this,m):m[0],S=c.cache;if(S.has(w))return S.get(w);var A=o.apply(this,m);return c.cache=S.set(w,A)||S,A};return c.cache=new(ja.Cache||ui),c}ja.Cache=ui;function qa(o){if(typeof o!="function")throw new ur(i);return function(){var a=arguments;switch(a.length){case 0:return!o.call(this);case 1:return!o.call(this,a[0]);case 2:return!o.call(this,a[0],a[1]);case 3:return!o.call(this,a[0],a[1],a[2])}return!o.apply(this,a)}}function jC(o){return rg(2,o)}var qC=Nk(function(o,a){a=a.length==1&&Be(a[0])?Bt(a[0],Jn(De())):Bt(kn(a,1),Jn(De()));var c=a.length;return Xe(function(m){for(var w=-1,S=On(m.length,c);++w<S;)m[w]=a[w].call(this,m[w]);return Qn(o,this,m)})}),Ac=Xe(function(o,a){var c=xi(a,fs(Ac));return ci(o,T,t,a,c)}),ag=Xe(function(o,a){var c=xi(a,fs(ag));return ci(o,R,t,a,c)}),VC=di(function(o,a){return ci(o,x,t,t,t,a)});function KC(o,a){if(typeof o!="function")throw new ur(i);return a=a===t?a:qe(a),Xe(o,a)}function ZC(o,a){if(typeof o!="function")throw new ur(i);return a=a==null?0:sn(qe(a),0),Xe(function(c){var m=c[a],w=Wi(c,0,a);return m&&Pi(w,m),Qn(o,this,w)})}function XC(o,a,c){var m=!0,w=!0;if(typeof o!="function")throw new ur(i);return Ht(c)&&(m="leading"in c?!!c.leading:m,w="trailing"in c?!!c.trailing:w),lg(o,a,{leading:m,maxWait:a,trailing:w})}function QC(o){return ng(o,1)}function JC(o,a){return Ac(hc(a),o)}function $C(){if(!arguments.length)return[];var o=arguments[0];return Be(o)?o:[o]}function e2(o){return cr(o,h)}function t2(o,a){return a=typeof a=="function"?a:t,cr(o,h,a)}function n2(o){return cr(o,d|h)}function r2(o,a){return a=typeof a=="function"?a:t,cr(o,d|h,a)}function i2(o,a){return a==null||Zp(o,a,mn(a))}function Dr(o,a){return o===a||o!==o&&a!==a}var o2=Ya(nc),s2=Ya(function(o,a){return o>=a}),wo=th(function(){return arguments}())?th:function(o){return qt(o)&&Tt.call(o,"callee")&&!Bp.call(o,"callee")},Be=V.isArray,l2=kp?Jn(kp):gk;function jn(o){return o!=null&&Va(o.length)&&!hi(o)}function Xt(o){return qt(o)&&jn(o)}function a2(o){return o===!0||o===!1||qt(o)&&Rn(o)==Ve}var Bi=kb||Bc,u2=Ep?Jn(Ep):mk;function f2(o){return qt(o)&&o.nodeType===1&&!dl(o)}function c2(o){if(o==null)return!0;if(jn(o)&&(Be(o)||typeof o=="string"||typeof o.splice=="function"||Bi(o)||cs(o)||wo(o)))return!o.length;var a=Mn(o);if(a==_t||a==dn)return!o.size;if(fl(o))return!oc(o).length;for(var c in o)if(Tt.call(o,c))return!1;return!0}function d2(o,a){return ll(o,a)}function p2(o,a,c){c=typeof c=="function"?c:t;var m=c?c(o,a):t;return m===t?ll(o,a,t,c):!!m}function Ic(o){if(!qt(o))return!1;var a=Rn(o);return a==mt||a==Lt||typeof o.message=="string"&&typeof o.name=="string"&&!dl(o)}function h2(o){return typeof o=="number"&&Hp(o)}function hi(o){if(!Ht(o))return!1;var a=Rn(o);return a==bt||a==ct||a==be||a==Bn}function ug(o){return typeof o=="number"&&o==qe(o)}function Va(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Z}function Ht(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}function qt(o){return o!=null&&typeof o=="object"}var fg=Cp?Jn(Cp):vk;function g2(o,a){return o===a||ic(o,a,bc(a))}function m2(o,a,c){return c=typeof c=="function"?c:t,ic(o,a,bc(a),c)}function _2(o){return cg(o)&&o!=+o}function v2(o){if(tE(o))throw new Fe(r);return nh(o)}function w2(o){return o===null}function y2(o){return o==null}function cg(o){return typeof o=="number"||qt(o)&&Rn(o)==Zt}function dl(o){if(!qt(o)||Rn(o)!=nt)return!1;var a=ya(o);if(a===null)return!0;var c=Tt.call(a,"constructor")&&a.constructor;return typeof c=="function"&&c instanceof c&&ma.call(c)==mb}var Nc=Sp?Jn(Sp):wk;function b2(o){return ug(o)&&o>=-Z&&o<=Z}var dg=Tp?Jn(Tp):yk;function Ka(o){return typeof o=="string"||!Be(o)&&qt(o)&&Rn(o)==pn}function er(o){return typeof o=="symbol"||qt(o)&&Rn(o)==Pn}var cs=Dp?Jn(Dp):bk;function k2(o){return o===t}function E2(o){return qt(o)&&Mn(o)==xn}function C2(o){return qt(o)&&Rn(o)==bn}var S2=Ya(sc),T2=Ya(function(o,a){return o<=a});function pg(o){if(!o)return[];if(jn(o))return Ka(o)?Sr(o):Un(o);if($s&&o[$s])return ib(o[$s]());var a=Mn(o),c=a==_t?Vf:a==dn?pa:ds;return c(o)}function gi(o){if(!o)return o===0?o:0;if(o=hr(o),o===F||o===-F){var a=o<0?-1:1;return a*G}return o===o?o:0}function qe(o){var a=gi(o),c=a%1;return a===a?c?a-c:a:0}function hg(o){return o?go(qe(o),0,ae):0}function hr(o){if(typeof o=="number")return o;if(er(o))return te;if(Ht(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=Ht(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=Pp(o);var c=Ef.test(o);return c||Sf.test(o)?By(o.slice(2),c?2:8):kf.test(o)?te:+o}function gg(o){return Vr(o,qn(o))}function D2(o){return o?go(qe(o),-Z,Z):o===0?o:0}function Et(o){return o==null?"":$n(o)}var O2=as(function(o,a){if(fl(a)||jn(a)){Vr(a,mn(a),o);return}for(var c in a)Tt.call(a,c)&&il(o,c,a[c])}),mg=as(function(o,a){Vr(a,qn(a),o)}),Za=as(function(o,a,c,m){Vr(a,qn(a),o,m)}),M2=as(function(o,a,c,m){Vr(a,mn(a),o,m)}),A2=di($f);function I2(o,a){var c=ls(o);return a==null?c:Kp(c,a)}var N2=Xe(function(o,a){o=Mt(o);var c=-1,m=a.length,w=m>2?a[2]:t;for(w&&Fn(a[0],a[1],w)&&(m=1);++c<m;)for(var S=a[c],A=qn(S),L=-1,H=A.length;++L<H;){var re=A[L],ie=o[re];(ie===t||Dr(ie,is[re])&&!Tt.call(o,re))&&(o[re]=S[re])}return o}),P2=Xe(function(o){return o.push(t,Ph),Qn(_g,t,o)});function x2(o,a){return Mp(o,De(a,3),qr)}function L2(o,a){return Mp(o,De(a,3),tc)}function R2(o,a){return o==null?o:ec(o,De(a,3),qn)}function F2(o,a){return o==null?o:$p(o,De(a,3),qn)}function Y2(o,a){return o&&qr(o,De(a,3))}function G2(o,a){return o&&tc(o,De(a,3))}function W2(o){return o==null?[]:Aa(o,mn(o))}function B2(o){return o==null?[]:Aa(o,qn(o))}function Pc(o,a,c){var m=o==null?t:mo(o,a);return m===t?c:m}function z2(o,a){return o!=null&&Rh(o,a,ck)}function xc(o,a){return o!=null&&Rh(o,a,dk)}var H2=Oh(function(o,a,c){a!=null&&typeof a.toString!="function"&&(a=_a.call(a)),o[a]=c},Rc(Vn)),U2=Oh(function(o,a,c){a!=null&&typeof a.toString!="function"&&(a=_a.call(a)),Tt.call(o,a)?o[a].push(c):o[a]=[c]},De),j2=Xe(sl);function mn(o){return jn(o)?qp(o):oc(o)}function qn(o){return jn(o)?qp(o,!0):kk(o)}function q2(o,a){var c={};return a=De(a,3),qr(o,function(m,w,S){fi(c,a(m,w,S),m)}),c}function V2(o,a){var c={};return a=De(a,3),qr(o,function(m,w,S){fi(c,w,a(m,w,S))}),c}var K2=as(function(o,a,c){Ia(o,a,c)}),_g=as(function(o,a,c,m){Ia(o,a,c,m)}),Z2=di(function(o,a){var c={};if(o==null)return c;var m=!1;a=Bt(a,function(S){return S=Gi(S,o),m||(m=S.length>1),S}),Vr(o,wc(o),c),m&&(c=cr(c,d|p|h,Hk));for(var w=a.length;w--;)cc(c,a[w]);return c});function X2(o,a){return vg(o,qa(De(a)))}var Q2=di(function(o,a){return o==null?{}:Ck(o,a)});function vg(o,a){if(o==null)return{};var c=Bt(wc(o),function(m){return[m]});return a=De(a),uh(o,c,function(m,w){return a(m,w[0])})}function J2(o,a,c){a=Gi(a,o);var m=-1,w=a.length;for(w||(w=1,o=t);++m<w;){var S=o==null?t:o[Kr(a[m])];S===t&&(m=w,S=c),o=hi(S)?S.call(o):S}return o}function $2(o,a,c){return o==null?o:al(o,a,c)}function eS(o,a,c,m){return m=typeof m=="function"?m:t,o==null?o:al(o,a,c,m)}var wg=Ih(mn),yg=Ih(qn);function tS(o,a,c){var m=Be(o),w=m||Bi(o)||cs(o);if(a=De(a,4),c==null){var S=o&&o.constructor;w?c=m?new S:[]:Ht(o)?c=hi(S)?ls(ya(o)):{}:c={}}return(w?ar:qr)(o,function(A,L,H){return a(c,A,L,H)}),c}function nS(o,a){return o==null?!0:cc(o,a)}function rS(o,a,c){return o==null?o:hh(o,a,hc(c))}function iS(o,a,c,m){return m=typeof m=="function"?m:t,o==null?o:hh(o,a,hc(c),m)}function ds(o){return o==null?[]:qf(o,mn(o))}function oS(o){return o==null?[]:qf(o,qn(o))}function sS(o,a,c){return c===t&&(c=a,a=t),c!==t&&(c=hr(c),c=c===c?c:0),a!==t&&(a=hr(a),a=a===a?a:0),go(hr(o),a,c)}function lS(o,a,c){return a=gi(a),c===t?(c=a,a=0):c=gi(c),o=hr(o),pk(o,a,c)}function aS(o,a,c){if(c&&typeof c!="boolean"&&Fn(o,a,c)&&(a=c=t),c===t&&(typeof a=="boolean"?(c=a,a=t):typeof o=="boolean"&&(c=o,o=t)),o===t&&a===t?(o=0,a=1):(o=gi(o),a===t?(a=o,o=0):a=gi(a)),o>a){var m=o;o=a,a=m}if(c||o%1||a%1){var w=Up();return On(o+w*(a-o+Wy("1e-"+((w+"").length-1))),a)}return ac(o,a)}var uS=us(function(o,a,c){return a=a.toLowerCase(),o+(c?bg(a):a)});function bg(o){return Lc(Et(o).toLowerCase())}function kg(o){return o=Et(o),o&&o.replace(Df,$y).replace(Ay,"")}function fS(o,a,c){o=Et(o),a=$n(a);var m=o.length;c=c===t?m:go(qe(c),0,m);var w=c;return c-=a.length,c>=0&&o.slice(c,w)==a}function cS(o){return o=Et(o),o&&lf.test(o)?o.replace(Xo,eb):o}function dS(o){return o=Et(o),o&&pf.test(o)?o.replace(Ks,"\\$&"):o}var pS=us(function(o,a,c){return o+(c?"-":"")+a.toLowerCase()}),hS=us(function(o,a,c){return o+(c?" ":"")+a.toLowerCase()}),gS=Sh("toLowerCase");function mS(o,a,c){o=Et(o),a=qe(a);var m=a?rs(o):0;if(!a||m>=a)return o;var w=(a-m)/2;return Fa(Ca(w),c)+o+Fa(Ea(w),c)}function _S(o,a,c){o=Et(o),a=qe(a);var m=a?rs(o):0;return a&&m<a?o+Fa(a-m,c):o}function vS(o,a,c){o=Et(o),a=qe(a);var m=a?rs(o):0;return a&&m<a?Fa(a-m,c)+o:o}function wS(o,a,c){return c||a==null?a=0:a&&(a=+a),Tb(Et(o).replace(Zs,""),a||0)}function yS(o,a,c){return(c?Fn(o,a,c):a===t)?a=1:a=qe(a),uc(Et(o),a)}function bS(){var o=arguments,a=Et(o[0]);return o.length<3?a:a.replace(o[1],o[2])}var kS=us(function(o,a,c){return o+(c?"_":"")+a.toLowerCase()});function ES(o,a,c){return c&&typeof c!="number"&&Fn(o,a,c)&&(a=c=t),c=c===t?ae:c>>>0,c?(o=Et(o),o&&(typeof a=="string"||a!=null&&!Nc(a))&&(a=$n(a),!a&&ns(o))?Wi(Sr(o),0,c):o.split(a,c)):[]}var CS=us(function(o,a,c){return o+(c?" ":"")+Lc(a)});function SS(o,a,c){return o=Et(o),c=c==null?0:go(qe(c),0,o.length),a=$n(a),o.slice(c,c+a.length)==a}function TS(o,a,c){var m=k.templateSettings;c&&Fn(o,a,c)&&(a=t),o=Et(o),a=Za({},a,m,Nh);var w=Za({},a.imports,m.imports,Nh),S=mn(w),A=qf(w,S),L,H,re=0,ie=a.interpolate||Qo,le="__p += '",he=Kf((a.escape||Qo).source+"|"+ie.source+"|"+(ie===ia?bf:Qo).source+"|"+(a.evaluate||Qo).source+"|$","g"),ke="//# sourceURL="+(Tt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ly+"]")+`
`;o.replace(he,function(Ae,$e,lt,tr,Yn,nr){return lt||(lt=tr),le+=o.slice(re,nr).replace(Of,tb),$e&&(L=!0,le+=`' +
__e(`+$e+`) +
'`),Yn&&(H=!0,le+=`';
`+Yn+`;
__p += '`),lt&&(le+=`' +
((__t = (`+lt+`)) == null ? '' : __t) +
'`),re=nr+Ae.length,Ae}),le+=`';
`;var Me=Tt.call(a,"variable")&&a.variable;if(!Me)le=`with (obj) {
`+le+`
}
`;else if(wf.test(Me))throw new Fe(s);le=(H?le.replace(vt,""):le).replace(Xn,"$1").replace(si,"$1;"),le="function("+(Me||"obj")+`) {
`+(Me?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(H?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+le+`return __p
}`;var Ke=Cg(function(){return wt(S,ke+"return "+le).apply(t,A)});if(Ke.source=le,Ic(Ke))throw Ke;return Ke}function DS(o){return Et(o).toLowerCase()}function OS(o){return Et(o).toUpperCase()}function MS(o,a,c){if(o=Et(o),o&&(c||a===t))return Pp(o);if(!o||!(a=$n(a)))return o;var m=Sr(o),w=Sr(a),S=xp(m,w),A=Lp(m,w)+1;return Wi(m,S,A).join("")}function AS(o,a,c){if(o=Et(o),o&&(c||a===t))return o.slice(0,Fp(o)+1);if(!o||!(a=$n(a)))return o;var m=Sr(o),w=Lp(m,Sr(a))+1;return Wi(m,0,w).join("")}function IS(o,a,c){if(o=Et(o),o&&(c||a===t))return o.replace(Zs,"");if(!o||!(a=$n(a)))return o;var m=Sr(o),w=xp(m,Sr(a));return Wi(m,w).join("")}function NS(o,a){var c=D,m=Y;if(Ht(a)){var w="separator"in a?a.separator:w;c="length"in a?qe(a.length):c,m="omission"in a?$n(a.omission):m}o=Et(o);var S=o.length;if(ns(o)){var A=Sr(o);S=A.length}if(c>=S)return o;var L=c-rs(m);if(L<1)return m;var H=A?Wi(A,0,L).join(""):o.slice(0,L);if(w===t)return H+m;if(A&&(L+=H.length-L),Nc(w)){if(o.slice(L).search(w)){var re,ie=H;for(w.global||(w=Kf(w.source,Et(oa.exec(w))+"g")),w.lastIndex=0;re=w.exec(ie);)var le=re.index;H=H.slice(0,le===t?L:le)}}else if(o.indexOf($n(w),L)!=L){var he=H.lastIndexOf(w);he>-1&&(H=H.slice(0,he))}return H+m}function PS(o){return o=Et(o),o&&sf.test(o)?o.replace(Zo,ab):o}var xS=us(function(o,a,c){return o+(c?" ":"")+a.toUpperCase()}),Lc=Sh("toUpperCase");function Eg(o,a,c){return o=Et(o),a=c?t:a,a===t?rb(o)?cb(o):Ky(o):o.match(a)||[]}var Cg=Xe(function(o,a){try{return Qn(o,t,a)}catch(c){return Ic(c)?c:new Fe(c)}}),LS=di(function(o,a){return ar(a,function(c){c=Kr(c),fi(o,c,Mc(o[c],o))}),o});function RS(o){var a=o==null?0:o.length,c=De();return o=a?Bt(o,function(m){if(typeof m[1]!="function")throw new ur(i);return[c(m[0]),m[1]]}):[],Xe(function(m){for(var w=-1;++w<a;){var S=o[w];if(Qn(S[0],this,m))return Qn(S[1],this,m)}})}function FS(o){return ak(cr(o,d))}function Rc(o){return function(){return o}}function YS(o,a){return o==null||o!==o?a:o}var GS=Dh(),WS=Dh(!0);function Vn(o){return o}function Fc(o){return rh(typeof o=="function"?o:cr(o,d))}function BS(o){return oh(cr(o,d))}function zS(o,a){return sh(o,cr(a,d))}var HS=Xe(function(o,a){return function(c){return sl(c,o,a)}}),US=Xe(function(o,a){return function(c){return sl(o,c,a)}});function Yc(o,a,c){var m=mn(a),w=Aa(a,m);c==null&&!(Ht(a)&&(w.length||!m.length))&&(c=a,a=o,o=this,w=Aa(a,mn(a)));var S=!(Ht(c)&&"chain"in c)||!!c.chain,A=hi(o);return ar(w,function(L){var H=a[L];o[L]=H,A&&(o.prototype[L]=function(){var re=this.__chain__;if(S||re){var ie=o(this.__wrapped__),le=ie.__actions__=Un(this.__actions__);return le.push({func:H,args:arguments,thisArg:o}),ie.__chain__=re,ie}return H.apply(o,Pi([this.value()],arguments))})}),o}function jS(){return gn._===this&&(gn._=_b),this}function Gc(){}function qS(o){return o=qe(o),Xe(function(a){return lh(a,o)})}var VS=mc(Bt),KS=mc(Op),ZS=mc(Bf);function Sg(o){return Ec(o)?zf(Kr(o)):Sk(o)}function XS(o){return function(a){return o==null?t:mo(o,a)}}var QS=Mh(),JS=Mh(!0);function Wc(){return[]}function Bc(){return!1}function $S(){return{}}function eT(){return""}function tT(){return!0}function nT(o,a){if(o=qe(o),o<1||o>Z)return[];var c=ae,m=On(o,ae);a=De(a),o-=ae;for(var w=jf(m,a);++c<o;)a(c);return w}function rT(o){return Be(o)?Bt(o,Kr):er(o)?[o]:Un(jh(Et(o)))}function iT(o){var a=++gb;return Et(o)+a}var oT=Ra(function(o,a){return o+a},0),sT=_c("ceil"),lT=Ra(function(o,a){return o/a},1),aT=_c("floor");function uT(o){return o&&o.length?Ma(o,Vn,nc):t}function fT(o,a){return o&&o.length?Ma(o,De(a,2),nc):t}function cT(o){return Ip(o,Vn)}function dT(o,a){return Ip(o,De(a,2))}function pT(o){return o&&o.length?Ma(o,Vn,sc):t}function hT(o,a){return o&&o.length?Ma(o,De(a,2),sc):t}var gT=Ra(function(o,a){return o*a},1),mT=_c("round"),_T=Ra(function(o,a){return o-a},0);function vT(o){return o&&o.length?Uf(o,Vn):0}function wT(o,a){return o&&o.length?Uf(o,De(a,2)):0}return k.after=BC,k.ary=ng,k.assign=O2,k.assignIn=mg,k.assignInWith=Za,k.assignWith=M2,k.at=A2,k.before=rg,k.bind=Mc,k.bindAll=LS,k.bindKey=ig,k.castArray=$C,k.chain=$h,k.chunk=aE,k.compact=uE,k.concat=fE,k.cond=RS,k.conforms=FS,k.constant=Rc,k.countBy=vC,k.create=I2,k.curry=og,k.curryRight=sg,k.debounce=lg,k.defaults=N2,k.defaultsDeep=P2,k.defer=zC,k.delay=HC,k.difference=cE,k.differenceBy=dE,k.differenceWith=pE,k.drop=hE,k.dropRight=gE,k.dropRightWhile=mE,k.dropWhile=_E,k.fill=vE,k.filter=yC,k.flatMap=EC,k.flatMapDeep=CC,k.flatMapDepth=SC,k.flatten=Zh,k.flattenDeep=wE,k.flattenDepth=yE,k.flip=UC,k.flow=GS,k.flowRight=WS,k.fromPairs=bE,k.functions=W2,k.functionsIn=B2,k.groupBy=TC,k.initial=EE,k.intersection=CE,k.intersectionBy=SE,k.intersectionWith=TE,k.invert=H2,k.invertBy=U2,k.invokeMap=OC,k.iteratee=Fc,k.keyBy=MC,k.keys=mn,k.keysIn=qn,k.map=Ha,k.mapKeys=q2,k.mapValues=V2,k.matches=BS,k.matchesProperty=zS,k.memoize=ja,k.merge=K2,k.mergeWith=_g,k.method=HS,k.methodOf=US,k.mixin=Yc,k.negate=qa,k.nthArg=qS,k.omit=Z2,k.omitBy=X2,k.once=jC,k.orderBy=AC,k.over=VS,k.overArgs=qC,k.overEvery=KS,k.overSome=ZS,k.partial=Ac,k.partialRight=ag,k.partition=IC,k.pick=Q2,k.pickBy=vg,k.property=Sg,k.propertyOf=XS,k.pull=AE,k.pullAll=Qh,k.pullAllBy=IE,k.pullAllWith=NE,k.pullAt=PE,k.range=QS,k.rangeRight=JS,k.rearg=VC,k.reject=xC,k.remove=xE,k.rest=KC,k.reverse=Dc,k.sampleSize=RC,k.set=$2,k.setWith=eS,k.shuffle=FC,k.slice=LE,k.sortBy=WC,k.sortedUniq=zE,k.sortedUniqBy=HE,k.split=ES,k.spread=ZC,k.tail=UE,k.take=jE,k.takeRight=qE,k.takeRightWhile=VE,k.takeWhile=KE,k.tap=uC,k.throttle=XC,k.thru=za,k.toArray=pg,k.toPairs=wg,k.toPairsIn=yg,k.toPath=rT,k.toPlainObject=gg,k.transform=tS,k.unary=QC,k.union=ZE,k.unionBy=XE,k.unionWith=QE,k.uniq=JE,k.uniqBy=$E,k.uniqWith=eC,k.unset=nS,k.unzip=Oc,k.unzipWith=Jh,k.update=rS,k.updateWith=iS,k.values=ds,k.valuesIn=oS,k.without=tC,k.words=Eg,k.wrap=JC,k.xor=nC,k.xorBy=rC,k.xorWith=iC,k.zip=oC,k.zipObject=sC,k.zipObjectDeep=lC,k.zipWith=aC,k.entries=wg,k.entriesIn=yg,k.extend=mg,k.extendWith=Za,Yc(k,k),k.add=oT,k.attempt=Cg,k.camelCase=uS,k.capitalize=bg,k.ceil=sT,k.clamp=sS,k.clone=e2,k.cloneDeep=n2,k.cloneDeepWith=r2,k.cloneWith=t2,k.conformsTo=i2,k.deburr=kg,k.defaultTo=YS,k.divide=lT,k.endsWith=fS,k.eq=Dr,k.escape=cS,k.escapeRegExp=dS,k.every=wC,k.find=bC,k.findIndex=Vh,k.findKey=x2,k.findLast=kC,k.findLastIndex=Kh,k.findLastKey=L2,k.floor=aT,k.forEach=eg,k.forEachRight=tg,k.forIn=R2,k.forInRight=F2,k.forOwn=Y2,k.forOwnRight=G2,k.get=Pc,k.gt=o2,k.gte=s2,k.has=z2,k.hasIn=xc,k.head=Xh,k.identity=Vn,k.includes=DC,k.indexOf=kE,k.inRange=lS,k.invoke=j2,k.isArguments=wo,k.isArray=Be,k.isArrayBuffer=l2,k.isArrayLike=jn,k.isArrayLikeObject=Xt,k.isBoolean=a2,k.isBuffer=Bi,k.isDate=u2,k.isElement=f2,k.isEmpty=c2,k.isEqual=d2,k.isEqualWith=p2,k.isError=Ic,k.isFinite=h2,k.isFunction=hi,k.isInteger=ug,k.isLength=Va,k.isMap=fg,k.isMatch=g2,k.isMatchWith=m2,k.isNaN=_2,k.isNative=v2,k.isNil=y2,k.isNull=w2,k.isNumber=cg,k.isObject=Ht,k.isObjectLike=qt,k.isPlainObject=dl,k.isRegExp=Nc,k.isSafeInteger=b2,k.isSet=dg,k.isString=Ka,k.isSymbol=er,k.isTypedArray=cs,k.isUndefined=k2,k.isWeakMap=E2,k.isWeakSet=C2,k.join=DE,k.kebabCase=pS,k.last=pr,k.lastIndexOf=OE,k.lowerCase=hS,k.lowerFirst=gS,k.lt=S2,k.lte=T2,k.max=uT,k.maxBy=fT,k.mean=cT,k.meanBy=dT,k.min=pT,k.minBy=hT,k.stubArray=Wc,k.stubFalse=Bc,k.stubObject=$S,k.stubString=eT,k.stubTrue=tT,k.multiply=gT,k.nth=ME,k.noConflict=jS,k.noop=Gc,k.now=Ua,k.pad=mS,k.padEnd=_S,k.padStart=vS,k.parseInt=wS,k.random=aS,k.reduce=NC,k.reduceRight=PC,k.repeat=yS,k.replace=bS,k.result=J2,k.round=mT,k.runInContext=B,k.sample=LC,k.size=YC,k.snakeCase=kS,k.some=GC,k.sortedIndex=RE,k.sortedIndexBy=FE,k.sortedIndexOf=YE,k.sortedLastIndex=GE,k.sortedLastIndexBy=WE,k.sortedLastIndexOf=BE,k.startCase=CS,k.startsWith=SS,k.subtract=_T,k.sum=vT,k.sumBy=wT,k.template=TS,k.times=nT,k.toFinite=gi,k.toInteger=qe,k.toLength=hg,k.toLower=DS,k.toNumber=hr,k.toSafeInteger=D2,k.toString=Et,k.toUpper=OS,k.trim=MS,k.trimEnd=AS,k.trimStart=IS,k.truncate=NS,k.unescape=PS,k.uniqueId=iT,k.upperCase=xS,k.upperFirst=Lc,k.each=eg,k.eachRight=tg,k.first=Xh,Yc(k,function(){var o={};return qr(k,function(a,c){Tt.call(k.prototype,c)||(o[c]=a)}),o}(),{chain:!1}),k.VERSION=e,ar(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){k[o].placeholder=k}),ar(["drop","take"],function(o,a){rt.prototype[o]=function(c){c=c===t?1:sn(qe(c),0);var m=this.__filtered__&&!a?new rt(this):this.clone();return m.__filtered__?m.__takeCount__=On(c,m.__takeCount__):m.__views__.push({size:On(c,ae),type:o+(m.__dir__<0?"Right":"")}),m},rt.prototype[o+"Right"]=function(c){return this.reverse()[o](c).reverse()}}),ar(["filter","map","takeWhile"],function(o,a){var c=a+1,m=c==oe||c==Te;rt.prototype[o]=function(w){var S=this.clone();return S.__iteratees__.push({iteratee:De(w,3),type:c}),S.__filtered__=S.__filtered__||m,S}}),ar(["head","last"],function(o,a){var c="take"+(a?"Right":"");rt.prototype[o]=function(){return this[c](1).value()[0]}}),ar(["initial","tail"],function(o,a){var c="drop"+(a?"":"Right");rt.prototype[o]=function(){return this.__filtered__?new rt(this):this[c](1)}}),rt.prototype.compact=function(){return this.filter(Vn)},rt.prototype.find=function(o){return this.filter(o).head()},rt.prototype.findLast=function(o){return this.reverse().find(o)},rt.prototype.invokeMap=Xe(function(o,a){return typeof o=="function"?new rt(this):this.map(function(c){return sl(c,o,a)})}),rt.prototype.reject=function(o){return this.filter(qa(De(o)))},rt.prototype.slice=function(o,a){o=qe(o);var c=this;return c.__filtered__&&(o>0||a<0)?new rt(c):(o<0?c=c.takeRight(-o):o&&(c=c.drop(o)),a!==t&&(a=qe(a),c=a<0?c.dropRight(-a):c.take(a-o)),c)},rt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},rt.prototype.toArray=function(){return this.take(ae)},qr(rt.prototype,function(o,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),m=/^(?:head|last)$/.test(a),w=k[m?"take"+(a=="last"?"Right":""):a],S=m||/^find/.test(a);!w||(k.prototype[a]=function(){var A=this.__wrapped__,L=m?[1]:arguments,H=A instanceof rt,re=L[0],ie=H||Be(A),le=function($e){var lt=w.apply(k,Pi([$e],L));return m&&he?lt[0]:lt};ie&&c&&typeof re=="function"&&re.length!=1&&(H=ie=!1);var he=this.__chain__,ke=!!this.__actions__.length,Me=S&&!he,Ke=H&&!ke;if(!S&&ie){A=Ke?A:new rt(this);var Ae=o.apply(A,L);return Ae.__actions__.push({func:za,args:[le],thisArg:t}),new fr(Ae,he)}return Me&&Ke?o.apply(this,L):(Ae=this.thru(le),Me?m?Ae.value()[0]:Ae.value():Ae)})}),ar(["pop","push","shift","sort","splice","unshift"],function(o){var a=ha[o],c=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",m=/^(?:pop|shift)$/.test(o);k.prototype[o]=function(){var w=arguments;if(m&&!this.__chain__){var S=this.value();return a.apply(Be(S)?S:[],w)}return this[c](function(A){return a.apply(Be(A)?A:[],w)})}}),qr(rt.prototype,function(o,a){var c=k[a];if(c){var m=c.name+"";Tt.call(ss,m)||(ss[m]=[]),ss[m].push({name:a,func:c})}}),ss[La(t,b).name]=[{name:"wrapper",func:t}],rt.prototype.clone=Pb,rt.prototype.reverse=xb,rt.prototype.value=Lb,k.prototype.at=fC,k.prototype.chain=cC,k.prototype.commit=dC,k.prototype.next=pC,k.prototype.plant=gC,k.prototype.reverse=mC,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=_C,k.prototype.first=k.prototype.head,$s&&(k.prototype[$s]=hC),k},Li=db();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(gn._=Li,define(function(){return Li})):fo?((fo.exports=Li)._=Li,Ff._=Li):gn._=Li}).call(bs)});var Ed=yo((zP,Su)=>{var r_,i_,o_,s_,l_,a_,u_,f_,c_,Eu,kd,d_,p_,h_,Os,g_,m_,__,v_,w_,y_,b_,k_,Cu;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):typeof Su=="object"&&typeof Su.exports=="object"?t(n(e,n(Su.exports))):t(n(e));function n(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(s,l){return r[s]=i?i(s,l):l}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])};r_=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function s(){this.constructor=r}r.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},i_=Object.assign||function(r){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(r[u]=i[u])}return r},o_=function(r,i){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(s[l[u]]=r[l[u]]);return s},s_=function(r,i,s,l){var u=arguments.length,f=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(d=r[p])&&(f=(u<3?d(f):u>3?d(i,s,f):d(i,s))||f);return u>3&&f&&Object.defineProperty(i,s,f),f},l_=function(r,i){return function(s,l){i(s,l,r)}},a_=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},u_=function(r,i,s,l){function u(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function p(_){try{g(l.next(_))}catch(v){d(v)}}function h(_){try{g(l.throw(_))}catch(v){d(v)}}function g(_){_.done?f(_.value):u(_.value).then(p,h)}g((l=l.apply(r,i||[])).next())})},f_=function(r,i){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,u,f,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(g){return function(_){return h([g,_])}}function h(g){if(l)throw new TypeError("Generator is already executing.");for(;s;)try{if(l=1,u&&(f=g[0]&2?u.return:g[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,g[1])).done)return f;switch(u=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,u=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){s.label=g[1];break}if(g[0]===6&&s.label<f[1]){s.label=f[1],f=g;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(g);break}f[2]&&s.ops.pop(),s.trys.pop();continue}g=i.call(r,s)}catch(_){g=[6,_],u=0}finally{l=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},c_=function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&Cu(i,r,s)},Cu=Object.create?function(r,i,s,l){l===void 0&&(l=s),Object.defineProperty(r,l,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,l){l===void 0&&(l=s),r[l]=i[s]},Eu=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&r[i],l=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},kd=function(r,i){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var l=s.call(r),u,f=[],d;try{for(;(i===void 0||i-- >0)&&!(u=l.next()).done;)f.push(u.value)}catch(p){d={error:p}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return f},d_=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(kd(arguments[i]));return r},p_=function(){for(var r=0,i=0,s=arguments.length;i<s;i++)r+=arguments[i].length;for(var l=Array(r),u=0,i=0;i<s;i++)for(var f=arguments[i],d=0,p=f.length;d<p;d++,u++)l[u]=f[d];return l},h_=function(r,i){for(var s=0,l=i.length,u=r.length;s<l;s++,u++)r[u]=i[s];return r},Os=function(r){return this instanceof Os?(this.v=r,this):new Os(r)},g_=function(r,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(r,i||[]),u,f=[];return u={},d("next"),d("throw"),d("return"),u[Symbol.asyncIterator]=function(){return this},u;function d(b){l[b]&&(u[b]=function(C){return new Promise(function(y,O){f.push([b,C,y,O])>1||p(b,C)})})}function p(b,C){try{h(l[b](C))}catch(y){v(f[0][3],y)}}function h(b){b.value instanceof Os?Promise.resolve(b.value.v).then(g,_):v(f[0][2],b)}function g(b){p("next",b)}function _(b){p("throw",b)}function v(b,C){b(C),f.shift(),f.length&&p(f[0][0],f[0][1])}},m_=function(r){var i,s;return i={},l("next"),l("throw",function(u){throw u}),l("return"),i[Symbol.iterator]=function(){return this},i;function l(u,f){i[u]=r[u]?function(d){return(s=!s)?{value:Os(r[u](d)),done:u==="return"}:f?f(d):d}:f}},__=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],s;return i?i.call(r):(r=typeof Eu=="function"?Eu(r):r[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(f){s[f]=r[f]&&function(d){return new Promise(function(p,h){d=r[f](d),u(p,h,d.done,d.value)})}}function u(f,d,p,h){Promise.resolve(h).then(function(g){f({value:g,done:p})},d)}},v_=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var n=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};w_=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)&&Cu(i,r,s);return n(i,r),i},y_=function(r){return r&&r.__esModule?r:{default:r}},b_=function(r,i,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!l:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(r):l?l.value:i.get(r)},k_=function(r,i,s,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!u:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(r,s):u?u.value=s:i.set(r,s),s},t("__extends",r_),t("__assign",i_),t("__rest",o_),t("__decorate",s_),t("__param",l_),t("__metadata",a_),t("__awaiter",u_),t("__generator",f_),t("__exportStar",c_),t("__createBinding",Cu),t("__values",Eu),t("__read",kd),t("__spread",d_),t("__spreadArrays",p_),t("__spreadArray",h_),t("__await",Os),t("__asyncGenerator",g_),t("__asyncDelegator",m_),t("__asyncValues",__),t("__makeTemplateObject",v_),t("__importStar",w_),t("__importDefault",y_),t("__classPrivateFieldGet",b_),t("__classPrivateFieldSet",k_)})});var K_=yo((eL,Iu)=>{var O_,M_,A_,I_,N_,P_,x_,L_,R_,Au,Od,F_,Y_,As,G_,W_,B_,z_,H_,U_,j_,q_,V_;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):typeof Iu=="object"&&typeof Iu.exports=="object"?t(n(e,n(Iu.exports))):t(n(e));function n(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(s,l){return r[s]=i?i(s,l):l}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])};O_=function(n,r){e(n,r);function i(){this.constructor=n}n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)},M_=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])}return n},A_=function(n,r){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)r.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(i[s[l]]=n[s[l]]);return i},I_=function(n,r,i,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,i):s,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,r,i,s);else for(var d=n.length-1;d>=0;d--)(f=n[d])&&(u=(l<3?f(u):l>3?f(r,i,u):f(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},N_=function(n,r){return function(i,s){r(i,s,n)}},P_=function(n,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,r)},x_=function(n,r,i,s){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function d(g){try{h(s.next(g))}catch(_){f(_)}}function p(g){try{h(s.throw(g))}catch(_){f(_)}}function h(g){g.done?u(g.value):l(g.value).then(d,p)}h((s=s.apply(n,r||[])).next())})},L_=function(n,r){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(h){return function(g){return p([h,g])}}function p(h){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,l&&(u=h[0]&2?l.return:h[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,h[1])).done)return u;switch(l=0,u&&(h=[h[0]&2,u.value]),h[0]){case 0:case 1:u=h;break;case 4:return i.label++,{value:h[1],done:!1};case 5:i.label++,l=h[1],h=[0];continue;case 7:h=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(h[0]===6||h[0]===2)){i=0;continue}if(h[0]===3&&(!u||h[1]>u[0]&&h[1]<u[3])){i.label=h[1];break}if(h[0]===6&&i.label<u[1]){i.label=u[1],u=h;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(h);break}u[2]&&i.ops.pop(),i.trys.pop();continue}h=r.call(n,i)}catch(g){h=[6,g],l=0}finally{s=u=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},V_=function(n,r,i,s){s===void 0&&(s=i),n[s]=r[i]},R_=function(n,r){for(var i in n)i!=="default"&&!r.hasOwnProperty(i)&&(r[i]=n[i])},Au=function(n){var r=typeof Symbol=="function"&&Symbol.iterator,i=r&&n[r],s=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Od=function(n,r){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var s=i.call(n),l,u=[],f;try{for(;(r===void 0||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(d){f={error:d}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(f)throw f.error}}return u},F_=function(){for(var n=[],r=0;r<arguments.length;r++)n=n.concat(Od(arguments[r]));return n},Y_=function(){for(var n=0,r=0,i=arguments.length;r<i;r++)n+=arguments[r].length;for(var s=Array(n),l=0,r=0;r<i;r++)for(var u=arguments[r],f=0,d=u.length;f<d;f++,l++)s[l]=u[f];return s},As=function(n){return this instanceof As?(this.v=n,this):new As(n)},G_=function(n,r,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(n,r||[]),l,u=[];return l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l;function f(v){s[v]&&(l[v]=function(b){return new Promise(function(C,y){u.push([v,b,C,y])>1||d(v,b)})})}function d(v,b){try{p(s[v](b))}catch(C){_(u[0][3],C)}}function p(v){v.value instanceof As?Promise.resolve(v.value.v).then(h,g):_(u[0][2],v)}function h(v){d("next",v)}function g(v){d("throw",v)}function _(v,b){v(b),u.shift(),u.length&&d(u[0][0],u[0][1])}},W_=function(n){var r,i;return r={},s("next"),s("throw",function(l){throw l}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(l,u){r[l]=n[l]?function(f){return(i=!i)?{value:As(n[l](f)),done:l==="return"}:u?u(f):f}:u}},B_=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],i;return r?r.call(n):(n=typeof Au=="function"?Au(n):n[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=n[u]&&function(f){return new Promise(function(d,p){f=n[u](f),l(d,p,f.done,f.value)})}}function l(u,f,d,p){Promise.resolve(p).then(function(h){u({value:h,done:d})},f)}},z_=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},H_=function(n){if(n&&n.__esModule)return n;var r={};if(n!=null)for(var i in n)Object.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r.default=n,r},U_=function(n){return n&&n.__esModule?n:{default:n}},j_=function(n,r){if(!r.has(n))throw new TypeError("attempted to get private field on non-instance");return r.get(n)},q_=function(n,r,i){if(!r.has(n))throw new TypeError("attempted to set private field on non-instance");return r.set(n,i),i},t("__extends",O_),t("__assign",M_),t("__rest",A_),t("__decorate",I_),t("__param",N_),t("__metadata",P_),t("__awaiter",x_),t("__generator",L_),t("__exportStar",R_),t("__createBinding",V_),t("__values",Au),t("__read",Od),t("__spread",F_),t("__spreadArrays",Y_),t("__await",As),t("__asyncGenerator",G_),t("__asyncDelegator",W_),t("__asyncValues",B_),t("__makeTemplateObject",z_),t("__importStar",H_),t("__importDefault",U_),t("__classPrivateFieldGet",j_),t("__classPrivateFieldSet",q_)})});var U0=yo(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.isDate=no.isComparable=no.isIterable=void 0;no.isIterable=t=>!(t==null||t[Symbol.iterator]==null);no.isComparable=t=>{let e=Object.prototype.toString,n=t;return n.compare!=null&&e.call(n.compare).endsWith("Function]")};no.isDate=t=>Object.prototype.toString.call(t).endsWith("Date]")});var q0=yo(j0=>{"use strict";Object.defineProperty(j0,"__esModule",{value:!0})});var V0=yo(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});var z6=Ed(),tp=U0(),H6=(t,e)=>t-e,U6=(t,e)=>Number(t-e),j6=(t,e)=>t.localeCompare(e),q6=(t,e)=>t.getTime()-e.getTime(),Hs={number:H6,string:j6,Date:q6,bigInt:U6,none:()=>0},V6=t=>{if(typeof t=="number")return Hs.number;if(typeof t=="string")return Hs.string;if(typeof t=="bigint")return Hs.bigInt;if(tp.isDate(t))return Hs.Date;if(tp.isComparable(t))return(e,n)=>e.compare(n);throw new Error("Cannot sort keys in this map. You have to specify compareFn if the type of key in this map is not number, string, or Date.")},jo=class extends Map{constructor(e,n){super();this.specifiedCompareFn=!1,this.isCompareFn=r=>typeof r=="function",this.compareFn=Hs.none,this.sortedKeys=[],tp.isIterable(e)&&this._constructor(e,n),this.isCompareFn(e)&&this._constructor(null,e),e==null&&this._constructor(null,n)}get comparator(){return this.compareFn}compare(e,n){return Math.sign(this.compareFn(e,n))}_constructor(e,n){if(this.compareFn=n==null?Hs.none:n,this.specifiedCompareFn=n!=null,e!=null)for(let r of e)this.set(...r)}static fromMap(e,n){let r=new jo(n);return r.setAll(e),r}duplicate(){return jo.fromMap(this,this.compareFn)}toMap(){let e=new Map,n=Array.from(super.entries());return n.sort((r,i)=>this.compareFn(r[0],i[0])),n.forEach(([r,i])=>{e.set(r,i)}),e}reverseKeys(){return[...this.sortedKeys].reverse().values()}get(e){let n=this.sortedKeys.find(r=>this.comparator(r,e)===0);if(n!=null)return super.get(n)}set(e,n){this.sortedKeys.length===0&&!this.specifiedCompareFn&&(this.compareFn=V6(e),this.specifiedCompareFn=!0);let r=this.sortedKeys.find(i=>this.compareFn(i,e)===0);return r==null?(this.sortedKeys.push(e),super.set(e,n)):super.set(r,n),this.sortedKeys.sort(this.compareFn),this}setAll(e){return e.forEach((n,r)=>{this.set(r,n)}),this}delete(e){return super.delete(e)?(this.sortedKeys=this.sortedKeys.filter(n=>this.compare(n,e)!==0),!0):!1}clear(){super.clear(),this.sortedKeys=[]}keys(){return this.sortedKeys.values()}values(){return this.sortedKeys.map(e=>super.get(e)).values()}entries(){return this.toMap().entries()}firstEntry(){let e=this.firstKey();if(e==null)return;let n=this.get(e);return n===void 0?void 0:[e,n]}firstKey(){return this.sortedKeys[0]}lastEntry(){let e=this.lastKey();if(e==null)return;let n=this.get(e);return n===void 0?void 0:[e,n]}lastKey(){return[...this.sortedKeys].reverse()[0]}shiftEntry(){let e=this.firstEntry();if(e!=null)return this.delete(e[0]),e}popEntry(){let e=this.lastEntry();if(e!=null)return this.delete(e[0]),e}floorEntry(e){let n=this.floorKey(e);if(n!=null){let r=this.get(n);return r===void 0?void 0:[n,r]}}floorKey(e){return this.sortedKeys.filter(r=>this.compare(r,e)<=0).reverse()[0]}ceilingEntry(e){let n=this.ceilingKey(e);if(n!=null){let r=this.get(n);return r===void 0?void 0:[n,r]}}ceilingKey(e){return this.sortedKeys.filter(r=>this.compare(r,e)>=0)[0]}lowerEntry(e){let n=this.lowerKey(e);if(n!=null){let r=this.get(n);return r===void 0?void 0:[n,r]}}lowerKey(e){return this.sortedKeys.filter(r=>this.compare(r,e)<0).reverse()[0]}higherEntry(e){let n=this.higherKey(e);if(n!=null){let r=this.get(n);return r===void 0?void 0:[n,r]}}higherKey(e){return this.sortedKeys.filter(r=>this.compare(r,e)>0)[0]}splitLower(e,n=!0){let r=Array.from(this.entries()).filter(i=>{let s=this.compare(i[0],e)<0;return n?s||this.compare(i[0],e)===0:s});return new jo(r,this.compareFn)}splitHigher(e,n=!0){let r=Array.from(this.entries()).filter(i=>{let s=this.compare(i[0],e)>0;return n?s||this.compare(i[0],e)===0:s});return new jo(r,this.compareFn)}forEach(e,n){Array.from(this.entries()).forEach(([r,i])=>{e(i,r,this)},n)}};Ku.default=jo;z6.__exportStar(q0(),Ku)});DT(exports,{default:()=>me});var oo=Ye(require("obsidian"));var zc=Ye(require("obsidian")),Qa=new Map;function He(t,e=!1){let n=window.moment();Qa.has(t)?(Qa.get(t).isBefore(n)||e)&&(new zc.Notice(t),Qa.set(t,n.add(1,"minute"))):(console.log(`[Google Calendar] ${t}`),new zc.Notice(t),Qa.set(t,n.add(0,"minute")))}var at=Ye(require("obsidian"));var Ja=()=>{var t;return(t=window.localStorage.getItem("googleCalendarAccessToken"))!=null?t:""},ps=()=>{var t;return(t=window.localStorage.getItem("googleCalendarRefreshToken"))!=null?t:""},$a=()=>{var e;let t=(e=window.localStorage.getItem("googleCalendarExpirationTime"))!=null?e:"0";return parseInt(t,10)},vi=t=>{window.localStorage.setItem("googleCalendarAccessToken",t)},zi=t=>{t!="undefined"&&window.localStorage.setItem("googleCalendarRefreshToken",t)},wi=t=>{isNaN(t)||window.localStorage.setItem("googleCalendarExpirationTime",t+"")};var Hi=Ye(require("obsidian"));var Hc=42813,Ig=`http://127.0.0.1:${Hc}/callback`,Ng="https://google-auth-obsidian-redirect.vercel.app/callback",eu="783376961232-v90b17gr1mj1s2mnmdauvkp77u6htpke.apps.googleusercontent.com",n4=window.moment().subtract(100,"seconds"),At={server:null,verifier:null,challenge:null,state:null};function Pg(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function xg(){return K(this,null,function*(){let t=new Uint32Array(56);return yield window.crypto.getRandomValues(t),Array.from(t,e=>("0"+e.toString(16)).substr(-2)).join("")})}function Lg(t){return K(this,null,function*(){let e=new TextEncoder().encode(t),n=yield window.crypto.subtle.digest("SHA-256",e);return btoa(String.fromCharCode(...new Uint8Array(n))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")})}function MT(){if(!(!Ja()||Ja()=="")&&!!$a()&&!isNaN($a())&&!($a()<+new Date))return Ja()}var AT=t=>K(void 0,null,function*(){var i,s;let e=t.settings.useCustomClient,n={grant_type:"refresh_token",client_id:e?(i=t.settings.googleClientId)==null?void 0:i.trim():eu,client_secret:e?(s=t.settings.googleClientSecret)==null?void 0:s.trim():null,refresh_token:ps()},{json:r}=yield(0,Hi.requestUrl)({method:"POST",url:e?"https://oauth2.googleapis.com/token":`${t.settings.googleOAuthServer}/api/google/refresh`,headers:{"content-type":"application/json"},body:JSON.stringify(n)});if(!r){He("Error while refreshing authentication");return}return vi(r.access_token),wi(+new Date+r.expires_in*1e3),r.access_token}),IT=(t,e,n,r)=>K(void 0,null,function*(){return(yield(0,Hi.requestUrl)({method:"POST",url:`${t.settings.googleOAuthServer}/api/google/token`,headers:{"content-type":"application/json"},body:JSON.stringify({client_id:eu,code_verifier:n,code:r,state:e})})).json}),Rg=(t,e,n,r,i)=>K(void 0,null,function*(){var u,f;let s=`https://oauth2.googleapis.com/token?grant_type=authorization_code&client_id=${(u=t.settings.googleClientId)==null?void 0:u.trim()}&client_secret=${(f=t.settings.googleClientSecret)==null?void 0:f.trim()}&code_verifier=${n}&code=${r}&state=${e}&redirect_uri=${i?Ng:Ig}`;return(yield fetch(s,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"}})).json()});function Fg(t){return K(this,null,function*(){if(!It())return;let e=MT();if(e||(e=yield AT(t)),!!e)return e})}function Yg(){return K(this,null,function*(){let t=me.getInstance(),n=t.settings.useCustomClient?t.settings.googleClientId:eu;At.state||(At.state=Pg(),At.verifier=yield xg(),At.challenge=yield Lg(At.verifier));let r=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${n}&response_type=code&redirect_uri=${Ng}&prompt=consent&access_type=offline&state=${At.state}&code_challenge=${At.challenge}&code_challenge_method=S256&scope=email%20profile%20https://www.googleapis.com/auth/calendar`;window.open(r)})}function Gg(t,e){return K(this,null,function*(){let n=me.getInstance();if(e!==At.state)return;let r=yield Rg(me.getInstance(),e,At.verifier,t,!0);(r==null?void 0:r.refresh_token)&&(zi(r.refresh_token),vi(r.access_token),wi(+new Date+r.expires_in*1e3),new Hi.Notice("Login successful!"),n.settingsTab.display()),At={server:null,verifier:null,challenge:null,state:null}})}function Wg(){return K(this,null,function*(){let t=me.getInstance(),e=t.settings.useCustomClient,n=e?t.settings.googleClientId:eu;if(!Hi.Platform.isDesktop){new Hi.Notice("Can't use this OAuth method on this device");return}if(!Bg())return;At.state||(At.state=Pg(),At.verifier=yield xg(),At.challenge=yield Lg(At.verifier));let r=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${n}&response_type=code&redirect_uri=${Ig}&prompt=consent&access_type=offline&state=${At.state}&code_challenge=${At.challenge}&code_challenge_method=S256&scope=email%20profile%20https://www.googleapis.com/auth/calendar`;if(At.server){window.open(r);return}let i=require("http"),s=require("url");At.server=i.createServer((l,u)=>K(this,null,function*(){try{if(l.url.indexOf("/callback")<0)return;let f=new s.URL(l.url,`http://127.0.0.1:${Hc}`).searchParams,d=f.get("code");if(f.get("state")!==At.state)return;let h;e?h=yield Rg(t,At.state,At.verifier,d,!1):h=yield IT(t,At.state,At.verifier,d),(h==null?void 0:h.refresh_token)&&(zi(h.refresh_token),vi(h.access_token),wi(+new Date+h.expires_in*1e3)),console.info("Tokens acquired."),u.end("Authentication successful! Please return to obsidian."),At.server.close(()=>{console.log("Server closed")}),t.settingsTab.display()}catch(f){console.log("Auth failed"),At.server.close(()=>{console.log("Server closed")})}At={server:null,verifier:null,challenge:null,state:null}})).listen(Hc,()=>K(this,null,function*(){window.open(r)}))})}var Ct=class extends Error{constructor(e,n,r,i){super(e);Object.setPrototypeOf(this,Ct.prototype),this.request=n,this.status=r,this.response=i}sayHello(){return"hello "+this.message}};var zg=Ye(require("obsidian")),gr=(t,e,n,r=!1)=>K(void 0,null,function*(){let i=me.getInstance(),s={"Content-Type":"application/json"};if(r==!1){let u=yield Fg(i);if(!u)throw new Ct("Error Google API request",{method:e,url:t,body:n},401,{error:"Missing Auth Token"});s.Authorization="Bearer "+u}if(i.settings.debugMode){console.log(`New Request ${e}:${t}`);let u=_i({},s);u.Authorization&&(u.Authorization=u.Authorization.substring(0,15)+"..."),console.log({body:n,headers:u});let f;try{f=yield fetch(t,{method:e,body:n?JSON.stringify(n):null,headers:s})}catch(d){throw f?new Ct("Error Google API request",{method:e,url:t,body:n},f.status,yield f.json()):new Ct("Error Google API request",{method:e,url:t,body:n},500,{error:"Unknown Error"})}if(f.status>=300)throw new Ct("Error Google API request",{method:e,url:t,body:n},f.status,yield f.json());return e.toLowerCase()=="delete"?{status:"success"}:yield f.json()}let l;try{l=yield(0,zg.requestUrl)({method:e,url:t,body:n?JSON.stringify(n):null,headers:s,throw:!1})}catch(u){throw l?new Ct("Error Google API request",{method:e,url:t,body:n},l.status,yield l.json()):new Ct("Error Google API request",{method:e,url:t,body:n},500,{error:"Unknown Error"})}if(l.status>=300)throw new Ct("Error Google API request",{method:e,url:t,body:n},l.status,l.json);return e.toLowerCase()=="delete"?{status:"success"}:yield l.json});var Uc=[];function Hg(t,e){return e.filter(r=>!t.settings.calendarBlackList.some(i=>i[0]==r.id))}function yi(){return K(this,null,function*(){if(!It())throw new Ct("Not logged in",null,401,{error:"Not logged in"});let t=me.getInstance();if(Uc.length)return Hg(t,Uc);let e=yield gr("https://www.googleapis.com/calendar/v3/users/me/calendarList","GET",null);return Uc=e.items,Hg(t,e.items)})}function mr(){return K(this,null,function*(){try{return yield yi()}catch(t){switch(t.status){case 401:break;case 999:He(t.message);break;default:He("Could not list Google Calendars."),console.error("[GoogleCalendar]",t);break}return[]}})}var Nr=Ye(require("obsidian"));var cm=Ye(require("obsidian"));var Vt="top",ln="bottom",nn="right",Jt="left",tu="auto",Ui=[Vt,ln,nn,Jt],bi="start",bo="end",Ug="clippingParents",nu="viewport",hs="popper",jg="reference",jc=Ui.reduce(function(t,e){return t.concat([e+"-"+bi,e+"-"+bo])},[]),ru=[].concat(Ui,[tu]).reduce(function(t,e){return t.concat([e,e+"-"+bi,e+"-"+bo])},[]),NT="beforeRead",PT="read",xT="afterRead",LT="beforeMain",RT="main",FT="afterMain",YT="beforeWrite",GT="write",WT="afterWrite",qg=[NT,PT,xT,LT,RT,FT,YT,GT,WT];function _n(t){return t?(t.nodeName||"").toLowerCase():null}function Ut(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function _r(t){var e=Ut(t).Element;return t instanceof e||t instanceof Element}function an(t){var e=Ut(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function gs(t){if(typeof ShadowRoot=="undefined")return!1;var e=Ut(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function BT(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!an(s)||!_n(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(l){var u=i[l];u===!1?s.removeAttribute(l):s.setAttribute(l,u===!0?"":u)}))})}function zT(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),u=l.reduce(function(f,d){return f[d]="",f},{});!an(i)||!_n(i)||(Object.assign(i.style,u),Object.keys(s).forEach(function(f){i.removeAttribute(f)}))})}}var Vg={name:"applyStyles",enabled:!0,phase:"write",fn:BT,effect:zT,requires:["computeStyles"]};function vn(t){return t.split("-")[0]}var Mr=Math.max,ko=Math.min,ki=Math.round;function ms(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function hl(){return!/^((?!chrome|android).)*safari/i.test(ms())}function vr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&an(t)&&(i=t.offsetWidth>0&&ki(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ki(r.height)/t.offsetHeight||1);var l=_r(t)?Ut(t):window,u=l.visualViewport,f=!hl()&&n,d=(r.left+(f&&u?u.offsetLeft:0))/i,p=(r.top+(f&&u?u.offsetTop:0))/s,h=r.width/i,g=r.height/s;return{width:h,height:g,top:p,right:d+h,bottom:p+g,left:d,x:d,y:p}}function Eo(t){var e=vr(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function gl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&gs(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Gn(t){return Ut(t).getComputedStyle(t)}function qc(t){return["table","td","th"].indexOf(_n(t))>=0}function En(t){return((_r(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ei(t){return _n(t)==="html"?t:t.assignedSlot||t.parentNode||(gs(t)?t.host:null)||En(t)}function Kg(t){return!an(t)||Gn(t).position==="fixed"?null:t.offsetParent}function HT(t){var e=/firefox/i.test(ms()),n=/Trident/i.test(ms());if(n&&an(t)){var r=Gn(t);if(r.position==="fixed")return null}var i=Ei(t);for(gs(i)&&(i=i.host);an(i)&&["html","body"].indexOf(_n(i))<0;){var s=Gn(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Ar(t){for(var e=Ut(t),n=Kg(t);n&&qc(n)&&Gn(n).position==="static";)n=Kg(n);return n&&(_n(n)==="html"||_n(n)==="body"&&Gn(n).position==="static")?e:n||HT(t)||e}function Co(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function So(t,e,n){return Mr(t,ko(e,n))}function Zg(t,e,n){var r=So(t,e,n);return r>n?n:r}function ml(){return{top:0,right:0,bottom:0,left:0}}function _l(t){return Object.assign({},ml(),t)}function vl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var UT=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,_l(typeof e!="number"?e:vl(e,Ui))};function jT(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,l=n.modifiersData.popperOffsets,u=vn(n.placement),f=Co(u),d=[Jt,nn].indexOf(u)>=0,p=d?"height":"width";if(!(!s||!l)){var h=UT(i.padding,n),g=Eo(s),_=f==="y"?Vt:Jt,v=f==="y"?ln:nn,b=n.rects.reference[p]+n.rects.reference[f]-l[f]-n.rects.popper[p],C=l[f]-n.rects.reference[f],y=Ar(s),O=y?f==="y"?y.clientHeight||0:y.clientWidth||0:0,T=b/2-C/2,R=h[_],I=O-g[p]-h[v],x=O/2-g[p]/2+T,U=So(R,x,I),D=f;n.modifiersData[r]=(e={},e[D]=U,e.centerOffset=U-x,e)}}function qT(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!gl(e.elements.popper,i)||(e.elements.arrow=i))}var Xg={name:"arrow",enabled:!0,phase:"main",fn:jT,effect:qT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wr(t){return t.split("-")[1]}var VT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function KT(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:ki(e*i)/i||0,y:ki(n*i)/i||0}}function Qg(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,l=t.offsets,u=t.position,f=t.gpuAcceleration,d=t.adaptive,p=t.roundOffsets,h=t.isFixed,g=l.x,_=g===void 0?0:g,v=l.y,b=v===void 0?0:v,C=typeof p=="function"?p({x:_,y:b}):{x:_,y:b};_=C.x,b=C.y;var y=l.hasOwnProperty("x"),O=l.hasOwnProperty("y"),T=Jt,R=Vt,I=window;if(d){var x=Ar(n),U="clientHeight",D="clientWidth";if(x===Ut(n)&&(x=En(n),Gn(x).position!=="static"&&u==="absolute"&&(U="scrollHeight",D="scrollWidth")),x=x,i===Vt||(i===Jt||i===nn)&&s===bo){R=ln;var Y=h&&x===I&&I.visualViewport?I.visualViewport.height:x[U];b-=Y-r.height,b*=f?1:-1}if(i===Jt||(i===Vt||i===ln)&&s===bo){T=nn;var ne=h&&x===I&&I.visualViewport?I.visualViewport.width:x[D];_-=ne-r.width,_*=f?1:-1}}var j=Object.assign({position:u},d&&VT),oe=p===!0?KT({x:_,y:b}):{x:_,y:b};if(_=oe.x,b=oe.y,f){var ce;return Object.assign({},j,(ce={},ce[R]=O?"0":"",ce[T]=y?"0":"",ce.transform=(I.devicePixelRatio||1)<=1?"translate("+_+"px, "+b+"px)":"translate3d("+_+"px, "+b+"px, 0)",ce))}return Object.assign({},j,(e={},e[R]=O?b+"px":"",e[T]=y?_+"px":"",e.transform="",e))}function ZT(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,l=s===void 0?!0:s,u=n.roundOffsets,f=u===void 0?!0:u;if(!1)var d;var p={placement:vn(e.placement),variation:wr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Qg(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Qg(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Jg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZT,data:{}};var iu={passive:!0};function XT(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,l=r.resize,u=l===void 0?!0:l,f=Ut(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(p){p.addEventListener("scroll",n.update,iu)}),u&&f.addEventListener("resize",n.update,iu),function(){s&&d.forEach(function(p){p.removeEventListener("scroll",n.update,iu)}),u&&f.removeEventListener("resize",n.update,iu)}}var $g={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:XT,data:{}};var QT={left:"right",right:"left",bottom:"top",top:"bottom"};function _s(t){return t.replace(/left|right|bottom|top/g,function(e){return QT[e]})}var JT={start:"end",end:"start"};function ou(t){return t.replace(/start|end/g,function(e){return JT[e]})}function To(t){var e=Ut(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Do(t){return vr(En(t)).left+To(t).scrollLeft}function Vc(t,e){var n=Ut(t),r=En(t),i=n.visualViewport,s=r.clientWidth,l=r.clientHeight,u=0,f=0;if(i){s=i.width,l=i.height;var d=hl();(d||!d&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:s,height:l,x:u+Do(t),y:f}}function Kc(t){var e,n=En(t),r=To(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Mr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Mr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Do(t),f=-r.scrollTop;return Gn(i||n).direction==="rtl"&&(u+=Mr(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:l,x:u,y:f}}function Oo(t){var e=Gn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function su(t){return["html","body","#document"].indexOf(_n(t))>=0?t.ownerDocument.body:an(t)&&Oo(t)?t:su(Ei(t))}function ji(t,e){var n;e===void 0&&(e=[]);var r=su(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ut(r),l=i?[s].concat(s.visualViewport||[],Oo(r)?r:[]):r,u=e.concat(l);return i?u:u.concat(ji(Ei(l)))}function vs(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function $T(t,e){var n=vr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function em(t,e,n){return e===nu?vs(Vc(t,n)):_r(e)?$T(e,n):vs(Kc(En(t)))}function eD(t){var e=ji(Ei(t)),n=["absolute","fixed"].indexOf(Gn(t).position)>=0,r=n&&an(t)?Ar(t):t;return _r(r)?e.filter(function(i){return _r(i)&&gl(i,r)&&_n(i)!=="body"}):[]}function Zc(t,e,n,r){var i=e==="clippingParents"?eD(t):[].concat(e),s=[].concat(i,[n]),l=s[0],u=s.reduce(function(f,d){var p=em(t,d,r);return f.top=Mr(p.top,f.top),f.right=ko(p.right,f.right),f.bottom=ko(p.bottom,f.bottom),f.left=Mr(p.left,f.left),f},em(t,l,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function wl(t){var e=t.reference,n=t.element,r=t.placement,i=r?vn(r):null,s=r?wr(r):null,l=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,f;switch(i){case Vt:f={x:l,y:e.y-n.height};break;case ln:f={x:l,y:e.y+e.height};break;case nn:f={x:e.x+e.width,y:u};break;case Jt:f={x:e.x-n.width,y:u};break;default:f={x:e.x,y:e.y}}var d=i?Co(i):null;if(d!=null){var p=d==="y"?"height":"width";switch(s){case bi:f[d]=f[d]-(e[p]/2-n[p]/2);break;case bo:f[d]=f[d]+(e[p]/2-n[p]/2);break;default:}}return f}function Ir(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,l=s===void 0?t.strategy:s,u=n.boundary,f=u===void 0?Ug:u,d=n.rootBoundary,p=d===void 0?nu:d,h=n.elementContext,g=h===void 0?hs:h,_=n.altBoundary,v=_===void 0?!1:_,b=n.padding,C=b===void 0?0:b,y=_l(typeof C!="number"?C:vl(C,Ui)),O=g===hs?jg:hs,T=t.rects.popper,R=t.elements[v?O:g],I=Zc(_r(R)?R:R.contextElement||En(t.elements.popper),f,p,l),x=vr(t.elements.reference),U=wl({reference:x,element:T,strategy:"absolute",placement:i}),D=vs(Object.assign({},T,U)),Y=g===hs?D:x,ne={top:I.top-Y.top+y.top,bottom:Y.bottom-I.bottom+y.bottom,left:I.left-Y.left+y.left,right:Y.right-I.right+y.right},j=t.modifiersData.offset;if(g===hs&&j){var oe=j[i];Object.keys(ne).forEach(function(ce){var Te=[nn,ln].indexOf(ce)>=0?1:-1,F=[Vt,ln].indexOf(ce)>=0?"y":"x";ne[ce]+=oe[F]*Te})}return ne}function Xc(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,l=n.padding,u=n.flipVariations,f=n.allowedAutoPlacements,d=f===void 0?ru:f,p=wr(r),h=p?u?jc:jc.filter(function(v){return wr(v)===p}):Ui,g=h.filter(function(v){return d.indexOf(v)>=0});g.length===0&&(g=h);var _=g.reduce(function(v,b){return v[b]=Ir(t,{placement:b,boundary:i,rootBoundary:s,padding:l})[vn(b)],v},{});return Object.keys(_).sort(function(v,b){return _[v]-_[b]})}function tD(t){if(vn(t)===tu)return[];var e=_s(t);return[ou(t),e,ou(e)]}function nD(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,l=n.altAxis,u=l===void 0?!0:l,f=n.fallbackPlacements,d=n.padding,p=n.boundary,h=n.rootBoundary,g=n.altBoundary,_=n.flipVariations,v=_===void 0?!0:_,b=n.allowedAutoPlacements,C=e.options.placement,y=vn(C),O=y===C,T=f||(O||!v?[_s(C)]:tD(C)),R=[C].concat(T).reduce(function(de,be){return de.concat(vn(be)===tu?Xc(e,{placement:be,boundary:p,rootBoundary:h,padding:d,flipVariations:v,allowedAutoPlacements:b}):be)},[]),I=e.rects.reference,x=e.rects.popper,U=new Map,D=!0,Y=R[0],ne=0;ne<R.length;ne++){var j=R[ne],oe=vn(j),ce=wr(j)===bi,Te=[Vt,ln].indexOf(oe)>=0,F=Te?"width":"height",Z=Ir(e,{placement:j,boundary:p,rootBoundary:h,altBoundary:g,padding:d}),G=Te?ce?nn:Jt:ce?ln:Vt;I[F]>x[F]&&(G=_s(G));var te=_s(G),ae=[];if(s&&ae.push(Z[oe]<=0),u&&ae.push(Z[G]<=0,Z[te]<=0),ae.every(function(de){return de})){Y=j,D=!1;break}U.set(j,ae)}if(D)for(var fe=v?3:1,ee=function(be){var Ve=R.find(function(xt){var Lt=U.get(xt);if(Lt)return Lt.slice(0,be).every(function(mt){return mt})});if(Ve)return Y=Ve,"break"},se=fe;se>0;se--){var ye=ee(se);if(ye==="break")break}e.placement!==Y&&(e.modifiersData[r]._skip=!0,e.placement=Y,e.reset=!0)}}var tm={name:"flip",enabled:!0,phase:"main",fn:nD,requiresIfExists:["offset"],data:{_skip:!1}};function nm(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function rm(t){return[Vt,nn,ln,Jt].some(function(e){return t[e]>=0})}function rD(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,l=Ir(e,{elementContext:"reference"}),u=Ir(e,{altBoundary:!0}),f=nm(l,r),d=nm(u,i,s),p=rm(f),h=rm(d);e.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":h})}var im={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rD};function iD(t,e,n){var r=vn(t),i=[Jt,Vt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,l=s[0],u=s[1];return l=l||0,u=(u||0)*i,[Jt,nn].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}function oD(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,l=ru.reduce(function(p,h){return p[h]=iD(h,e.rects,s),p},{}),u=l[e.placement],f=u.x,d=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=l}var om={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:oD};function sD(t){var e=t.state,n=t.name;e.modifiersData[n]=wl({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var sm={name:"popperOffsets",enabled:!0,phase:"read",fn:sD,data:{}};function Qc(t){return t==="x"?"y":"x"}function lD(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,l=n.altAxis,u=l===void 0?!1:l,f=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.padding,g=n.tether,_=g===void 0?!0:g,v=n.tetherOffset,b=v===void 0?0:v,C=Ir(e,{boundary:f,rootBoundary:d,padding:h,altBoundary:p}),y=vn(e.placement),O=wr(e.placement),T=!O,R=Co(y),I=Qc(R),x=e.modifiersData.popperOffsets,U=e.rects.reference,D=e.rects.popper,Y=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,ne=typeof Y=="number"?{mainAxis:Y,altAxis:Y}:Object.assign({mainAxis:0,altAxis:0},Y),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,oe={x:0,y:0};if(!!x){if(s){var ce,Te=R==="y"?Vt:Jt,F=R==="y"?ln:nn,Z=R==="y"?"height":"width",G=x[R],te=G+C[Te],ae=G-C[F],fe=_?-D[Z]/2:0,ee=O===bi?U[Z]:D[Z],se=O===bi?-D[Z]:-U[Z],ye=e.elements.arrow,de=_&&ye?Eo(ye):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ml(),Ve=be[Te],xt=be[F],Lt=So(0,U[Z],de[Z]),mt=T?U[Z]/2-fe-Lt-Ve-ne.mainAxis:ee-Lt-Ve-ne.mainAxis,bt=T?-U[Z]/2+fe+Lt+xt+ne.mainAxis:se+Lt+xt+ne.mainAxis,ct=e.elements.arrow&&Ar(e.elements.arrow),_t=ct?R==="y"?ct.clientTop||0:ct.clientLeft||0:0,Zt=(ce=j==null?void 0:j[R])!=null?ce:0,oi=G+mt-Zt-_t,nt=G+bt-Zt,Re=So(_?ko(te,oi):te,G,_?Mr(ae,nt):ae);x[R]=Re,oe[R]=Re-G}if(u){var Bn,Zn=R==="x"?Vt:Jt,dn=R==="x"?ln:nn,pn=x[I],Pn=I==="y"?"height":"width",Yt=pn+C[Zn],xn=pn-C[dn],bn=[Vt,Jt].indexOf(y)!==-1,hn=(Bn=j==null?void 0:j[I])!=null?Bn:0,Ln=bn?Yt:pn-U[Pn]-D[Pn]-hn+ne.altAxis,zn=bn?pn+U[Pn]+D[Pn]-hn-ne.altAxis:xn,Hn=_&&bn?Zg(Ln,pn,zn):So(_?Ln:Yt,pn,_?zn:xn);x[I]=Hn,oe[I]=Hn-pn}e.modifiersData[r]=oe}}var lm={name:"preventOverflow",enabled:!0,phase:"main",fn:lD,requiresIfExists:["offset"]};function Jc(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $c(t){return t===Ut(t)||!an(t)?To(t):Jc(t)}function aD(t){var e=t.getBoundingClientRect(),n=ki(e.width)/t.offsetWidth||1,r=ki(e.height)/t.offsetHeight||1;return n!==1||r!==1}function ed(t,e,n){n===void 0&&(n=!1);var r=an(e),i=an(e)&&aD(e),s=En(e),l=vr(t,i,n),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((_n(e)!=="body"||Oo(s))&&(u=$c(e)),an(e)?(f=vr(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):s&&(f.x=Do(s))),{x:l.left+u.scrollLeft-f.x,y:l.top+u.scrollTop-f.y,width:l.width,height:l.height}}function uD(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(u){if(!n.has(u)){var f=e.get(u);f&&i(f)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function td(t){var e=uD(t);return qg.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function nd(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function rd(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var am={placement:"bottom",modifiers:[],strategy:"absolute"};function um(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function fm(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?am:i;return function(u,f,d){d===void 0&&(d=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},am,s),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},h=[],g=!1,_={state:p,setOptions:function(y){var O=typeof y=="function"?y(p.options):y;b(),p.options=Object.assign({},s,p.options,O),p.scrollParents={reference:_r(u)?ji(u):u.contextElement?ji(u.contextElement):[],popper:ji(f)};var T=td(rd([].concat(r,p.options.modifiers)));if(p.orderedModifiers=T.filter(function(j){return j.enabled}),!1){var R;if(getBasePlacement(p.options.placement)===auto)var I;var x,U,D,Y,ne}return v(),_.update()},forceUpdate:function(){if(!g){var y=p.elements,O=y.reference,T=y.popper;if(!!um(O,T)){p.rects={reference:ed(O,Ar(T),p.options.strategy==="fixed"),popper:Eo(T)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(j){return p.modifiersData[j.name]=Object.assign({},j.data)});for(var R=0,I=0;I<p.orderedModifiers.length;I++){if(p.reset===!0){p.reset=!1,I=-1;continue}var x=p.orderedModifiers[I],U=x.fn,D=x.options,Y=D===void 0?{}:D,ne=x.name;typeof U=="function"&&(p=U({state:p,options:Y,name:ne,instance:_})||p)}}}},update:nd(function(){return new Promise(function(C){_.forceUpdate(),C(p)})}),destroy:function(){b(),g=!0}};if(!um(u,f))return _;_.setOptions(d).then(function(C){!g&&d.onFirstUpdate&&d.onFirstUpdate(C)});function v(){p.orderedModifiers.forEach(function(C){var y=C.name,O=C.options,T=O===void 0?{}:O,R=C.effect;if(typeof R=="function"){var I=R({state:p,name:y,instance:_,options:T}),x=function(){};h.push(I||x)}})}function b(){h.forEach(function(C){return C()}),h=[]}return _}}var fD=[$g,sm,Jg,Vg,om,tm,lm,Xg,im],id=fm({defaultModifiers:fD});var cD=(t,e)=>(t%e+e)%e,dm=class{constructor(e,n,r){this.owner=e,this.containerEl=n,n.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),n.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),r.register([],"ArrowUp",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),r.register([],"ArrowDown",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),r.register([],"Enter",i=>{if(!i.isComposing)return this.useSelectedItem(i),!1})}onSuggestionClick(e,n){e.preventDefault();let r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1),this.useSelectedItem(e)}onSuggestionMouseover(e,n){let r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1)}setSuggestions(e){this.containerEl.empty();let n=[];e.forEach(r=>{let i=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(r,i),n.push(i)}),this.values=e,this.suggestions=n,this.setSelectedItem(0,!1)}useSelectedItem(e){let n=this.values[this.selectedItem];n&&this.owner.selectSuggestion(n,e)}setSelectedItem(e,n){let r=cD(e,this.suggestions.length),i=this.suggestions[this.selectedItem],s=this.suggestions[r];i==null||i.removeClass("is-selected"),s==null||s.addClass("is-selected"),this.selectedItem=r,n&&s.scrollIntoView(!1)}},yl=class{constructor(e){this.inputEl=e,this.scope=new cm.Scope,this.suggestEl=createDiv("suggestion-container");let n=this.suggestEl.createDiv("suggestion");this.suggest=new dm(this,n,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",r=>{r.preventDefault()})}onInputChanged(){let e=this.inputEl.value,n=this.getSuggestions(e);if(!n){this.close();return}n.length>0?(this.suggest.setSuggestions(n),this.open(app.dom.appContainerEl,this.inputEl)):this.close()}open(e,n){app.keymap.pushScope(this.scope),e.appendChild(this.suggestEl),this.popper=id(n,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:r,instance:i})=>{let s=`${r.rects.reference.width}px`;r.styles.popper.width!==s&&(r.styles.popper.width=s,i.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}};function dD(t){t=(0,Nr.normalizePath)(t);let e=app.vault.getAbstractFileByPath(t);return!e||!(e instanceof Nr.TFolder)?null:e}function pm(t){let e=dD(t),n=[];return Nr.Vault.recurseChildren(e,r=>{r instanceof Nr.TFile&&n.push(r)}),n.sort((r,i)=>r.basename.localeCompare(i.basename)),n}var hm;(function(n){n[n.TemplateFiles=0]="TemplateFiles",n[n.ScriptFiles=1]="ScriptFiles"})(hm||(hm={}));var bl=class extends yl{constructor(e,n){super(e);this.inputEl=e;this.plugin=n}getSuggestions(e){var l,u,f,d,p,h,g;let n=[];if(this.plugin.templaterPlugin){let _=(0,Nr.normalizePath)((f=(u=(l=this.plugin)==null?void 0:l.templaterPlugin)==null?void 0:u.settings)==null?void 0:f.templates_folder),v=pm(_);n=[...n,...v]}if(this.plugin.coreTemplatePlugin){let _=(0,Nr.normalizePath)((g=(h=(p=(d=this.plugin)==null?void 0:d.coreTemplatePlugin)==null?void 0:p.instance)==null?void 0:h.options)==null?void 0:g.folder),v=pm(_);n=[...n,...v]}if(!n)return[];let r=new Set(n),i=[],s=e.toLowerCase();return r.forEach(_=>{_ instanceof Nr.TFile&&_.extension==="md"&&_.path.toLowerCase().contains(s)&&i.push(_)}),i}renderSuggestion(e,n){n.setText(e.path)}selectSuggestion(e){this.inputEl.value=e.path,this.inputEl.trigger("input"),this.close()}};var gm=Ye(require("obsidian"));var kl=class extends yl{getSuggestions(e){let n=app.vault.getAllLoadedFiles(),r=[],i=e.toLowerCase();return n.forEach(s=>{s instanceof gm.TFolder&&s.path.toLowerCase().contains(i)&&r.push(s)}),r}renderSuggestion(e,n){n.setText(e.path)}selectSuggestion(e){this.inputEl.value=e.path,this.inputEl.trigger("input"),this.close()}};var yr=Ye(lu()),ld=Ye(Ci()),au={},ad={},ks=t=>K(void 0,null,function*(){if(!app.workspace.layoutReady||!t.settings.activateDailyNoteAddon)return;let e={};try{e=(0,yr.getAllDailyNotes)()}catch(n){console.log("Daily note folder not set. Deactivated Show Daily notes setting."),t.settings.activateDailyNoteAddon=!1,t.saveSettings()}ld.default.isEqual(au,e)==!1&&(au=e)}),qi=t=>K(void 0,null,function*(){if(!app.workspace.layoutReady||!t.settings.activateDailyNoteAddon||!t.settings.useWeeklyNotes)return;let e={};try{e=(0,yr.getAllWeeklyNotes)()}catch(n){console.log("Daily note folder not set. Deactivated Show Daily notes setting."),t.settings.activateDailyNoteAddon=!1,t.saveSettings()}ld.default.isEqual(ad,e)==!1&&(ad=e)}),uu=()=>au,Mo=t=>(0,yr.getDailyNote)(t,au);var Il=t=>(0,yr.getWeeklyNote)(t,ad),xm=t=>K(void 0,null,function*(){var e,n,r,i;if(!t.type||t.type==="daily"){let s=Mo((e=t.date)!=null?e:window.moment());return s||(s=yield(0,yr.createDailyNote)((n=t.date)!=null?n:window.moment()),ks(me.getInstance()),s)}if(t.type==="weekly"){let s=Il((r=t.date)!=null?r:window.moment());return s||(s=yield(0,yr.createWeeklyNote)((i=t.date)!=null?i:window.moment()),qi(me.getInstance()),s)}}),Si=t=>K(void 0,null,function*(){var r,i;let e=yield xm(t);yield app.workspace.getLeaf((r=t.openInNewTab)!=null?r:!1,(i=t.openToRight)!=null?i:"horizontal").openFile(e,{active:!0})}),ud=t=>K(void 0,null,function*(){let e=yield xm(t);yield app.workspace.openPopoutLeaf().openFile(e,{active:!0})});var fd=class extends at.PluginSettingTab{constructor(e,n){super(e,n);this.plugin=n}display(){let{containerEl:e}=this,n=ps();e.empty(),e.createEl("h2",{text:"Settings for Google Calendar"}),e.createEl("h4",{text:"Please restart Obsidian to let changes take effect"}),new at.Setting(e).setName("Use own authentication client").setDesc("Please create your own client.").addToggle(i=>i.setValue(this.plugin.settings.useCustomClient).onChange(s=>K(this,null,function*(){zi(""),vi(""),wi(0),this.plugin.settings.useCustomClient=s,yield this.plugin.saveSettings(),this.display()}))),this.plugin.settings.useCustomClient?(new at.Setting(e).setName("ClientId").setDesc("Google client id").setClass("SubSettings").addText(i=>i.setPlaceholder("Enter your client id").setValue(this.plugin.settings.googleClientId).onChange(s=>K(this,null,function*(){this.plugin.settings.googleClientId=s.trim(),yield this.plugin.saveSettings()}))),new at.Setting(e).setName("ClientSecret").setDesc("Google client secret").setClass("SubSettings").addText(i=>i.setPlaceholder("Enter your client secret").setValue(this.plugin.settings.googleClientSecret).onChange(s=>K(this,null,function*(){this.plugin.settings.googleClientSecret=s.trim(),yield this.plugin.saveSettings()})))):new at.Setting(e).setName("Server url").setDesc("The url to the server where the oauth takes place").setClass("SubSettings").addText(i=>{i.setValue(this.plugin.settings.googleOAuthServer).onChange(s=>K(this,null,function*(){this.plugin.settings.googleOAuthServer=s.trim(),yield this.plugin.saveSettings()}))}),new at.Setting(e).setName("Login with google").addButton(i=>{i.setButtonText(n?"Logout":"Login").onClick(()=>{n?(zi(""),vi(""),wi(0),this.hide(),this.display()):at.Platform.isMobileApp?this.plugin.settings.useCustomClient?Yg():window.open(`${this.plugin.settings.googleOAuthServer}/api/google`):Wg()})}),new at.Setting(e).setName("Refresh Interval").setDesc("Time in seconds between refresh request from google server").addSlider(i=>{i.setValue(this.plugin.settings.refreshInterval),i.setLimits(this.plugin.settings.useCustomClient?10:60,360,1),i.setDynamicTooltip(),i.onChange(s=>K(this,null,function*(){s<60&&!this.plugin.settings.useCustomClient||(this.plugin.settings.refreshInterval=s,yield this.plugin.saveSettings())}))}),new at.Setting(e).setName("Use event Notification").setDesc("Will send notification when an event starts").addToggle(i=>{i.setValue(this.plugin.settings.useNotification),i.onChange(s=>K(this,null,function*(){this.plugin.settings.useNotification=s,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),new at.Setting(e).setName("Show daily notes").setDesc("Will display daily notes and allow to open and create daily notes").addToggle(i=>{i.setValue(this.plugin.settings.activateDailyNoteAddon),i.onChange(s=>K(this,null,function*(){this.plugin.settings.activateDailyNoteAddon=s,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),this.plugin.settings.activateDailyNoteAddon&&(new at.Setting(e).setName("Use Weekly Notes").setDesc("Will show week numbers with weekly note dots").setClass("SubSettings").addToggle(i=>{i.setValue(this.plugin.settings.useWeeklyNotes),i.onChange(s=>K(this,null,function*(){this.plugin.settings.useWeeklyNotes=s,s&&qi(this.plugin),yield this.plugin.saveSettings(),this.hide(),this.display()}))}),new at.Setting(e).setName("Daily dot color").setDesc("Color for daily note dots in month view").setClass("SubSettings").addText(i=>{i.inputEl.type="color",i.setValue(this.plugin.settings.dailyNoteDotColor),i.onChange(s=>K(this,null,function*(){this.plugin.settings.dailyNoteDotColor=s,yield this.plugin.saveSettings()}))})),new at.Setting(e).setName("Enable @ Annotations").setDesc("Will help you to easily link events from you calendar in your notes").addToggle(i=>{i.setValue(this.plugin.settings.atAnnotationEnabled),i.onChange(s=>K(this,null,function*(){this.plugin.settings.atAnnotationEnabled=s,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),this.plugin.settings.atAnnotationEnabled&&new at.Setting(e).setName("@ Annotation date format").setDesc("SWitch between mm/dd/yyyy and dd/mm/yyyy").setClass("SubSettings").addDropdown(i=>{i.addOption("mm/dd/yyyy","mm/dd/yyyy"),i.addOption("dd/mm/yyyy","dd/mm/yyyy"),i.setValue(this.plugin.settings.usDateFormat?"mm/dd/yyyy":"dd/mm/yyyy"),i.onChange(s=>K(this,null,function*(){s=="mm/dd/yyyy"?this.plugin.settings.usDateFormat=!0:this.plugin.settings.usDateFormat=!1,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),new at.Setting(e).setName("Auto create Event Notes").setDesc("Will create new notes from a event if the description contains :obsidian:").addToggle(i=>{i.setValue(this.plugin.settings.autoCreateEventNotes),i.onChange(s=>K(this,null,function*(){this.plugin.settings.autoCreateEventNotes=s,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),new at.Setting(e).setName("Auto create Event Notes Marker").setDesc("Specify the marker that will be used to find events to create notes. Keep empty to create a note for all events.").setClass("SubSettings").addText(i=>{i.setValue(this.plugin.settings.autoCreateEventNotesMarker),i.onChange(s=>K(this,null,function*(){this.plugin.settings.autoCreateEventNotesMarker=s,yield this.plugin.saveSettings()}))}),new at.Setting(e).setName("Keep auto created Notes open").setDesc("When creating a new note should it stay open for direct editing").setClass("SubSettings").addToggle(i=>{i.setValue(this.plugin.settings.autoCreateEventKeepOpen),i.onChange(s=>K(this,null,function*(){this.plugin.settings.autoCreateEventKeepOpen=s,yield this.plugin.saveSettings(),this.hide(),this.display()}))}),new at.Setting(e).setName("Import Start Offset").setDesc("Days in the past from events to import").setClass("SubSettings").addSlider(i=>{i.setValue(this.plugin.settings.importStartOffset),i.setLimits(0,7,1),i.setDynamicTooltip(),i.onChange(s=>K(this,null,function*(){i.showTooltip(),this.plugin.settings.importStartOffset=s,yield this.plugin.saveSettings()}))}),new at.Setting(e).setName("Import End Offset").setDesc("Days in the future from events to import").setClass("SubSettings").addSlider(i=>{i.setValue(this.plugin.settings.importEndOffset),i.setLimits(0,7,1),i.setDynamicTooltip(),i.onChange(s=>K(this,null,function*(){this.plugin.settings.importEndOffset=s,yield this.plugin.saveSettings()}))}),new at.Setting(e).setName("Event Note Prefix").setDesc("Optional prefix for event notes to improve performance").setClass("SubSettings").addText(i=>{i.setValue(this.plugin.settings.optionalNotePrefix),i.onChange(s=>K(this,null,function*(){this.plugin.settings.optionalNotePrefix=s,yield this.plugin.saveSettings()}))}),new at.Setting(e).setName("Event Note Name Format").setDesc("Define how the event note name should look like").setClass("SubSettings").addText(i=>{i.setValue(this.plugin.settings.eventNoteNameFormat),i.onChange(s=>K(this,null,function*(){this.plugin.settings.eventNoteNameFormat=s,yield this.plugin.saveSettings()}))}),new at.Setting(e).setName("Debug Mode").setDesc("Enable if something is not working").addToggle(i=>{i.setValue(this.plugin.settings.debugMode),i.onChange(s=>K(this,null,function*(){this.plugin.settings.debugMode=s,yield this.plugin.saveSettings()}))}),new at.Setting(e).setName("Use defaults for note creation").setDesc("If active creating notes will be faster but less flexible").addToggle(i=>{i.setValue(this.plugin.settings.useDefaultTemplate),i.onChange(s=>K(this,null,function*(){this.plugin.settings.useDefaultTemplate=s,yield this.plugin.saveSettings(),this.display()}))}),this.plugin.settings.useDefaultTemplate&&(new at.Setting(e).setName("Default Template").setDesc("Template to use at note creation").setClass("SubSettings").addSearch(i=>{new bl(i.inputEl,this.plugin),i.setPlaceholder("Template").setValue(this.plugin.settings.defaultTemplate).onChange(s=>K(this,null,function*(){this.plugin.settings.defaultTemplate=s,yield this.plugin.saveSettings()})),i.containerEl.addClass("templater_search")}),new at.Setting(e).setName("Default Folder").setDesc("Folder to save notes to after creation").setClass("SubSettings").addSearch(i=>{new kl(i.inputEl),i.setPlaceholder("Example: folder1/folder2").setValue(this.plugin.settings.defaultFolder).onChange(s=>K(this,null,function*(){this.plugin.settings.defaultFolder=s,yield this.plugin.saveSettings()})),i.containerEl.addClass("templater_search")}));let r=this.plugin.settings.insertTemplates;if(r.length&&(new at.Setting(e).setName("Saved Templates"),r.forEach(i=>{let s=new at.Setting(e).setClass("SubSettings").setName(i.name).addButton(l=>{l.setButtonText("Remove"),l.onClick(()=>K(this,null,function*(){this.plugin.settings.insertTemplates.remove(i),s.settingEl.remove(),yield this.plugin.saveSettings(),this.hide(),this.display()}))})})),It()){new at.Setting(e).setName("Default Calendar").addDropdown(s=>K(this,null,function*(){s.addOption("Default","Select a calendar"),(yield mr()).forEach(u=>{s.addOption(u.id,u.summary)}),s.setValue(this.plugin.settings.defaultCalendar),s.onChange(u=>K(this,null,function*(){this.plugin.settings.defaultCalendar=u,yield this.plugin.saveSettings()}))})),e.createEl("h3","Calendar Blacklist");let i=this.plugin.settings.calendarBlackList;new at.Setting(e).setName("Add Item to BlackList").addDropdown(s=>K(this,null,function*(){s.addOption("Default","Select Option to add"),(yield mr()).forEach(u=>{s.addOption(u.id+"_=_"+u.summary,u.summary)}),s.onChange(u=>K(this,null,function*(){let[f,d]=u.split("_=_");i.contains([f,d])||(this.plugin.settings.calendarBlackList=[...i,[f,d]],yield this.plugin.saveSettings());let p=new at.Setting(e).setClass("SubSettings").setName(d).addButton(h=>{h.setButtonText("Remove"),h.onClick(()=>K(this,null,function*(){this.plugin.settings.calendarBlackList.remove([f,d]),p.settingEl.remove(),yield this.plugin.saveSettings()}))})}))})),i.forEach(s=>{let l=new at.Setting(e).setClass("SubSettings").setName(s[1]).addButton(u=>{u.setButtonText("Remove"),u.onClick(()=>K(this,null,function*(){this.plugin.settings.calendarBlackList.remove(s),l.settingEl.remove(),yield this.plugin.saveSettings()}))})})}}};function Bg(){let t=me.getInstance();return t.settings.useCustomClient&&(t.settings.googleClientId==""||t.settings.googleClientSecret=="")?(He("Google Calendar missing settings"),!1):!0}function It(){return!ps()||ps()==""?(He("Google Calendar missing settings or not logged in"),!1):!0}var jv=Ye(require("obsidian"));var dd=Ye(Ci());var Lm={"1":{hex:"#ac725e",name:"0"},"2":{hex:"#d06b64",name:"0"},"3":{hex:"#f83a22",name:"0"},"4":{hex:"#fa573c",name:"0"},"5":{hex:"#ff7537",name:"0"},"6":{hex:"#ffad46",name:"0"},"7":{hex:"#42d692",name:"0"},"8":{hex:"#16a765",name:"0"},"9":{hex:"#7bd148",name:"0"},"10":{hex:"#b3dc6c",name:"0"},"11":{hex:"#fbe983",name:"0"},"12":{hex:"#fad165",name:"0"},"13":{hex:"#92e1c0",name:"0"},"14":{hex:"#9fe1e7",name:"0"},"15":{hex:"#9fc6e7",name:"0"},"16":{hex:"#4986e7",name:"0"},"17":{hex:"#9a9cff",name:"0"},"18":{hex:"#b99aff",name:"0"},"19":{hex:"#c2c2c2",name:"0"},"20":{hex:"#cabdbf",name:"0"},"21":{hex:"#cca6ac",name:"0"},"22":{hex:"#f691b2",name:"0"},"23":{hex:"#cd74e6",name:"0"},"24":{hex:"#a47ae2",name:"0"}},fu={"1":{hex:"#a4bdfc",name:"Lavender"},"2":{hex:"#7ae7bf",name:"Sage"},"3":{hex:"#dbadff",name:"Grape"},"4":{hex:"#ff887c",name:"Flamingo"},"5":{hex:"#fbd75b",name:"Banana"},"6":{hex:"#ffb878",name:"Tangerine"},"7":{hex:"#46d6db",name:"Peacock"},"8":{hex:"#e1e1e1",name:"Graphite"},"9":{hex:"#5484ed",name:"Blueberry"},"10":{hex:"#51b749",name:"Basil"},"11":{hex:"#dc2127",name:"Tomato"}},cd=[...new Set([...Object.values(fu).map(t=>t.name),...Object.values(Lm).map(t=>t.name)])],Nl=[...Object.values(fu).map(t=>t.name)];function Ti(t){return t.colorId?fu[t.colorId].hex:t.parent.colorId?Lm[t.parent.colorId].hex:"#a4bdfc"}function Pl(t){return t.colorId?fu[t.colorId].name:t.parent.colorId?"NOT IMPLEMENTED":"NO COLOR"}var cu=new Map;function xr(){cu.clear()}function pd(){return K(this,arguments,function*({startDate:t,endDate:e,exclude:n,include:r}={}){let i=me.getInstance();t||(t=window.moment()),t=t.startOf("day"),e||(e=t.clone()),e=e.endOf("day");let s=yield yi(),[l,u]=(r!=null?r:[]).reduce(([h,g],_)=>cd.includes(_)?[h,[...g,_]]:[[...h,_],g],[[],[]]),[f,d]=(n!=null?n:[]).reduce(([h,g],_)=>cd.includes(_)?[h,[...g,_]]:[[...h,_],g],[[],[]]);l.length?s=s.filter(h=>l.contains(h.id)||l.contains(h.summary)):f.length&&(s=s.filter(h=>!(f.contains(h.id)||f.contains(h.summary))));let p=[];for(let h=0;h<s.length;h++){let g=yield FD(i,s[h],t,e,u,d);p=[...p,...g]}return p=dd.default.orderBy(p,[h=>{var g;return new Date((g=h.start.date)!=null?g:h.start.dateTime)}],"asc"),p})}function Wt(){return K(this,arguments,function*(t={}){try{return yield pd(t)}catch(e){if(!(e instanceof Ct))return[];switch(e.status){case 401:break;case 999:He(e.message);break;default:He("Google Events could not be loaded."),console.error("[GoogleCalendar]",e);break}return[]}})}function xD(t,e,n){return K(this,null,function*(){if(!It())throw new Ct("Not logged in",null,401,{error:"Not logged in"});let r,i=2500,s=[];do{let l=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(t.id)}/events?`;l+=`maxResults=${i}`,l+="&futureevents=true",l+="&singleEvents=true",l+="&orderby=starttime",l+="&sortorder=ascending",l+=`&timeMin=${e}`,l+=`&timeMax=${n}`,r&&r.nextPageToken&&(l+=`&nextPageToken=${r.nextPageToken}`),r=yield gr(l,"GET",null);let u=r.items.filter(f=>(f.parent=t,f.status!="cancelled"));s=[...s,...u]}while(r.items.length==i);return s})}function LD(t,e,n){let r=[];return t.forEach(i=>{if(!i.start.dateTime||!i.end.dateTime)return;let s=window.moment(i.end.dateTime),l=window.moment(i.start.dateTime);if(l.isSame(s,"day"))return;let u=[],f=s.endOf("day").diff(l.startOf("day"),"days")+1,d=i.summary,p=1;do i.summary=`${d} (Day ${p}/${f})`,i.eventType="multiDay",u=[...u,structuredClone(i)],p++,l=l.add(1,"days"),i.start.dateTime=l.format("YYYY-MM-DD HH:mm");while(!l.isAfter(s,"day"));u=u.filter(h=>{let g=window.moment(h.start.dateTime);return!(e&&g.isBefore(e,"day")||n&&g.isSameOrAfter(n,"day"))}),i.eventType="delete",r=[...r,...u]}),t=[...t,...r],t}function RD(t,e,n,r){let i=n.clone(),s=[];for(;i<=r;){let l=JSON.stringify({day:i.format("YYYY-MM-DD"),calendar:e.id});if(!cu.has(l))return null;!t.settings.useCustomClient&&t.settings.refreshInterval<60&&(t.settings.refreshInterval=60);let{events:u,updated:f}=cu.get(l);if(f.clone().add(t.settings.refreshInterval,"second").isBefore(window.moment()))return null;s=[...s,...u],i.add(1,"day")}return s}function FD(l,u,f,d){return K(this,arguments,function*(t,e,n,r,i=[],s=[]){let p=RD(t,e,n,r);if(p)return p.filter(v=>i.length>0?i.includes(Pl(v)):s.length>0?!s.includes(Pl(v)):!0);let h=yield xD(e,n.toISOString(),r.toISOString());h=LD(h,n,r);let g=dd.default.groupBy(h,v=>{var C;return window.moment((C=v.start.dateTime)!=null?C:v.start.date).format("YYYY-MM-DD")}),_=n.clone();for(;_<=r;){let v=_.format("YYYY-MM-DD"),b=JSON.stringify({day:v,calendar:e.id});cu.set(b,{events:g[v]||[],updated:window.moment()}),_.add(1,"day")}return h.filter(v=>v.eventType==="delete"?!1:i.length>0?i.includes(Pl(v)):s.length>0?!s.includes(Pl(v)):!0)})}var Hv=Ye(require("obsidian"));var zv=Ye(require("obsidian"));function pe(){}var xl=t=>t;function un(t,e){for(let n in e)t[n]=e[n];return t}function hd(t){return t()}function Rm(){return Object.create(null)}function Ge(t){t.forEach(hd)}function $t(t){return typeof t=="function"}function We(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}var du;function Ao(t,e){return du||(du=document.createElement("a")),du.href=e,t===du.href}function Fm(t){return Object.keys(t).length===0}function pu(t,...e){if(t==null)return pe;let n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function hu(t,e,n){t.$$.on_destroy.push(pu(e,n))}function Lr(t,e,n,r){if(t){let i=Ym(t,e,n,r);return t[0](i)}}function Ym(t,e,n,r){return t[1]&&r?un(n.ctx.slice(),t[1](r(e))):n.ctx}function Rr(t,e,n,r){if(t[2]&&r){let i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){let s=[],l=Math.max(e.dirty.length,i.length);for(let u=0;u<l;u+=1)s[u]=e.dirty[u]|i[u];return s}return e.dirty|i}return e.dirty}function Fr(t,e,n,r,i,s){if(i){let l=Ym(e,n,r,s);t.p(l,i)}}function Yr(t){if(t.ctx.length>32){let e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Gr(t){let e={};for(let n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function fn(t){return t==null?"":t}var Gm=typeof window!="undefined",Ll=Gm?()=>window.performance.now():()=>Date.now(),gd=Gm?t=>requestAnimationFrame(t):pe;var Es=new Set;function Wm(t){Es.forEach(e=>{e.c(t)||(Es.delete(e),e.f())}),Es.size!==0&&gd(Wm)}function gu(t){let e;return Es.size===0&&gd(Wm),{promise:new Promise(n=>{Es.add(e={c:t,f:n})}),abort(){Es.delete(e)}}}var Bm=!1;function YD(){Bm=!0}function GD(){Bm=!1}function N(t,e){t.appendChild(e)}function yt(t,e,n){let r=md(t);if(!r.getElementById(e)){let i=P("style");i.id=e,i.textContent=n,zm(r,i)}}function md(t){if(!t)return document;let e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function WD(t){let e=P("style");return zm(md(t),e),e.sheet}function zm(t,e){return N(t.head||t,e),e.sheet}function z(t,e,n){t.insertBefore(e,n||null)}function W(t){t.parentNode&&t.parentNode.removeChild(t)}function Nt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function Wr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ie(t){return document.createTextNode(t)}function J(){return Ie(" ")}function Kt(){return Ie("")}function X(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Zr(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Xr(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function Hm(t){return function(e){e.target===this&&t.call(this,e)}}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Qr(t,e){for(let n in e)E(t,n,e[n])}function BD(t){return Array.from(t.childNodes)}function xe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Kn(t,e){t.value=e==null?"":e}function ge(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Jr(t,e,n){for(let r=0;r<t.options.length;r+=1){let i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Cs(t){let e=t.querySelector(":checked");return e&&e.__value}var mu;function zD(){if(mu===void 0){mu=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch(t){mu=!0}}return mu}function Um(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");let r=P("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;let i=zD(),s;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=X(window,"message",l=>{l.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{s=X(r.contentWindow,"resize",e),e()}),N(t,r),()=>{(i||s&&r.contentWindow)&&s(),W(r)}}function _e(t,e,n){t.classList[n?"add":"remove"](e)}function jm(t,e,{bubbles:n=!1,cancelable:r=!1}={}){let i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}var _u=class{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.is_svg?this.e=Wr(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)z(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(W)}};var vu=new Map,wu=0;function HD(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function UD(t,e){let n={stylesheet:WD(e),rules:{}};return vu.set(t,n),n}function qm(t,e,n,r,i,s,l,u=0){let f=16.666/r,d=`{
`;for(let C=0;C<=1;C+=f){let y=e+(n-e)*s(C);d+=C*100+`%{${l(y,1-y)}}
`}let p=d+`100% {${l(n,1-n)}}
}`,h=`__svelte_${HD(p)}_${u}`,g=md(t),{stylesheet:_,rules:v}=vu.get(g)||UD(g,t);v[h]||(v[h]=!0,_.insertRule(`@keyframes ${h} ${p}`,_.cssRules.length));let b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${h} ${r}ms linear ${i}ms 1 both`,wu+=1,h}function _d(t,e){let n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),wu-=i,wu||jD())}function jD(){gd(()=>{wu||(vu.forEach(t=>{let{ownerNode:e}=t.stylesheet;e&&W(e)}),vu.clear())})}function Vm(t,e,n,r){if(!e)return pe;let i=t.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return pe;let{delay:s=0,duration:l=300,easing:u=xl,start:f=Ll()+s,end:d=f+l,tick:p=pe,css:h}=n(t,{from:e,to:i},r),g=!0,_=!1,v;function b(){h&&(v=qm(t,0,1,l,s,u,h)),s||(_=!0)}function C(){h&&_d(t,v),g=!1}return gu(y=>{if(!_&&y>=f&&(_=!0),_&&y>=d&&(p(1,0),C()),!g)return!1;if(_){let O=y-f,T=0+1*u(O/l);p(T,1-T)}return!0}),b(),p(0,1),C}function Km(t){let e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){let{width:n,height:r}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,qD(t,i)}}function qD(t,e){let n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){let r=getComputedStyle(t),i=r.transform==="none"?"":r.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}var Rl;function Fl(t){Rl=t}function vd(){if(!Rl)throw new Error("Function called outside component initialization");return Rl}function Io(t){vd().$$.on_mount.push(t)}function No(t){vd().$$.on_destroy.push(t)}function Yl(){let t=vd();return(e,n,{cancelable:r=!1}={})=>{let i=t.$$.callbacks[e];if(i){let s=jm(e,n,{cancelable:r});return i.slice().forEach(l=>{l.call(t,s)}),!s.defaultPrevented}return!0}}function Cn(t,e){let n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}var Ss=[];var Le=[],Ts=[],wd=[],Zm=Promise.resolve(),yd=!1;function Xm(){yd||(yd=!0,Zm.then(Qm))}function yu(){return Xm(),Zm}function Sn(t){Ts.push(t)}function it(t){wd.push(t)}var bd=new Set,Ds=0;function Qm(){if(Ds!==0)return;let t=Rl;do{try{for(;Ds<Ss.length;){let e=Ss[Ds];Ds++,Fl(e),VD(e.$$)}}catch(e){throw Ss.length=0,Ds=0,e}for(Fl(null),Ss.length=0,Ds=0;Le.length;)Le.pop()();for(let e=0;e<Ts.length;e+=1){let n=Ts[e];bd.has(n)||(bd.add(n),n())}Ts.length=0}while(Ss.length);for(;wd.length;)wd.pop()();yd=!1,bd.clear(),Fl(t)}function VD(t){if(t.fragment!==null){t.update(),Ge(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Sn)}}function KD(t){let e=[],n=[];Ts.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Ts=e}var Gl;function ZD(){return Gl||(Gl=Promise.resolve(),Gl.then(()=>{Gl=null})),Gl}function Jm(t,e,n){t.dispatchEvent(jm(`${e?"intro":"outro"}${n}`))}var bu=new Set,Po;function et(){Po={r:0,c:[],p:Po}}function tt(){Po.r||Ge(Po.c),Po=Po.p}function Q(t,e){t&&t.i&&(bu.delete(t),t.i(e))}function ue(t,e,n,r){if(t&&t.o){if(bu.has(t))return;bu.add(t),Po.c.push(()=>{bu.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}var XD={duration:0};function $m(t,e,n){let r={direction:"in"},i=e(t,n,r),s=!1,l,u,f=0;function d(){l&&_d(t,l)}function p(){let{delay:g=0,duration:_=300,easing:v=xl,tick:b=pe,css:C}=i||XD;C&&(l=qm(t,0,1,_,g,v,C,f++)),b(0,1);let y=Ll()+g,O=y+_;u&&u.abort(),s=!0,Sn(()=>Jm(t,!0,"start")),u=gu(T=>{if(s){if(T>=O)return b(1,0),Jm(t,!0,"end"),d(),s=!1;if(T>=y){let R=v((T-y)/_);b(R,1-R)}}return s})}let h=!1;return{start(){h||(h=!0,_d(t),$t(i)?(i=i(r),ZD().then(p)):p())},invalidate(){h=!1},end(){s&&(d(),s=!1)}}}var e_=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function t_(t,e){t.d(1),e.delete(t.key)}function QD(t,e){ue(t,1,1,()=>{e.delete(t.key)})}function n_(t,e){t.f(),QD(t,e)}function ku(t,e,n,r,i,s,l,u,f,d,p,h){let g=t.length,_=s.length,v=g,b={};for(;v--;)b[t[v].key]=v;let C=[],y=new Map,O=new Map,T=[];for(v=_;v--;){let U=h(i,s,v),D=n(U),Y=l.get(D);Y?r&&T.push(()=>Y.p(U,e)):(Y=d(D,U),Y.c()),y.set(D,C[v]=Y),D in b&&O.set(D,Math.abs(v-b[D]))}let R=new Set,I=new Set;function x(U){Q(U,1),U.m(u,p),l.set(U.key,U),p=U.first,_--}for(;g&&_;){let U=C[_-1],D=t[g-1],Y=U.key,ne=D.key;U===D?(p=U.first,g--,_--):y.has(ne)?!l.has(Y)||R.has(Y)?x(U):I.has(ne)?g--:O.get(Y)>O.get(ne)?(I.add(Y),x(U)):(R.add(ne),g--):(f(D,l),g--)}for(;g--;){let U=t[g];y.has(U.key)||f(U,l)}for(;_;)x(C[_-1]);return Ge(T),C}function Vi(t,e){let n={},r={},i={$$scope:1},s=t.length;for(;s--;){let l=t[s],u=e[s];if(u){for(let f in l)f in u||(r[f]=1);for(let f in u)i[f]||(n[f]=u[f],i[f]=1);t[s]=u}else for(let f in l)i[f]=1}for(let l in r)l in n||(n[l]=void 0);return n}var JD=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],WP=new Set([...JD]);function ot(t,e,n){let r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function gt(t){t&&t.c()}function dt(t,e,n,r){let{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||Sn(()=>{let l=t.$$.on_mount.map(hd).filter($t);t.$$.on_destroy?t.$$.on_destroy.push(...l):Ge(l),t.$$.on_mount=[]}),s.forEach(Sn)}function ut(t,e){let n=t.$$;n.fragment!==null&&(KD(n.after_update),Ge(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $D(t,e){t.$$.dirty[0]===-1&&(Ss.push(t),Xm(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ue(t,e,n,r,i,s,l,u=[-1]){let f=Rl;Fl(t);let d=t.$$={fragment:null,ctx:[],props:s,update:pe,not_equal:i,bound:Rm(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Rm(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};l&&l(d.root);let p=!1;if(d.ctx=n?n(t,e.props||{},(h,g,..._)=>{let v=_.length?_[0]:g;return d.ctx&&i(d.ctx[h],d.ctx[h]=v)&&(!d.skip_bound&&d.bound[h]&&d.bound[h](v),p&&$D(t,h)),g}):[],d.update(),p=!0,Ge(d.before_update),d.fragment=r?r(d.ctx):!1,e.target){if(e.hydrate){YD();let h=BD(e.target);d.fragment&&d.fragment.l(h),h.forEach(W)}else d.fragment&&d.fragment.c();e.intro&&Q(t.$$.fragment),dt(t,e.target,e.anchor,e.customElement),GD(),Qm()}Fl(f)}var e3;typeof HTMLElement=="function"&&(e3=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(hd).filter($t);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){Ge(this.$$.on_disconnect)}$destroy(){ut(this,1),this.$destroy=pe}$on(t,e){if(!$t(e))return pe;let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let r=n.indexOf(e);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!Fm(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});var ze=class{$destroy(){ut(this,1),this.$destroy=pe}$on(e,n){if(!$t(n))return pe;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{let i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Fm(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var E_=Ye(Ed()),{__extends:HP,__assign:UP,__rest:jP,__decorate:qP,__param:VP,__metadata:KP,__awaiter:Dt,__generator:ZP,__exportStar:XP,__createBinding:QP,__values:JP,__read:$P,__spread:ex,__spreadArrays:tx,__spreadArray:nx,__await:rx,__asyncGenerator:ix,__asyncDelegator:ox,__asyncValues:sx,__makeTemplateObject:lx,__importStar:ax,__importDefault:ux,__classPrivateFieldGet:fx,__classPrivateFieldSet:cx}=E_.default;function Cd(t,e=!1){return K(this,null,function*(){var l,u,f;let n=me.getInstance();if(!It())throw new Ct("Not logged in",null,401,{error:"Not logged in"});let r=(l=t.parent)==null?void 0:l.id;if(r||(r=(u=n.settings.defaultCalendar)!=null?u:""),r==="")throw new Ct("Could not create Google Event because no default calendar selected in Settings",null,999,{error:"No calendar set"});let i=(f=t.recurringEventId)!=null?f:t.id;return!e&&t.recurringEventId&&(i=t.id),yield gr(`https://www.googleapis.com/calendar/v3/calendars/${r}/events/${i}`,"DELETE",null)})}function Tu(t,e=!1){return K(this,null,function*(){try{let n=yield Cd(t,e);return He(`Google Event ${t.summary} deleted.`),n}catch(n){if(!(n instanceof Ct))return!1;switch(n.status){case 401:break;case 999:He(n.message);break;default:He(`Google Event ${t.summary} could not be deleted.`),console.error("[GoogleCalendar]",n);break}return!1}})}function Sd(t,e){return K(this,null,function*(){if(!It())throw new Ct("Not logged in",null,401,{error:"Not logged in"});let n=yield gr(`https://www.googleapis.com/calendar/v3/calendars/${e}/events/${t}`,"GET",null);return n.parent=(yield yi()).find(r=>r.id===e),n})}function Ki(t,e){return K(this,null,function*(){try{return yield Sd(t,e)}catch(n){if(!(n instanceof Ct))return null;switch(n.status){case 401:break;case 999:He(n.message);break;default:He("Could not get Google Event."),console.error("[GoogleCalendar]",n);break}return null}})}function Ms(t,e=!1){return K(this,null,function*(){var s;let n=me.getInstance();if(!It())throw new Ct("Not logged in",null,401,{error:"Not logged in"});if(e&&t.recurringEventId){let l=yield Ki(t.recurringEventId,t.parent.id);t=_i(_i({},l),t),t.start.dateTime?(t.start.dateTime=window.moment(t.start.dateTime).date(window.moment(l.start.dateTime).date()).format(),t.end.dateTime=window.moment(t.end.dateTime).date(window.moment(l.end.dateTime).date()).format()):(t.start.date=window.moment(l.start.date).format("YYYY-MM-DD"),t.end.date=window.moment(l.end.date).format("YYYY-MM-DD")),t.id=l.id,t.recurrence=l.recurrence,t.id=l.id,delete t.recurringEventId,delete t.originalStartTime}let r="";if(((s=t==null?void 0:t.parent)==null?void 0:s.id)?(r=t.parent.id,t.start.timeZone=t.parent.timeZone,t.end.timeZone=t.parent.timeZone,delete t.parent):r=n.settings.defaultCalendar,r==="")throw new Ct("Could not create Google Event because no default calendar selected in Settings",null,999,{error:"No calendar set"});return yield gr(`https://www.googleapis.com/calendar/v3/calendars/${r}/events/${t.id}`,"PUT",t)})}function C_(t){return window.moment(t).format("YYYY-MM-DD")}function S_(t){return window.moment(t).format()}function Td(t){return K(this,null,function*(){var i;let e=me.getInstance();if(t.start.date?(t.start.date=C_(t.start.date),t.end.date=C_(t.end.date)):(t.start.dateTime=S_(t.start.dateTime),t.end.dateTime=S_(t.end.dateTime)),!It())throw new Ct("Not logged in",null,401,{error:"Not logged in"});let n="";if(((i=t==null?void 0:t.parent)==null?void 0:i.id)?(n=t.parent.id,t.start.timeZone=t.parent.timeZone,t.end.timeZone=t.parent.timeZone,delete t.parent):n=e.settings.defaultCalendar,n==="")throw new Ct("Could not create Google Event because no default calendar selected in Settings",null,999,{error:"No calendar set"});return yield gr(`https://www.googleapis.com/calendar/v3/calendars/${n}/events`,"POST",t)})}function Du(t){return K(this,null,function*(){try{let e=yield Td(t);return He(`Google Event ${t.summary} created.`),e}catch(e){if(!(e instanceof Ct))return null;switch(e.status){case 401:break;case 999:He(e.message);break;default:He(`Google Event ${t.summary} could not be created.`),console.error("[GoogleCalendar]",e);break}return null}})}var Ou=["MO","TU","WE","TH","FR","SA","SU"],rn=function(){function t(e,n){if(n===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=n}return t.fromStr=function(e){return new t(Ou.indexOf(e))},t.prototype.nth=function(e){return this.n===e?this:new t(this.weekday,e)},t.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},t.prototype.toString=function(){var e=Ou[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},t.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},t}();var Ft=function(t){return t!=null},rr=function(t){return typeof t=="number"},Dd=function(t){return Ou.indexOf(t)>=0},Tn=Array.isArray,br=function(t,e){e===void 0&&(e=t),arguments.length===1&&(e=t,t=0);for(var n=[],r=t;r<e;r++)n.push(r);return n};var st=function(t,e){var n=0,r=[];if(Tn(t))for(;n<e;n++)r[n]=[].concat(t);else for(;n<e;n++)r[n]=t;return r},T_=function(t){return Tn(t)?t:[t]};function xo(t,e,n){n===void 0&&(n=" ");var r=String(t);return e=e>>0,r.length>e?String(r):(e=e-r.length,e>n.length&&(n+=st(n,e/n.length)),n.slice(0,e)+String(r))}var D_=function(t,e,n){var r=t.split(e);return n?r.slice(0,n).concat([r.slice(n).join(e)]):r},An=function(t,e){var n=t%e;return n*e<0?n+e:n},Mu=function(t,e){return{div:Math.floor(t/e),mod:An(t,e)}},ir=function(t){return!Ft(t)||t.length===0},en=function(t){return!ir(t)},ft=function(t,e){return en(t)&&t.indexOf(e)!==-1};var Zi;(function(t){t.MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],t.ONE_DAY=1e3*60*60*24,t.MAXYEAR=9999,t.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),t.PY_WEEKDAYS=[6,0,1,2,3,4,5],t.getYearDay=function(e){var n=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return Math.ceil((n.valueOf()-new Date(e.getUTCFullYear(),0,1).valueOf())/t.ONE_DAY)+1},t.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},t.isDate=function(e){return e instanceof Date},t.isValidDate=function(e){return t.isDate(e)&&!isNaN(e.getTime())},t.tzOffset=function(e){return e.getTimezoneOffset()*60*1e3},t.daysBetween=function(e,n){var r=e.getTime()-t.tzOffset(e),i=n.getTime()-t.tzOffset(n),s=r-i;return Math.round(s/t.ONE_DAY)},t.toOrdinal=function(e){return t.daysBetween(e,t.ORDINAL_BASE)},t.fromOrdinal=function(e){return new Date(t.ORDINAL_BASE.getTime()+e*t.ONE_DAY)},t.getMonthDays=function(e){var n=e.getUTCMonth();return n===1&&t.isLeapYear(e.getUTCFullYear())?29:t.MONTH_DAYS[n]},t.getWeekday=function(e){return t.PY_WEEKDAYS[e.getUTCDay()]},t.monthRange=function(e,n){var r=new Date(Date.UTC(e,n,1));return[t.getWeekday(r),t.getMonthDays(r)]},t.combine=function(e,n){return n=n||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))},t.clone=function(e){var n=new Date(e.getTime());return n},t.cloneDates=function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.clone(e[r]));return n},t.sort=function(e){e.sort(function(n,r){return n.getTime()-r.getTime()})},t.timeToUntilString=function(e,n){n===void 0&&(n=!0);var r=new Date(e);return[xo(r.getUTCFullYear().toString(),4,"0"),xo(r.getUTCMonth()+1,2,"0"),xo(r.getUTCDate(),2,"0"),"T",xo(r.getUTCHours(),2,"0"),xo(r.getUTCMinutes(),2,"0"),xo(r.getUTCSeconds(),2,"0"),n?"Z":""].join("")},t.untilStringToDate=function(e){var n=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,r=n.exec(e);if(!r)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[5],10)||0,parseInt(r[6],10)||0,parseInt(r[7],10)||0))}})(Zi||(Zi={}));var Ne=Zi;var t3=function(){function t(e,n){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=n,e==="between"?(this.maxDate=n.inc?n.before:new Date(n.before.getTime()-1),this.minDate=n.inc?n.after:new Date(n.after.getTime()+1)):e==="before"?this.maxDate=n.inc?n.dt:new Date(n.dt.getTime()-1):e==="after"&&(this.minDate=n.inc?n.dt:new Date(n.dt.getTime()+1))}return t.prototype.accept=function(e){++this.total;var n=this.minDate&&e<this.minDate,r=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(n)return!0;if(r)return!1}else if(this.method==="before"){if(r)return!1}else if(this.method==="after")return n?!0:(this.add(e),!1);return this.add(e)},t.prototype.add=function(e){return this._result.push(e),!0},t.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},t.prototype.clone=function(){return new t(this.method,this.args)},t}(),Di=t3;var Z_=Ye(K_()),{__extends:Is,__assign:Wn,__rest:tL,__decorate:nL,__param:rL,__metadata:iL,__awaiter:oL,__generator:sL,__exportStar:lL,__createBinding:aL,__values:uL,__read:fL,__spread:cL,__spreadArrays:Lo,__await:dL,__asyncGenerator:pL,__asyncDelegator:hL,__asyncValues:gL,__makeTemplateObject:mL,__importStar:_L,__importDefault:vL,__classPrivateFieldGet:wL,__classPrivateFieldSet:yL}=Z_.default;var n3=function(t){Is(e,t);function e(n,r,i){var s=t.call(this,n,r)||this;return s.iterator=i,s}return e.prototype.add=function(n){return this.iterator(n,this._result.length)?(this._result.push(n),!0):!1},e}(Di),Md=n3;var r3={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},Ro=r3;var X_=function(t,e){return t.indexOf(e)!==-1},i3=function(t){return t.toString()},o3=function(t,e,n){return e+" "+n+", "+t},s3=function(){function t(e,n,r,i){if(n===void 0&&(n=i3),r===void 0&&(r=Ro),i===void 0&&(i=o3),this.text=[],this.language=r||Ro,this.gettext=n,this.dateFormatter=i,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var s=[].concat(this.options.bymonthday),l=[].concat(this.options.bynmonthday);s.sort(function(p,h){return p-h}),l.sort(function(p,h){return h-p}),this.bymonthday=s.concat(l),this.bymonthday.length||(this.bymonthday=null)}if(Ft(this.origOptions.byweekday)){var u=Tn(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],f=String(u);this.byweekday={allWeeks:u.filter(function(p){return!p.n}),someWeeks:u.filter(function(p){return Boolean(p.n)}),isWeekdays:f.indexOf("MO")!==-1&&f.indexOf("TU")!==-1&&f.indexOf("WE")!==-1&&f.indexOf("TH")!==-1&&f.indexOf("FR")!==-1&&f.indexOf("SA")===-1&&f.indexOf("SU")===-1,isEveryDay:f.indexOf("MO")!==-1&&f.indexOf("TU")!==-1&&f.indexOf("WE")!==-1&&f.indexOf("TH")!==-1&&f.indexOf("FR")!==-1&&f.indexOf("SA")!==-1&&f.indexOf("SU")!==-1};var d=function(p,h){return p.weekday-h.weekday};this.byweekday.allWeeks.sort(d),this.byweekday.someWeeks.sort(d),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return t.isFullyConvertible=function(e){var n=!0;if(!(e.options.freq in t.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var r in e.origOptions){if(X_(["dtstart","wkst","freq"],r))return!0;if(!X_(t.IMPLEMENTED[e.options.freq],r))return!1}return n},t.prototype.isFullyConvertible=function(){return t.isFullyConvertible(this.rrule)},t.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in t.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[Ee.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var n=this.options.until;this.add(this.dateFormatter(n.getUTCFullYear(),this.language.monthNames[n.getUTCMonth()],n.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},t.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},t.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},t.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},t.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},t.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},t.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},t.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},t.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},t.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},t.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},t.prototype.nth=function(e){e=parseInt(e.toString(),10);var n,r,i=this.gettext;if(e===-1)return i("last");switch(r=Math.abs(e),r){case 1:case 21:case 31:n=r+i("st");break;case 2:case 22:n=r+i("nd");break;case 3:case 23:n=r+i("rd");break;default:n=r+i("th")}return e<0?n+" "+i("last"):n},t.prototype.monthtext=function(e){return this.language.monthNames[e-1]},t.prototype.weekdaytext=function(e){var n=rr(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[n]},t.prototype.plural=function(e){return e%100!=1},t.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},t.prototype.list=function(e,n,r,i){i===void 0&&(i=","),Tn(e)||(e=[e]);var s=function(f,d,p){for(var h="",g=0;g<f.length;g++)g!==0&&(g===f.length-1?h+=" "+p+" ":h+=d+" "),h+=f[g];return h};n=n||function(f){return f.toString()};var l=this,u=function(f){return n&&n.call(l,f)};return r?s(e.map(u),i,r):e.map(u).join(i+" ")},t}(),$r=s3;var l3=function(){function t(e){this.done=!0,this.rules=e}return t.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},t.prototype.isDone=function(){return this.done&&this.symbol===null},t.prototype.nextSymbol=function(){var e,n,r=this;this.symbol=null,this.value=null;do{if(this.done)return!1;var i=void 0;e=null;for(var s in this.rules){i=this.rules[s];var l=i.exec(r.text);l&&(e===null||l[0].length>e[0].length)&&(e=l,n=s)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(n==="SKIP");return this.symbol=n,this.value=e,!0},t.prototype.accept=function(e){if(this.symbol===e){if(this.value){var n=this.value;return this.nextSymbol(),n}return this.nextSymbol(),!0}return!1},t.prototype.acceptNumber=function(){return this.accept("number")},t.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},t}();function Wl(t,e){e===void 0&&(e=Ro);var n={},r=new l3(e.tokens);if(!r.start(t))return null;return i(),n;function i(){r.expect("every");var g=r.acceptNumber();if(g&&(n.interval=parseInt(g[0],10)),r.isDone())throw new Error("Unexpected end");switch(r.symbol){case"day(s)":n.freq=Ee.DAILY,r.nextSymbol()&&(l(),h());break;case"weekday(s)":n.freq=Ee.WEEKLY,n.byweekday=[Ee.MO,Ee.TU,Ee.WE,Ee.TH,Ee.FR],r.nextSymbol(),h();break;case"week(s)":n.freq=Ee.WEEKLY,r.nextSymbol()&&(s(),h());break;case"hour(s)":n.freq=Ee.HOURLY,r.nextSymbol()&&(s(),h());break;case"minute(s)":n.freq=Ee.MINUTELY,r.nextSymbol()&&(s(),h());break;case"month(s)":n.freq=Ee.MONTHLY,r.nextSymbol()&&(s(),h());break;case"year(s)":n.freq=Ee.YEARLY,r.nextSymbol()&&(s(),h());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":n.freq=Ee.WEEKLY;var _=r.symbol.substr(0,2).toUpperCase();if(n.byweekday=[Ee[_]],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var v=f();if(!v)throw new Error("Unexpected symbol "+r.symbol+", expected weekday");n.byweekday.push(Ee[v]),r.nextSymbol()}p(),h();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(n.freq=Ee.YEARLY,n.bymonth=[u()],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var b=u();if(!b)throw new Error("Unexpected symbol "+r.symbol+", expected month");n.bymonth.push(b),r.nextSymbol()}s(),h();break;default:throw new Error("Unknown symbol")}}function s(){var g=r.accept("on"),_=r.accept("the");if(!!(g||_))do{var v=d(),b=f(),C=u();if(v)b?(r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(Ee[b].nth(v))):(n.bymonthday||(n.bymonthday=[]),n.bymonthday.push(v),r.accept("day(s)"));else if(b)r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(Ee[b]);else if(r.symbol==="weekday(s)")r.nextSymbol(),n.byweekday||(n.byweekday=[Ee.MO,Ee.TU,Ee.WE,Ee.TH,Ee.FR]);else if(r.symbol==="week(s)"){r.nextSymbol();var y=r.acceptNumber();if(!y)throw new Error("Unexpected symbol "+r.symbol+", expected week number");for(n.byweekno=[parseInt(y[0],10)];r.accept("comma");){if(y=r.acceptNumber(),!y)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.byweekno.push(parseInt(y[0],10))}}else if(C)r.nextSymbol(),n.bymonth||(n.bymonth=[]),n.bymonth.push(C);else return}while(r.accept("comma")||r.accept("the")||r.accept("on"))}function l(){var g=r.accept("at");if(!!g)do{var _=r.acceptNumber();if(!_)throw new Error("Unexpected symbol "+r.symbol+", expected hour");for(n.byhour=[parseInt(_[0],10)];r.accept("comma");){if(_=r.acceptNumber(),!_)throw new Error("Unexpected symbol "+r.symbol+"; expected hour");n.byhour.push(parseInt(_[0],10))}}while(r.accept("comma")||r.accept("at"))}function u(){switch(r.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function f(){switch(r.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return r.symbol.substr(0,2).toUpperCase();default:return!1}}function d(){switch(r.symbol){case"last":return r.nextSymbol(),-1;case"first":return r.nextSymbol(),1;case"second":return r.nextSymbol(),r.accept("last")?-2:2;case"third":return r.nextSymbol(),r.accept("last")?-3:3;case"nth":var g=parseInt(r.value[1],10);if(g<-366||g>366)throw new Error("Nth out of range: "+g);return r.nextSymbol(),r.accept("last")?-g:g;default:return!1}}function p(){r.accept("on"),r.accept("the");var g=d();if(!!g)for(n.bymonthday=[g],r.nextSymbol();r.accept("comma");){if(g=d(),!g)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.bymonthday.push(g),r.nextSymbol()}}function h(){if(r.symbol==="until"){var g=Date.parse(r.text);if(!g)throw new Error("Cannot parse until date:"+r.text);n.until=new Date(g)}else r.accept("for")&&(n.count=parseInt(r.value[0],10),r.expect("number"))}}var Je;(function(t){t[t.YEARLY=0]="YEARLY",t[t.MONTHLY=1]="MONTHLY",t[t.WEEKLY=2]="WEEKLY",t[t.DAILY=3]="DAILY",t[t.HOURLY=4]="HOURLY",t[t.MINUTELY=5]="MINUTELY",t[t.SECONDLY=6]="SECONDLY"})(Je||(Je={}));function Bl(t){return t<Je.HOURLY}var Q_=function(t,e){return e===void 0&&(e=Ro),new Ee(Wl(t,e)||void 0)},Ns=["count","until","interval","byweekday","bymonthday","bymonth"];$r.IMPLEMENTED=[];$r.IMPLEMENTED[Je.HOURLY]=Ns;$r.IMPLEMENTED[Je.MINUTELY]=Ns;$r.IMPLEMENTED[Je.DAILY]=["byhour"].concat(Ns);$r.IMPLEMENTED[Je.WEEKLY]=Ns;$r.IMPLEMENTED[Je.MONTHLY]=Ns;$r.IMPLEMENTED[Je.YEARLY]=["byweekno","byyearday"].concat(Ns);var J_=function(t,e,n,r){return new $r(t,e,n,r).toString()},$_=$r.isFullyConvertible;var Ps=function(){function t(e,n,r,i){this.hour=e,this.minute=n,this.second=r,this.millisecond=i||0}return t.prototype.getHours=function(){return this.hour},t.prototype.getMinutes=function(){return this.minute},t.prototype.getSeconds=function(){return this.second},t.prototype.getMilliseconds=function(){return this.millisecond},t.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},t}();var ev=function(t){Is(e,t);function e(n,r,i,s,l,u,f){var d=t.call(this,s,l,u,f)||this;return d.year=n,d.month=r,d.day=i,d}return e.fromDate=function(n){return new this(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.valueOf()%1e3)},e.prototype.getWeekday=function(){return Zi.getWeekday(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(n){this.year+=n},e.prototype.addMonths=function(n){if(this.month+=n,this.month>12){var r=Math.floor(this.month/12),i=An(this.month,12);this.month=i,this.year+=r,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(n,r){r>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-r))+n*7:this.day+=-(this.getWeekday()-r)+n*7,this.fixDay()},e.prototype.addDaily=function(n){this.day+=n,this.fixDay()},e.prototype.addHours=function(n,r,i){for(r&&(this.hour+=Math.floor((23-this.hour)/n)*n);;){this.hour+=n;var s=Mu(this.hour,24),l=s.div,u=s.mod;if(l&&(this.hour=u,this.addDaily(l)),ir(i)||ft(i,this.hour))break}},e.prototype.addMinutes=function(n,r,i,s){for(r&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/n)*n);;){this.minute+=n;var l=Mu(this.minute,60),u=l.div,f=l.mod;if(u&&(this.minute=f,this.addHours(u,!1,i)),(ir(i)||ft(i,this.hour))&&(ir(s)||ft(s,this.minute)))break}},e.prototype.addSeconds=function(n,r,i,s,l){for(r&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/n)*n);;){this.second+=n;var u=Mu(this.second,60),f=u.div,d=u.mod;if(f&&(this.second=d,this.addMinutes(f,!1,i,s)),(ir(i)||ft(i,this.hour))&&(ir(s)||ft(s,this.minute))&&(ir(l)||ft(l,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var n=Zi.monthRange(this.year,this.month-1)[1];if(!(this.day<=n))for(;this.day>n;){if(this.day-=n,++this.month,this.month===13&&(this.month=1,++this.year,this.year>Zi.MAXYEAR))return;n=Zi.monthRange(this.year,this.month-1)[1]}}},e.prototype.add=function(n,r){var i=n.freq,s=n.interval,l=n.wkst,u=n.byhour,f=n.byminute,d=n.bysecond;switch(i){case Je.YEARLY:return this.addYears(s);case Je.MONTHLY:return this.addMonths(s);case Je.WEEKLY:return this.addWeekly(s,l);case Je.DAILY:return this.addDaily(s);case Je.HOURLY:return this.addHours(s,r,u);case Je.MINUTELY:return this.addMinutes(s,r,u,f);case Je.SECONDLY:return this.addSeconds(s,r,u,f,d)}},e}(Ps);function Ad(t){for(var e=[],n=Object.keys(t),r=0,i=n;r<i.length;r++){var s=i[r];ft(rv,s)||e.push(s),Ne.isDate(t[s])&&!Ne.isValidDate(t[s])&&e.push(s)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return Wn({},t)}function tv(t){var e=Wn(Wn({},zl),Ad(t));if(Ft(e.byeaster)&&(e.freq=Ee.YEARLY),!(Ft(e.freq)&&Ee.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: "+e.freq+" "+t.freq);if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),Ft(e.wkst)?rr(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=Ee.MO.weekday,Ft(e.bysetpos)){rr(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var n=0;n<e.bysetpos.length;n++){var r=e.bysetpos[n];if(r===0||!(r>=-366&&r<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(e.byweekno)||en(e.byweekno)||en(e.byyearday)||Boolean(e.bymonthday)||en(e.bymonthday)||Ft(e.byweekday)||Ft(e.byeaster)))switch(e.freq){case Ee.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case Ee.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case Ee.WEEKLY:e.byweekday=[Ne.getWeekday(e.dtstart)];break}if(Ft(e.bymonth)&&!Tn(e.bymonth)&&(e.bymonth=[e.bymonth]),Ft(e.byyearday)&&!Tn(e.byyearday)&&rr(e.byyearday)&&(e.byyearday=[e.byyearday]),!Ft(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(Tn(e.bymonthday)){for(var i=[],s=[],n=0;n<e.bymonthday.length;n++){var r=e.bymonthday[n];r>0?i.push(r):r<0&&s.push(r)}e.bymonthday=i,e.bynmonthday=s}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(Ft(e.byweekno)&&!Tn(e.byweekno)&&(e.byweekno=[e.byweekno]),!Ft(e.byweekday))e.bynweekday=null;else if(rr(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(Dd(e.byweekday))e.byweekday=[rn.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof rn)!e.byweekday.n||e.freq>Ee.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var l=[],u=[],n=0;n<e.byweekday.length;n++){var f=e.byweekday[n];if(rr(f)){l.push(f);continue}else if(Dd(f)){l.push(rn.fromStr(f).weekday);continue}!f.n||e.freq>Ee.MONTHLY?l.push(f.weekday):u.push([f.weekday,f.n])}e.byweekday=en(l)?l:null,e.bynweekday=en(u)?u:null}return Ft(e.byhour)?rr(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<Ee.HOURLY?[e.dtstart.getUTCHours()]:null,Ft(e.byminute)?rr(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<Ee.MINUTELY?[e.dtstart.getUTCMinutes()]:null,Ft(e.bysecond)?rr(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<Ee.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function nv(t){var e=t.dtstart.getTime()%1e3;if(!Bl(t.freq))return[];var n=[];return t.byhour.forEach(function(r){t.byminute.forEach(function(i){t.bysecond.forEach(function(s){n.push(new Ps(r,i,s,e))})})}),n}function Hl(t){var e=t.split(`
`).map(a3).filter(function(n){return n!==null});return Wn(Wn({},e[0]),e[1])}function Ul(t){var e={},n=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(t);if(!n)return e;var r=n[0],i=n[1],s=n[2];return i&&(e.tzid=i),e.dtstart=Ne.untilStringToDate(s),e}function a3(t){if(t=t.replace(/^\s+|\s+$/,""),!t.length)return null;var e=/^([A-Z]+?)[:;]/.exec(t.toUpperCase());if(!e)return iv(t);var n=e[0],r=e[1];switch(r.toUpperCase()){case"RRULE":case"EXRULE":return iv(t);case"DTSTART":return Ul(t);default:throw new Error("Unsupported RFC prop "+r+" in "+t)}}function iv(t){var e=t.replace(/^RRULE:/i,""),n=Ul(e),r=t.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return r.forEach(function(i){var s=i.split("="),l=s[0],u=s[1];switch(l.toUpperCase()){case"FREQ":n.freq=Je[u.toUpperCase()];break;case"WKST":n.wkst=kr[u.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var f=u3(u),d=l.toLowerCase();n[d]=f;break;case"BYWEEKDAY":case"BYDAY":n.byweekday=f3(u);break;case"DTSTART":case"TZID":var p=Ul(t);n.tzid=p.tzid,n.dtstart=p.dtstart;break;case"UNTIL":n.until=Ne.untilStringToDate(u);break;case"BYEASTER":n.byeaster=Number(u);break;default:throw new Error("Unknown RRULE property '"+l+"'")}}),n}function u3(t){if(t.indexOf(",")!==-1){var e=t.split(",");return e.map(ov)}return ov(t)}function ov(t){return/^[+-]?\d+$/.test(t)?Number(t):t}function f3(t){var e=t.split(",");return e.map(function(n){if(n.length===2)return kr[n];var r=n.match(/^([+-]?\d{1,2})([A-Z]{2})$/),i=Number(r[1]),s=r[2],l=kr[s].weekday;return new rn(l,i)})}var Fo=function(){function t(e,n){this.date=e,this.tzid=n}return Object.defineProperty(t.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var e=Ne.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":"+e:";TZID="+this.tzid+":"+e},t.prototype.getTime=function(){return this.date.getTime()},t.prototype.rezonedDate=function(){var e;if(this.isUTC)return this.date;var n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=new Date(this.date.toLocaleString(void 0,{timeZone:n})),i=new Date(this.date.toLocaleString(void 0,{timeZone:(e=this.tzid,e!=null?e:"UTC")})),s=i.getTime()-r.getTime();return new Date(this.date.getTime()-s)},t}();function jl(t){for(var e=[],n="",r=Object.keys(t),i=Object.keys(zl),s=0;s<r.length;s++)if(r[s]!=="tzid"&&!!ft(i,r[s])){var l=r[s].toUpperCase(),u=t[r[s]],f="";if(!(!Ft(u)||Tn(u)&&!u.length)){switch(l){case"FREQ":f=Ee.FREQUENCIES[t.freq];break;case"WKST":rr(u)?f=new rn(u).toString():f=u.toString();break;case"BYWEEKDAY":l="BYDAY",f=T_(u).map(function(_){return _ instanceof rn?_:Tn(_)?new rn(_[0],_[1]):new rn(_)}).toString();break;case"DTSTART":n=c3(u,t.tzid);break;case"UNTIL":f=Ne.timeToUntilString(u,!t.tzid);break;default:if(Tn(u)){for(var d=[],p=0;p<u.length;p++)d[p]=String(u[p]);f=d.toString()}else f=String(u)}f&&e.push([l,f])}}var h=e.map(function(_){var v=_[0],b=_[1];return v+"="+b.toString()}).join(";"),g="";return h!==""&&(g="RRULE:"+h),[n,g].filter(function(_){return!!_}).join(`
`)}function c3(t,e){return t?"DTSTART"+new Fo(new Date(t),e).toString():""}function d3(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every(function(n,r){return n.getTime()===e[r].getTime()}):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():t===e}var sv=function(){function t(){this.all=!1,this.before=[],this.after=[],this.between=[]}return t.prototype._cacheAdd=function(e,n,r){n&&(n=n instanceof Date?Ne.clone(n):Ne.cloneDates(n)),e==="all"?this.all=n:(r._value=n,this[e].push(r))},t.prototype._cacheGet=function(e,n){var r=!1,i=n?Object.keys(n):[],s=function(p){for(var h=0;h<i.length;h++){var g=i[h];if(!d3(n[g],p[g]))return!0}return!1},l=this[e];if(e==="all")r=this.all;else if(Tn(l))for(var u=0;u<l.length;u++){var f=l[u];if(!(i.length&&s(f))){r=f._value;break}}if(!r&&this.all){for(var d=new Di(e,n),u=0;u<this.all.length&&d.accept(this.all[u]);u++);r=d.getValue(),this._cacheAdd(e,r,n)}return Tn(r)?Ne.cloneDates(r):r instanceof Date?Ne.clone(r):r},t}();var lv=Lo(st(1,31),st(2,28),st(3,31),st(4,30),st(5,31),st(6,30),st(7,31),st(8,31),st(9,30),st(10,31),st(11,30),st(12,31),st(1,7)),av=Lo(st(1,31),st(2,29),st(3,31),st(4,30),st(5,31),st(6,30),st(7,31),st(8,31),st(9,30),st(10,31),st(11,30),st(12,31),st(1,7)),p3=br(1,29),h3=br(1,30),Xi=br(1,31),In=br(1,32),uv=Lo(In,h3,In,Xi,In,Xi,In,In,Xi,In,Xi,In,In.slice(0,7)),fv=Lo(In,p3,In,Xi,In,Xi,In,In,Xi,In,Xi,In,In.slice(0,7)),g3=br(-28,0),m3=br(-29,0),Qi=br(-30,0),Nn=br(-31,0),cv=Lo(Nn,m3,Nn,Qi,Nn,Qi,Nn,Nn,Qi,Nn,Qi,Nn,Nn.slice(0,7)),dv=Lo(Nn,g3,Nn,Qi,Nn,Qi,Nn,Nn,Qi,Nn,Qi,Nn,Nn.slice(0,7)),pv=[0,31,60,91,121,152,182,213,244,274,305,335,366],hv=[0,31,59,90,120,151,181,212,243,273,304,334,365],Id=function(){for(var t=[],e=0;e<55;e++)t=t.concat(br(7));return t}();function gv(t,e){var n=new Date(Date.UTC(t,0,1)),r=Ne.isLeapYear(t)?366:365,i=Ne.isLeapYear(t+1)?366:365,s=Ne.toOrdinal(n),l=Ne.getWeekday(n),u=Wn(Wn({yearlen:r,nextyearlen:i,yearordinal:s,yearweekday:l},_3(t)),{wnomask:null});if(ir(e.byweekno))return u;u.wnomask=st(0,r+7);var f,d,p=f=An(7-l+e.wkst,7);p>=4?(p=0,d=u.yearlen+An(l-e.wkst,7)):d=r-p;for(var h=Math.floor(d/7),g=An(d,7),_=Math.floor(h+g/4),v=0;v<e.byweekno.length;v++){var b=e.byweekno[v];if(b<0&&(b+=_+1),b>0&&b<=_){var C=void 0;b>1?(C=p+(b-1)*7,p!==f&&(C-=7-f)):C=p;for(var y=0;y<7&&(u.wnomask[C]=1,C++,u.wdaymask[C]!==e.wkst);y++);}}if(ft(e.byweekno,1)){var C=p+_*7;if(p!==f&&(C-=7-f),C<r)for(var v=0;v<7&&(u.wnomask[C]=1,C+=1,u.wdaymask[C]!==e.wkst);v++);}if(p){var O=void 0;if(ft(e.byweekno,-1))O=-1;else{var T=Ne.getWeekday(new Date(Date.UTC(t-1,0,1))),R=An(7-T.valueOf()+e.wkst,7),I=Ne.isLeapYear(t-1)?366:365,x=void 0;R>=4?(R=0,x=I+An(T-e.wkst,7)):x=r-p,O=Math.floor(52+An(x,7)/4)}if(ft(e.byweekno,O))for(var C=0;C<p;C++)u.wnomask[C]=1}return u}function _3(t){var e=Ne.isLeapYear(t)?366:365,n=new Date(Date.UTC(t,0,1)),r=Ne.getWeekday(n);return e===365?{mmask:lv,mdaymask:fv,nmdaymask:dv,wdaymask:Id.slice(r),mrange:hv}:{mmask:av,mdaymask:uv,nmdaymask:cv,wdaymask:Id.slice(r),mrange:pv}}function mv(t,e,n,r,i,s){var l={lastyear:t,lastmonth:e,nwdaymask:[]},u=[];if(s.freq===Ee.YEARLY)if(ir(s.bymonth))u=[[0,n]];else for(var f=0;f<s.bymonth.length;f++)e=s.bymonth[f],u.push(r.slice(e-1,e+1));else s.freq===Ee.MONTHLY&&(u=[r.slice(e-1,e+1)]);if(ir(u))return l;l.nwdaymask=st(0,n);for(var f=0;f<u.length;f++)for(var d=u[f],p=d[0],h=d[1]-1,g=0;g<s.bynweekday.length;g++){var _=void 0,v=s.bynweekday[g],b=v[0],C=v[1];C<0?(_=h+(C+1)*7,_-=An(i[_]-b,7)):(_=p+(C-1)*7,_+=An(7-i[_]+b,7)),p<=_&&_<=h&&(l.nwdaymask[_]=1)}return l}function _v(t,e){e===void 0&&(e=0);var n=t%19,r=Math.floor(t/100),i=t%100,s=Math.floor(r/4),l=r%4,u=Math.floor((r+8)/25),f=Math.floor((r-u+1)/3),d=Math.floor(19*n+r-s-f+15)%30,p=Math.floor(i/4),h=i%4,g=Math.floor(32+2*l+2*p-d-h)%7,_=Math.floor((n+11*d+22*g)/451),v=Math.floor((d+g-7*_+114)/31),b=(d+g-7*_+114)%31+1,C=Date.UTC(t,v-1,b+e),y=Date.UTC(t,0,1);return[Math.ceil((C-y)/(1e3*60*60*24))]}var v3=function(){function t(e){this.options=e}return t.prototype.rebuild=function(e,n){var r=this.options;if(e!==this.lastyear&&(this.yearinfo=gv(e,r)),en(r.bynweekday)&&(n!==this.lastmonth||e!==this.lastyear)){var i=this.yearinfo,s=i.yearlen,l=i.mrange,u=i.wdaymask;this.monthinfo=mv(e,n,s,l,u,r)}Ft(r.byeaster)&&(this.eastermask=_v(e,r.byeaster))},Object.defineProperty(t.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!0,configurable:!0}),t.prototype.ydayset=function(){return[br(this.yearlen),0,this.yearlen]},t.prototype.mdayset=function(e,n,r){for(var i=this.mrange[n-1],s=this.mrange[n],l=st(null,this.yearlen),u=i;u<s;u++)l[u]=u;return[l,i,s]},t.prototype.wdayset=function(e,n,r){for(var i=st(null,this.yearlen+7),s=Ne.toOrdinal(new Date(Date.UTC(e,n-1,r)))-this.yearordinal,l=s,u=0;u<7&&(i[s]=s,++s,this.wdaymask[s]!==this.options.wkst);u++);return[i,l,s]},t.prototype.ddayset=function(e,n,r){var i=st(null,this.yearlen),s=Ne.toOrdinal(new Date(Date.UTC(e,n-1,r)))-this.yearordinal;return i[s]=s,[i,s,s+1]},t.prototype.htimeset=function(e,n,r,i){var s=this,l=[];return this.options.byminute.forEach(function(u){l=l.concat(s.mtimeset(e,u,r,i))}),Ne.sort(l),l},t.prototype.mtimeset=function(e,n,r,i){var s=this.options.bysecond.map(function(l){return new Ps(e,n,l,i)});return Ne.sort(s),s},t.prototype.stimeset=function(e,n,r,i){return[new Ps(e,n,r,i)]},t.prototype.getdayset=function(e){switch(e){case Je.YEARLY:return this.ydayset.bind(this);case Je.MONTHLY:return this.mdayset.bind(this);case Je.WEEKLY:return this.wdayset.bind(this);case Je.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},t.prototype.gettimeset=function(e){switch(e){case Je.HOURLY:return this.htimeset.bind(this);case Je.MINUTELY:return this.mtimeset.bind(this);case Je.SECONDLY:return this.stimeset.bind(this)}},t}(),vv=v3;function wv(t,e,n,r,i,s){for(var l=[],u=0;u<t.length;u++){var f=void 0,d=void 0,p=t[u];p<0?(f=Math.floor(p/e.length),d=An(p,e.length)):(f=Math.floor((p-1)/e.length),d=An(p-1,e.length));for(var h=[],g=n;g<r;g++){var _=s[g];!Ft(_)||h.push(_)}var v=void 0;f<0?v=h.slice(f)[0]:v=h[f];var b=e[d],C=Ne.fromOrdinal(i.yearordinal+v),y=Ne.combine(C,b);ft(l,y)||l.push(y)}return Ne.sort(l),l}function Nu(t,e){var n=e.dtstart,r=e.freq,i=e.interval,s=e.until,l=e.bysetpos,u=e.count;if(u===0||i===0)return Oi(t);var f=ev.fromDate(n),d=new vv(e);d.rebuild(f.year,f.month);for(var p=b3(d,f,e);;){var h=d.getdayset(r)(f.year,f.month,f.day),g=h[0],_=h[1],v=h[2],b=y3(g,_,v,d,e);if(en(l))for(var C=wv(l,p,_,v,d,g),y=0;y<C.length;y++){var O=C[y];if(s&&O>s)return Oi(t);if(O>=n){var T=yv(O,e);if(!t.accept(T)||u&&(--u,!u))return Oi(t)}}else for(var y=_;y<v;y++){var R=g[y];if(!!Ft(R))for(var I=Ne.fromOrdinal(d.yearordinal+R),x=0;x<p.length;x++){var U=p[x],O=Ne.combine(I,U);if(s&&O>s)return Oi(t);if(O>=n){var T=yv(O,e);if(!t.accept(T)||u&&(--u,!u))return Oi(t)}}}if(e.interval===0||(f.add(e,b),f.year>Ne.MAXYEAR))return Oi(t);Bl(r)||(p=d.gettimeset(r)(f.hour,f.minute,f.second,0)),d.rebuild(f.year,f.month)}}function w3(t,e,n){var r=n.bymonth,i=n.byweekno,s=n.byweekday,l=n.byeaster,u=n.bymonthday,f=n.bynmonthday,d=n.byyearday;return en(r)&&!ft(r,t.mmask[e])||en(i)&&!t.wnomask[e]||en(s)&&!ft(s,t.wdaymask[e])||en(t.nwdaymask)&&!t.nwdaymask[e]||l!==null&&!ft(t.eastermask,e)||(en(u)||en(f))&&!ft(u,t.mdaymask[e])&&!ft(f,t.nmdaymask[e])||en(d)&&(e<t.yearlen&&!ft(d,e+1)&&!ft(d,-t.yearlen+e)||e>=t.yearlen&&!ft(d,e+1-t.yearlen)&&!ft(d,-t.nextyearlen+e-t.yearlen))}function yv(t,e){return new Fo(t,e.tzid).rezonedDate()}function Oi(t){return t.getValue()}function y3(t,e,n,r,i){for(var s=!1,l=e;l<n;l++){var u=t[l];s=w3(r,u,i),s&&(t[u]=null)}return s}function b3(t,e,n){var r=n.freq,i=n.byhour,s=n.byminute,l=n.bysecond;return Bl(r)?nv(n):r>=Ee.HOURLY&&en(i)&&!ft(i,e.hour)||r>=Ee.MINUTELY&&en(s)&&!ft(s,e.minute)||r>=Ee.SECONDLY&&en(l)&&!ft(l,e.second)?[]:t.gettimeset(r)(e.hour,e.minute,e.second,e.millisecond)}var kr={MO:new rn(0),TU:new rn(1),WE:new rn(2),TH:new rn(3),FR:new rn(4),SA:new rn(5),SU:new rn(6)},zl={freq:Je.YEARLY,dtstart:null,interval:1,wkst:kr.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},rv=Object.keys(zl),Ee=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=!1),this._cache=n?null:new sv,this.origOptions=Ad(e);var r=tv(e).parsedOptions;this.options=r}return t.parseText=function(e,n){return Wl(e,n)},t.fromText=function(e,n){return Q_(e,n)},t.fromString=function(e){return new t(t.parseString(e)||void 0)},t.prototype._iter=function(e){return Nu(e,this.options)},t.prototype._cacheGet=function(e,n){return this._cache?this._cache._cacheGet(e,n):!1},t.prototype._cacheAdd=function(e,n,r){if(!!this._cache)return this._cache._cacheAdd(e,n,r)},t.prototype.all=function(e){if(e)return this._iter(new Md("all",{},e));var n=this._cacheGet("all");return n===!1&&(n=this._iter(new Di("all",{})),this._cacheAdd("all",n)),n},t.prototype.between=function(e,n,r,i){if(r===void 0&&(r=!1),!Ne.isValidDate(e)||!Ne.isValidDate(n))throw new Error("Invalid date passed in to RRule.between");var s={before:n,after:e,inc:r};if(i)return this._iter(new Md("between",s,i));var l=this._cacheGet("between",s);return l===!1&&(l=this._iter(new Di("between",s)),this._cacheAdd("between",l,s)),l},t.prototype.before=function(e,n){if(n===void 0&&(n=!1),!Ne.isValidDate(e))throw new Error("Invalid date passed in to RRule.before");var r={dt:e,inc:n},i=this._cacheGet("before",r);return i===!1&&(i=this._iter(new Di("before",r)),this._cacheAdd("before",i,r)),i},t.prototype.after=function(e,n){if(n===void 0&&(n=!1),!Ne.isValidDate(e))throw new Error("Invalid date passed in to RRule.after");var r={dt:e,inc:n},i=this._cacheGet("after",r);return i===!1&&(i=this._iter(new Di("after",r)),this._cacheAdd("after",i,r)),i},t.prototype.count=function(){return this.all().length},t.prototype.toString=function(){return jl(this.origOptions)},t.prototype.toText=function(e,n,r){return J_(this,e,n,r)},t.prototype.isFullyConvertibleToText=function(){return $_(this)},t.prototype.clone=function(){return new t(this.origOptions)},t.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],t.YEARLY=Je.YEARLY,t.MONTHLY=Je.MONTHLY,t.WEEKLY=Je.WEEKLY,t.DAILY=Je.DAILY,t.HOURLY=Je.HOURLY,t.MINUTELY=Je.MINUTELY,t.SECONDLY=Je.SECONDLY,t.MO=kr.MO,t.TU=kr.TU,t.WE=kr.WE,t.TH=kr.TH,t.FR=kr.FR,t.SA=kr.SA,t.SU=kr.SU,t.parseString=Hl,t.optionsToString=jl,t}();function bv(t,e,n,r,i,s){var l={},u=t.accept;function f(g,_){n.forEach(function(v){v.between(g,_,!0).forEach(function(b){l[Number(b)]=!0})})}i.forEach(function(g){var _=new Fo(g,s).rezonedDate();l[Number(_)]=!0}),t.accept=function(g){var _=Number(g);return isNaN(_)?u.call(this,g):!l[_]&&(f(new Date(_-1),new Date(_+1)),!l[_])?(l[_]=!0,u.call(this,g)):!0},t.method==="between"&&(f(t.args.after,t.args.before),t.accept=function(g){var _=Number(g);return l[_]?!0:(l[_]=!0,u.call(this,g))});for(var d=0;d<r.length;d++){var p=new Fo(r[d],s).rezonedDate();if(!t.accept(new Date(p.getTime())))break}e.forEach(function(g){Nu(t,g.options)});var h=t._result;switch(Ne.sort(h),t.method){case"all":case"between":return h;case"before":return h.length&&h[h.length-1]||null;case"after":default:return h.length&&h[0]||null}}var kv={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function k3(t,e){var n=[],r=[],i=[],s=[],l=Ul(t),u=l.dtstart,f=l.tzid,d=D3(t,e.unfold);return d.forEach(function(p){if(!!p){var h=T3(p),g=h.name,_=h.parms,v=h.value;switch(g.toUpperCase()){case"RRULE":if(_.length)throw new Error("unsupported RRULE parm: "+_.join(","));n.push(Hl(p));break;case"RDATE":var b=/RDATE(?:;TZID=([^:=]+))?/i.exec(p),C=b[0],y=b[1];y&&!f&&(f=y),r=r.concat(Ev(v,_));break;case"EXRULE":if(_.length)throw new Error("unsupported EXRULE parm: "+_.join(","));i.push(Hl(v));break;case"EXDATE":s=s.concat(Ev(v,_));break;case"DTSTART":break;default:throw new Error("unsupported property: "+g)}}}),{dtstart:u,tzid:f,rrulevals:n,rdatevals:r,exrulevals:i,exdatevals:s}}function E3(t,e){var n=k3(t,e),r=n.rrulevals,i=n.rdatevals,s=n.exrulevals,l=n.exdatevals,u=n.dtstart,f=n.tzid,d=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||r.length>1||i.length||s.length||l.length){var p=new Yo(d);return p.dtstart(u),p.tzid(f||void 0),r.forEach(function(g){p.rrule(new Ee(Nd(g,u,f),d))}),i.forEach(function(g){p.rdate(g)}),s.forEach(function(g){p.exrule(new Ee(Nd(g,u,f),d))}),l.forEach(function(g){p.exdate(g)}),e.compatible&&e.dtstart&&p.rdate(u),p}var h=r[0]||{};return new Ee(Nd(h,h.dtstart||e.dtstart||u,h.tzid||e.tzid||f),d)}function xs(t,e){return e===void 0&&(e={}),E3(t,C3(e))}function Nd(t,e,n){return Wn(Wn({},t),{dtstart:e,tzid:n})}function C3(t){var e=[],n=Object.keys(t),r=Object.keys(kv);if(n.forEach(function(i){ft(r,i)||e.push(i)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Wn(Wn({},kv),t)}function S3(t){if(t.indexOf(":")===-1)return{name:"RRULE",value:t};var e=D_(t,":",1),n=e[0],r=e[1];return{name:n,value:r}}function T3(t){var e=S3(t),n=e.name,r=e.value,i=n.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:r}}function D3(t,e){if(e===void 0&&(e=!1),t=t&&t.trim(),!t)throw new Error("Invalid empty string");if(!e)return t.split(/\s/);for(var n=t.split(`
`),r=0;r<n.length;){var i=n[r]=n[r].replace(/\s+$/g,"");i?r>0&&i[0]===" "?(n[r-1]+=i.slice(1),n.splice(r,1)):r+=1:n.splice(r,1)}return n}function O3(t){t.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function Ev(t,e){return O3(e),t.split(",").map(function(n){return Ne.untilStringToDate(n)})}function Cv(t){var e=this;return function(n){if(n!==void 0&&(e["_"+t]=n),e["_"+t]!==void 0)return e["_"+t];for(var r=0;r<e._rrule.length;r++){var i=e._rrule[r].origOptions[t];if(i)return i}}}var Yo=function(t){Is(e,t);function e(n){n===void 0&&(n=!1);var r=t.call(this,{},n)||this;return r.dtstart=Cv.apply(r,["dtstart"]),r.tzid=Cv.apply(r,["tzid"]),r._rrule=[],r._rdate=[],r._exrule=[],r._exdate=[],r}return e.prototype._iter=function(n){return bv(n,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(n){Sv(n,this._rrule)},e.prototype.exrule=function(n){Sv(n,this._exrule)},e.prototype.rdate=function(n){Tv(n,this._rdate)},e.prototype.exdate=function(n){Tv(n,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(n){return xs(n.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(n){return xs(n.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(n){return new Date(n.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(n){return new Date(n.getTime())})},e.prototype.valueOf=function(){var n=[];return!this._rrule.length&&this._dtstart&&(n=n.concat(jl({dtstart:this._dtstart}))),this._rrule.forEach(function(r){n=n.concat(r.toString().split(`
`))}),this._exrule.forEach(function(r){n=n.concat(r.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&n.push(Dv("RDATE",this._rdate,this.tzid())),this._exdate.length&&n.push(Dv("EXDATE",this._exdate,this.tzid())),n},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var n=new e(!!this._cache);return this._rrule.forEach(function(r){return n.rrule(r.clone())}),this._exrule.forEach(function(r){return n.exrule(r.clone())}),this._rdate.forEach(function(r){return n.rdate(new Date(r.getTime()))}),this._exdate.forEach(function(r){return n.exdate(new Date(r.getTime()))}),n},e}(Ee);function Sv(t,e){if(!(t instanceof Ee))throw new TypeError(String(t)+" is not RRule instance");ft(e.map(String),String(t))||e.push(t)}function Tv(t,e){if(!(t instanceof Date))throw new TypeError(String(t)+" is not Date instance");ft(e.map(Number),Number(t))||(e.push(t),Ne.sort(e))}function Dv(t,e,n){var r=!n||n.toUpperCase()==="UTC",i=r?t+":":t+";TZID="+n+":",s=e.map(function(l){return Ne.timeToUntilString(l.valueOf(),r)}).join(",");return""+i+s}var Ov=Ee;var xv=Ye(Ci());var Ys=Ye(require("obsidian"));var Go=Ye(require("obsidian"));var Pu=Ye(Ci());function ql(t){return t.getHours()/24+t.getMinutes()/(60*24)}function Mv(t,e){if(t.start.date||(t==null?void 0:t.eventType)=="multiDay")return 0;let n=ql(new Date(t.start.dateTime));return e*n}function Av(t,e){if(t.start.date||(t==null?void 0:t.eventType)=="multiDay")return 25;let n=ql(new Date(t.start.dateTime)),r=ql(new Date(t.end.dateTime));return e*(r-n)}function Ls(t,e){return t/24*e}function Rs(t,e){return t-t/24*e}var Iv=()=>app.vault.config.theme?app.vault.config.theme=="obsidian"?"dark":"light":"dark",Pd=t=>t?t.trim().replace("<","lt").replace(">","gt").replace('"',"''").replace("\\","-").replace("/","-").replace(":","-").replace("|","-").replace("*","").replace("?",""):"",Nv=(t,e)=>t.reduce(([n,r,i],s)=>{let l=app.metadataCache.getFileCache(s).frontmatter;return(l==null?void 0:l["event-id"])===e?[[...n,s],r,i]:(l==null?void 0:l["event-id"])?[n,r,[...i,s]]:[n,[...r,s],i]},[[],[],[]]),M3=t=>{let e=app.vault.getFiles().filter(i=>i.basename==Pd(t.summary)),[n,r]=Nv(e,t.id);return{event:t,file:n[0]||r[0]||null,match:n.length>0?"id":"title"}};var A3=(t,e)=>{let n=app.vault.getFiles().filter(s=>s.basename.startsWith(e.settings.optionalNotePrefix)),[r,i]=Nv(n,t.id);return{event:t,file:r[0]||i[0]||null,match:r.length>0?"id":"title"}},Fs=(t,e)=>{let n=M3(t);return n.match=="id"&&n.file?n:A3(t,e)};var xd=t=>K(void 0,null,function*(){var l,u;if(!t.settings.autoCreateEventNotes||!It())return;let e=Math.abs(t.settings.importStartOffset),n=Math.abs(t.settings.importEndOffset),r=window.moment().local().subtract(e,"day"),i=window.moment().local().add(n,"day"),s=yield Wt({startDate:r,endDate:i});for(let f=0;f<s.length;f++)if(t.settings.autoCreateEventNotesMarker==="")yield or(s[f],t.settings.defaultFolder,t.settings.defaultTemplate,!0);else{let d=new RegExp(`:([^:]*-)?${t.settings.autoCreateEventNotesMarker}-?([^:]*)?:`),p=(u=(l=s[f].description)==null?void 0:l.match(d))!=null?u:[];p.length==3&&(yield or(s[f],p[1],p[2],!0))}}),Pv=(t,e,n)=>{var l,u,f,d;let r=(u=(l=n==null?void 0:n.start)==null?void 0:l.offset)!=null?u:0,i=(d=(f=n==null?void 0:n.end)==null?void 0:f.offset)!=null?d:0,s=e.substring(r,i);return s.contains("event-id:")||(s.contains("---")?s=s.replace("---",`---
event-id: ${t.id}`):s=`---
event-id: ${t.id}
---
`,e=e.substring(0,r)+s+e.substring(i)),e},I3=(t,e)=>{let n=/{{gEvent\.([^}>]*)}}/gm,r,i=[];do r=n.exec(e),i.push(r);while(r);return i.forEach(s=>{if(s){let l="";if(s[1]=="attendees"){let u=Pu.default.get(t,s[1],"");for(let f=0;f<u.length;f++)u[f].displayName?l+=`- [[@${u[f].displayName}]]
`:l+=`- [[@${u[f].email}]]
`}else if(s[1]=="attachments"){let u=Pu.default.get(t,s[1],"");for(let f=0;f<u.length;f++)u[f].title?l+=`- [${u[f].title}](${u[f].fileUrl})
`:l+=`- [${u[f].fileUrl}](${u[f].fileUrl})
`}else l=Pu.default.get(t,s[1],"");l===Object(l)&&(l=JSON.stringify(l)),e=e.replace(s[0],l!=null?l:"")}}),e};function Ld(t,e,n){var r,i,s,l,u;return n=n.replace("{{prefix}}",t.settings.optionalNotePrefix),n=n.replace("{{date}}",window.moment().format("YYYY-MM-DD")),n=n.replace("{{date-year}}",window.moment().format("YYYY")),n=n.replace("{{date-month}}",window.moment().format("MM")),n=n.replace("{{date-day}}",window.moment().format("DD")),n=n.replace("{{event-date}}",window.moment((r=e.start.date)!=null?r:e.start.dateTime).format("YYYY-MM-DD")),n=n.replace("{{event-year}}",window.moment((i=e.start.date)!=null?i:e.start.dateTime).format("YYYY")),n=n.replace("{{event-month}}",window.moment((s=e.start.date)!=null?s:e.start.dateTime).format("MM")),n=n.replace("{{event-day}}",window.moment((l=e.start.date)!=null?l:e.start.dateTime).format("DD")),n=n.replace("{{event-title}}",(u=e.summary)!=null?u:"event-title"),n}function N3(t,e,n){return K(this,null,function*(){let{adapter:r}=app.vault;n?(n.endsWith("-")&&(n=n.slice(0,-1)),n="/"+n.split(/[/\\]/).join("/"),(yield r.exists(n))||(yield r.mkdir(n))):n=app.fileManager.getNewFileParent("").path;let i=Ld(t,e,t.settings.eventNoteNameFormat),s=Ld(t,e,Pd(i));return(0,Go.normalizePath)(`${n}/${s}.md`)})}function P3(t,e,n){return K(this,null,function*(){let{vault:r}=app,{adapter:i}=r;if(yield i.exists(e)){let s=r.getAbstractFileByPath(e);return n||(He(`EventNote ${t.summary} already exists.`),new ei(t,l=>s=l).open()),s}})}var or=(t,e,n,r=!1)=>K(void 0,null,function*(){let i=me.getInstance(),{vault:s}=app,{adapter:l}=s;e&&(e=Ld(i,t,e));let u=yield N3(i,t,e),f=yield P3(t,u,r);if(f)return f;let d;try{d=yield s.create(u,""),He(`EventNote ${t.summary} created.`)}catch(g){return null}if(!i.coreTemplatePlugin&&!i.templaterPlugin||!n){let g=Pv(t,"",null);yield l.write(u,g);let _=s.getAbstractFileByPath(u);return(i.settings.autoCreateEventKeepOpen||!r)&&(yield app.workspace.getLeaf(!0).openFile(_)),_}n.match(/.*\.md/)||(n=n+".md");let p=yield app.workspace.getLeaf(!0);return yield p.setViewState({type:"MarkdownView"}),yield app.workspace.setActiveLeaf(p,!1,!0),yield p.openFile(d,{state:{mode:"source"},active:!0}),i.templaterPlugin&&i.coreTemplatePlugin?(yield h(!0))||(yield h(!1))||He("Template not compatible"):i.templaterPlugin?(yield h(!0))||He("Template not compatible"):i.coreTemplatePlugin&&((yield h(!1))||He("Template not compatible")),!i.settings.autoCreateEventKeepOpen&&r&&p.detach(),s.getAbstractFileByPath(u);function h(g){return K(this,null,function*(){var R,I,x,U,D,Y;let _;g?_=(0,Go.normalizePath)((I=(R=i==null?void 0:i.templaterPlugin)==null?void 0:R.settings)==null?void 0:I.templates_folder):_=(0,Go.normalizePath)((D=(U=(x=i==null?void 0:i.coreTemplatePlugin)==null?void 0:x.instance)==null?void 0:U.options)==null?void 0:D.folder);let v;if((yield l.exists(n))?v=n:(v=`${_}/${n}`,_==="/"&&(v=n)),!(yield l.exists(v)))return He(`Template: ${n} doesn't exit.`),!1;let b=s.getAbstractFileByPath(v);if(!(b instanceof Go.TFile))return!1;let C=yield s.cachedRead(b),y=Pv(t,C,(Y=app.metadataCache.getFileCache(b).frontmatter)==null?void 0:Y.position);if(y=I3(t,y),g&&y.contains("{{")&&y.contains("}}"))return!1;if(!g&&y.contains("<%")&&y.contains("%>"))return!1;let O=b.path+".tmp";yield l.write(O,y);let T=app.vault.getAbstractFileByPath(O);if(!(T instanceof Go.TFile))return!1;try{return g?yield i.templaterPlugin.templater.append_template_to_active_file(T):yield i.coreTemplatePlugin.instance.insertTemplate(T),l.remove(O),!0}catch(ne){return l.remove(O),!1}})}});var ei=class extends Ys.Modal{constructor(e,n){super(window.app);this.template=null;this.folder=null;this.plugin=me.getInstance();this.event=e,this.onSubmit=n}onOpen(){let{contentEl:e}=this;e.createEl("h1",{text:"You can now select a template to use"}),new Ys.Setting(e).setName("Template").addSearch(n=>{new bl(n.inputEl,this.plugin),n.setPlaceholder("Template").setValue("").onChange(r=>this.template=r),n.containerEl.addClass("templater_search")}),new Ys.Setting(e).setName("Folder").addSearch(n=>{new kl(n.inputEl),n.setPlaceholder("Example: folder1/folder2").setValue(app.vault.config.newFileFolderPath).onChange(r=>this.folder=r),n.containerEl.addClass("templater_search")}),new Ys.Setting(e).setName("").addButton(n=>{n.setButtonText("Create Note"),n.onClick(()=>K(this,null,function*(){let r=yield or(this.event,this.folder,this.template);this.onSubmit(r),this.close()}))})}onClose(){let{contentEl:e}=this;e.empty()}};function x3(t){yt(t,"svelte-47446l",".buttonRow.svelte-47446l.svelte-47446l{display:flex;flex-direction:row;align-items:center;justify-content:space-around;padding:5px}.summaryInput.svelte-47446l.svelte-47446l{border:none;border-bottom:2px solid;border-radius:0px;height:40px;font-size:35px;text-align:center}label.svelte-47446l.svelte-47446l{margin-top:5px}.googleFullDayContainer.svelte-47446l.svelte-47446l{margin-top:10px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.googleEventButtonContainer.svelte-47446l.svelte-47446l{margin-top:10px;display:flex;flex-direction:column;justify-content:space-around}.googleEventButtonContainer.svelte-47446l button.svelte-47446l{width:40%}")}function Lv(t,e,n){let r=t.slice();return r[29]=e[n],r}function L3(t){let e,n,r,i,s,l,u=t[3],f=[];for(let d=0;d<u.length;d+=1)f[d]=Rv(Lv(t,u,d));return{c(){var d;e=P("label"),e.textContent="Calendar",n=J(),r=P("select");for(let p=0;p<f.length;p+=1)f[p].c();E(e,"for","calendar"),E(e,"class","svelte-47446l"),E(r,"name","calendar"),E(r,"class","dropdown"),r.disabled=i=((d=t[0])==null?void 0:d.id)!==void 0},m(d,p){z(d,e,p),z(d,n,p),z(d,r,p);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(r,null);s||(l=X(r,"change",t[11]),s=!0)},p(d,p){var h;if(p[0]&9){u=d[3];let g;for(g=0;g<u.length;g+=1){let _=Lv(d,u,g);f[g]?f[g].p(_,p):(f[g]=Rv(_),f[g].c(),f[g].m(r,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=u.length}p[0]&1&&i!==(i=((h=d[0])==null?void 0:h.id)!==void 0)&&(r.disabled=i)},d(d){d&&W(e),d&&W(n),d&&W(r),Nt(f,d),s=!1,l()}}}function R3(t){let e;return{c(){e=P("span"),e.textContent="Loading"},m(n,r){z(n,e,r)},p:pe,d(n){n&&W(e)}}}function Rv(t){let e,n=t[29].summary+"",r,i,s,l;return{c(){var u,f;e=P("option"),r=Ie(n),E(e,"id",i=t[29].id),e.__value=s=t[29].id,e.value=e.__value,e.selected=l=t[29].id==((f=(u=t[0])==null?void 0:u.parent)==null?void 0:f.id)},m(u,f){z(u,e,f),N(e,r)},p(u,f){var d,p;f[0]&8&&n!==(n=u[29].summary+"")&&xe(r,n),f[0]&8&&i!==(i=u[29].id)&&E(e,"id",i),f[0]&8&&s!==(s=u[29].id)&&(e.__value=s,e.value=e.__value),f[0]&9&&l!==(l=u[29].id==((p=(d=u[0])==null?void 0:d.parent)==null?void 0:p.id))&&(e.selected=l)},d(u){u&&W(e)}}}function F3(t){let e,n,r,i,s,l,u,f,d,p;return{c(){e=P("label"),e.textContent="Start Date",n=J(),r=P("input"),i=J(),s=P("label"),s.textContent="End Date",l=J(),u=P("input"),E(e,"for","eventStartDate"),E(e,"class","svelte-47446l"),E(r,"type","datetime-local"),E(r,"name","eventStartDate"),E(s,"for","eventEndDate"),E(s,"class","svelte-47446l"),E(u,"type","datetime-local"),E(u,"name","eventEndDate"),E(u,"min",f=window.moment(t[1]).format("YYYY-MM-DDThh:mm"))},m(h,g){z(h,e,g),z(h,n,g),z(h,r,g),Kn(r,t[1]),z(h,i,g),z(h,s,g),z(h,l,g),z(h,u,g),Kn(u,t[2]),d||(p=[X(r,"input",t[24]),X(u,"input",t[25])],d=!0)},p(h,g){g[0]&2&&Kn(r,h[1]),g[0]&2&&f!==(f=window.moment(h[1]).format("YYYY-MM-DDThh:mm"))&&E(u,"min",f),g[0]&4&&Kn(u,h[2])},d(h){h&&W(e),h&&W(n),h&&W(r),h&&W(i),h&&W(s),h&&W(l),h&&W(u),d=!1,Ge(p)}}}function Y3(t){let e,n,r,i,s;return{c(){e=P("label"),e.textContent="Date",n=J(),r=P("input"),E(e,"for","eventDate"),E(e,"class","svelte-47446l"),E(r,"type","date"),E(r,"name","eventDate")},m(l,u){z(l,e,u),z(l,n,u),z(l,r,u),Kn(r,t[6]),i||(s=X(r,"input",t[23]),i=!0)},p(l,u){u[0]&64&&Kn(r,l[6])},d(l){l&&W(e),l&&W(n),l&&W(r),i=!1,s()}}}function G3(t){let e,n,r,i;return{c(){e=P("div"),n=P("button"),n.textContent="Create",E(n,"class","svelte-47446l"),E(e,"class","buttonRow svelte-47446l")},m(s,l){z(s,e,l),N(e,n),r||(i=X(n,"click",t[12]),r=!0)},p:pe,d(s){s&&W(e),r=!1,i()}}}function W3(t){let e,n,r,i,s,l,u,f,d,p,h;function g(T,R){return T[7]!=""?z3:B3}let _=g(t,[-1,-1]),v=_(t);function b(T,R){return T[8].file?U3:H3}let C=b(t,[-1,-1]),y=C(t),O=t[7]!=""&&Yv(t);return{c(){e=P("div"),v.c(),n=J(),y.c(),r=J(),i=P("div"),s=P("button"),s.textContent="Update",l=J(),u=P("button"),u.textContent="Delete",f=J(),O&&O.c(),d=Kt(),E(e,"class","buttonRow svelte-47446l"),E(s,"class","svelte-47446l"),E(u,"class","svelte-47446l"),E(i,"class","buttonRow svelte-47446l")},m(T,R){z(T,e,R),v.m(e,null),N(e,n),y.m(e,null),z(T,r,R),z(T,i,R),N(i,s),N(i,l),N(i,u),z(T,f,R),O&&O.m(T,R),z(T,d,R),p||(h=[X(s,"click",t[15]),X(u,"click",t[13])],p=!0)},p(T,R){_===(_=g(T,R))&&v?v.p(T,R):(v.d(1),v=_(T),v&&(v.c(),v.m(e,n))),C===(C=b(T,R))&&y?y.p(T,R):(y.d(1),y=C(T),y&&(y.c(),y.m(e,null))),T[7]!=""?O?O.p(T,R):(O=Yv(T),O.c(),O.m(d.parentNode,d)):O&&(O.d(1),O=null)},d(T){T&&W(e),v.d(),y.d(),T&&W(r),T&&W(i),T&&W(f),O&&O.d(T),T&&W(d),p=!1,Ge(h)}}}function B3(t){let e,n,r;return{c(){e=P("button"),e.textContent="Show Single Event",E(e,"class","svelte-47446l")},m(i,s){z(i,e,s),n||(r=X(e,"click",t[19]),n=!0)},p:pe,d(i){i&&W(e),n=!1,r()}}}function z3(t){let e,n,r;return{c(){e=P("button"),e.textContent="Show Recurring Event",E(e,"class","svelte-47446l")},m(i,s){z(i,e,s),n||(r=X(e,"click",t[19]),n=!0)},p:pe,d(i){i&&W(e),n=!1,r()}}}function H3(t){let e,n,r;return{c(){e=P("button"),e.textContent="Create Event Note",E(e,"class","svelte-47446l")},m(i,s){z(i,e,s),n||(r=X(e,"click",t[18]),n=!0)},p:pe,d(i){i&&W(e),n=!1,r()}}}function U3(t){let e,n,r,i,s=t[8].match=="title"&&Fv(t);return{c(){s&&s.c(),e=J(),n=P("button"),n.textContent="Open Event Note",E(n,"class","svelte-47446l")},m(l,u){s&&s.m(l,u),z(l,e,u),z(l,n,u),r||(i=X(n,"click",t[17]),r=!0)},p(l,u){l[8].match=="title"?s?s.p(l,u):(s=Fv(l),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(l){s&&s.d(l),l&&W(e),l&&W(n),r=!1,i()}}}function Fv(t){let e,n,r;return{c(){e=P("button"),e.textContent="Create Event Note for this date",E(e,"class","svelte-47446l")},m(i,s){z(i,e,s),n||(r=X(e,"click",t[18]),n=!0)},p:pe,d(i){i&&W(e),n=!1,r()}}}function Yv(t){let e,n,r,i,s,l;return{c(){e=P("div"),n=P("button"),n.textContent="Update All",r=J(),i=P("button"),i.textContent="Delete All",E(n,"class","svelte-47446l"),E(i,"class","svelte-47446l"),E(e,"class","buttonRow svelte-47446l")},m(u,f){z(u,e,f),N(e,n),N(e,r),N(e,i),s||(l=[X(n,"click",t[16]),X(i,"click",t[14])],s=!0)},p:pe,d(u){u&&W(e),s=!1,Ge(l)}}}function j3(t){let e,n,r,i,s,l,u,f,d,p,h,g,_,v,b,C,y,O,T,R,I,x,U;function D(G,te){return G[4]?R3:L3}let Y=D(t,[-1,-1]),ne=Y(t);function j(G,te){return G[5]?Y3:F3}let oe=j(t,[-1,-1]),ce=oe(t);function Te(G,te){return G[0].id?W3:G3}let F=Te(t,[-1,-1]),Z=F(t);return{c(){e=P("div"),n=P("input"),r=J(),i=P("label"),i.textContent="Description",s=J(),l=P("textarea"),f=J(),ne.c(),d=J(),p=P("div"),h=P("label"),h.textContent="Full Day",g=J(),_=P("input"),v=J(),ce.c(),b=J(),C=P("label"),C.textContent="Reoccurring",y=J(),O=P("input"),R=J(),I=P("div"),Z.c(),E(n,"class","summaryInput svelte-47446l"),E(n,"name","summary"),E(n,"type","text"),E(n,"placeholder","Summary"),E(i,"for","description"),E(i,"class","svelte-47446l"),E(l,"name","description"),l.value=u=t[9](),E(h,"for","fullDay"),E(h,"class","svelte-47446l"),E(_,"type","checkbox"),E(_,"name","fullDay"),E(p,"class","googleFullDayContainer svelte-47446l"),E(C,"for","reoccurring"),E(C,"class","svelte-47446l"),E(O,"type","text"),E(O,"name","Reoccurring"),O.disabled=T=t[0].id!=null,E(I,"class","googleEventButtonContainer svelte-47446l"),E(e,"class","googleEventDetails")},m(G,te){z(G,e,te),N(e,n),Kn(n,t[0].summary),N(e,r),N(e,i),N(e,s),N(e,l),N(e,f),ne.m(e,null),N(e,d),N(e,p),N(p,h),N(p,g),N(p,_),_.checked=t[5],N(e,v),ce.m(e,null),N(e,b),N(e,C),N(e,y),N(e,O),Kn(O,t[7]),N(e,R),N(e,I),Z.m(I,null),x||(U=[X(n,"input",t[21]),X(l,"change",t[10]),X(_,"change",t[22]),X(O,"input",t[26])],x=!0)},p(G,te){te[0]&1&&n.value!==G[0].summary&&Kn(n,G[0].summary),Y===(Y=D(G,te))&&ne?ne.p(G,te):(ne.d(1),ne=Y(G),ne&&(ne.c(),ne.m(e,d))),te[0]&32&&(_.checked=G[5]),oe===(oe=j(G,te))&&ce?ce.p(G,te):(ce.d(1),ce=oe(G),ce&&(ce.c(),ce.m(e,b))),te[0]&1&&T!==(T=G[0].id!=null)&&(O.disabled=T),te[0]&128&&O.value!==G[7]&&Kn(O,G[7]),F===(F=Te(G,te))&&Z?Z.p(G,te):(Z.d(1),Z=F(G),Z&&(Z.c(),Z.m(I,null)))},i:pe,o:pe,d(G){G&&W(e),ne.d(),ce.d(),Z.d(),x=!1,Ge(U)}}}function Gv(){let t=15,e=1e3*60*t;return window.moment(new Date(Math.round(new Date().getTime()/e)*e))}function q3(t,e,n){let{event:r}=e,{closeFunction:i}=e,s,l=!0,u,f=me.getInstance(),d,p,h,g="",_=Fs(r,f);function v(Z){let G=xv.default.cloneDeep(Z);return u?(G.start.date=window.moment(h).format("YYYY-MM-DD"),G.end.date=window.moment(h).format("YYYY-MM-DD"),delete G.start.dateTime,delete G.end.dateTime):(G.start.dateTime=window.moment(d).format(),G.end.dateTime=window.moment(p).format(),delete G.start.date,delete G.end.date),G}Io(()=>Dt(void 0,void 0,void 0,function*(){var Z,G,te,ae,fe;if(n(5,u=((Z=r==null?void 0:r.start)===null||Z===void 0?void 0:Z.dateTime)==null&&((G=r==null?void 0:r.start)===null||G===void 0?void 0:G.date)!==void 0),n(3,s=yield mr()),n(4,l=!1),r.id==null){n(0,r.summary=(te=r.summary)!==null&&te!==void 0?te:"",r),n(0,r.description=(ae=r.description)!==null&&ae!==void 0?ae:"",r),n(0,r.parent=s.find(se=>se.id===f.settings.defaultCalendar),r),r.parent||n(0,r.parent=s[s.length-1],r),n(7,g="");let ee=Gv();n(1,d=ee.format("YYYY-MM-DDTHH:mm")),n(2,p=ee.add(1,"hour").format("YYYY-MM-DDTHH:mm")),n(6,h=ee.format("YYYY-MM-DD")),r.start.date&&n(6,h=window.moment(r.start.date).format("YYYY-MM-DD")),r.start.dateTime&&r.end.dateTime&&(n(1,d=window.moment(r.start.dateTime).format("YYYY-MM-DDTHH:mm")),n(2,p=window.moment(r.end.dateTime).format("YYYY-MM-DDTHH:mm")))}else{let ee=yield Ki((fe=r.recurringEventId)!==null&&fe!==void 0?fe:r.id,r.parent.id);if(ee==null?void 0:ee.recurrence){let se=xs(ee.recurrence[0]);n(7,g=se.toText())}else n(7,g="");if(u){let se=Gv();n(1,d=se.format("YYYY-MM-DDTHH:mm")),n(2,p=se.add(1,"hour").format("YYYY-MM-DDTHH:mm")),n(6,h=window.moment(r.start.date).format("YYYY-MM-DD"))}else n(1,d=window.moment(r.start.dateTime).format("YYYY-MM-DDTHH:mm")),n(2,p=window.moment(r.end.dateTime).format("YYYY-MM-DDTHH:mm")),n(6,h=window.moment().format("YYYY-MM-DD"))}}));let b=()=>r.description?r.description.replace(/<\/?[^>]+(>|$)/g,""):"",C=Z=>{Z.target instanceof HTMLTextAreaElement&&n(0,r.description=Z.target.value,r)},y=Z=>{let G=Z.target;if(G instanceof HTMLSelectElement){let te=G.value;n(0,r.parent.id=te,r)}},O=()=>Dt(void 0,void 0,void 0,function*(){if(g&&g!="")try{let G=Ee.fromText(g),te=new Yo;te.rrule(G);let ae=te.valueOf();if(g&&ae[0]==""){He("Event not created. Error in recurrence text.",!0);return}n(0,r.recurrence=ae,r)}catch(G){He("Event not created. Error in recurrence text.",!0);return}let Z=yield Du(v(r));(Z==null?void 0:Z.id)&&i()}),T=Z=>Dt(void 0,void 0,void 0,function*(){let G=!1;r.recurringEventId?G=yield Tu(r):G=yield Tu(r),G&&i()}),R=()=>Dt(void 0,void 0,void 0,function*(){(yield Tu(v(r),!0))&&i()}),I=()=>Dt(void 0,void 0,void 0,function*(){let Z=v(r),G;Z.recurringEventId?G=yield Ms(Z):G=yield Ms(Z),G.id&&i()}),x=()=>Dt(void 0,void 0,void 0,function*(){(yield Ms(v(r),!0)).id&&i()}),U=()=>Dt(void 0,void 0,void 0,function*(){app.workspace.getLeaf(!0).openFile(_.file),i()}),D=()=>Dt(void 0,void 0,void 0,function*(){f.settings.useDefaultTemplate&&f.settings.defaultFolder&&f.settings.defaultFolder?or(r,f.settings.defaultFolder,f.settings.defaultTemplate):new ei(r,Z=>n(8,_.file=Z,_)).open()}),Y=()=>{window.open(r.htmlLink)};function ne(){r.summary=this.value,n(0,r)}function j(){u=this.checked,n(5,u)}function oe(){h=this.value,n(6,h)}function ce(){d=this.value,n(1,d)}function Te(){p=this.value,n(2,p),n(1,d)}function F(){g=this.value,n(7,g)}return t.$$set=Z=>{"event"in Z&&n(0,r=Z.event),"closeFunction"in Z&&n(20,i=Z.closeFunction)},t.$$.update=()=>{if(t.$$.dirty[0]&6){e:{let Z=window.moment(d);window.moment(p).isBefore(Z)&&n(2,p=Z.add(1,"hour").format("YYYY-MM-DDTHH:mm"))}}},[r,d,p,s,l,u,h,g,_,b,C,y,O,T,R,I,x,U,D,Y,i,ne,j,oe,ce,Te,F]}var Wv=class extends ze{constructor(e){super();Ue(this,e,q3,j3,We,{event:0,closeFunction:20},x3,[-1,-1])}},Bv=Wv;var Er=class extends zv.Modal{constructor(e,n){super(me.getInstance().app);this.selectedEvent=e,n&&(this.closeFunction=n)}onOpen(){return K(this,null,function*(){let{contentEl:e}=this;new Bv({target:e,props:{event:this.selectedEvent,closeFunction:()=>{this.closeFunction&&this.closeFunction(),this.close()}}})})}onClose(){let{contentEl:e}=this;e.empty()}};var Uv=Ye(lu());var Br=class extends Hv.FuzzySuggestModal{constructor(e,n,r=window.moment(),i=!1,s){super(window.app);this.plugin=me.getInstance();this.eventList=[...e],this.modalSelectMode=n,this.setPlaceholder(`${r.format("MM/DD/YYYY")} Arrow left/right to switch day`),this.emptyStateText="No events found enter to create a new one",this.eventsChanged=i,this.currentDate=r.clone(),s&&(this.closeFunction=s),this.inputEl.addEventListener("keydown",l=>K(this,null,function*(){let u=!1;!this.getSuggestions(this.inputEl.value).length&&l.key=="Enter"&&new Er({summary:this.inputEl.value,start:{date:r.format()},end:{}},()=>{this.eventsChanged=!0,this.close()}).open(),l.key=="ArrowRight"?(l.ctrlKey?this.currentDate=this.currentDate.add(1,"month"):l.shiftKey?this.currentDate=this.currentDate.add(1,"week"):this.currentDate=this.currentDate.add(1,"day"),u=!0):l.key=="ArrowLeft"&&(l.ctrlKey?this.currentDate=this.currentDate.subtract(1,"month"):l.shiftKey?this.currentDate=this.currentDate.subtract(1,"week"):this.currentDate=this.currentDate.subtract(1,"day"),u=!0),u&&(this.setPlaceholder("Loading"),this.eventList=yield Wt({startDate:this.currentDate}),this.inputEl.dispatchEvent(new Event("input")),this.setPlaceholder(`${this.currentDate.format("MM/DD/YYYY")} Arrow left and right to switch day`))}))}getItems(){return this.plugin.settings.activateDailyNoteAddon?[{id:"xxx",start:null,end:null},...this.eventList]:this.eventList}getItemText(e){return e.id=="xxx"?Mo(this.currentDate)?"Open daily note":"Create daily note":e.start.date?`${e.start.date}		 | ${e.summary}	`:`${window.moment(e.start.dateTime).format("YYYY-MM-DD HH:mm")}	 | ${e.summary}	`}onChooseItem(e){return K(this,null,function*(){if(e.id=="xxx"){let n=Mo(this.currentDate);n||(n=yield(0,Uv.createDailyNote)(this.currentDate)),yield app.workspace.getLeaf(!1).openFile(n,{active:!0});return}this.modalSelectMode=="details"?(this.open(),new Er(e,()=>this.eventsChanged=!0).open()):this.modalSelectMode=="createNote"&&(this.plugin.settings.useDefaultTemplate?or(e,this.plugin.settings.defaultFolder,this.plugin.settings.defaultTemplate):new ei(e,()=>{}).open())})}onClose(){this.closeFunction&&this.eventsChanged&&this.closeFunction()}};var Rd=class extends jv.FuzzySuggestModal{constructor(e){super(me.getInstance().app);this.calendarList=e,this.setPlaceholder("Select a calendar to view it")}getItems(){return this.calendarList}getItemText(e){return`${e.summary}	`}onChooseItem(e){return K(this,null,function*(){let n=yield Wt({include:[e.id]});new Br(n,"details").open()})}};var $u=Ye(require("obsidian"));function V3(t){yt(t,"svelte-66wdl1","div.svelte-66wdl1{display:inline-block;vertical-align:middle;margin:0 3pt;border-width:calc(1em / 5);border-style:solid;border-radius:50%;animation:var(--duration) infinite svelte-66wdl1-rotate}@keyframes svelte-66wdl1-rotate{100%{transform:rotate(360deg)}}")}function K3(t){let e,n=`${t[0]} transparent ${t[0]}
  ${t[0]}`;return{c(){e=P("div"),ge(e,"--duration",t[1]),E(e,"class","svelte-66wdl1"),ge(e,"border-color",n),ge(e,"width",t[2]),ge(e,"height",t[2])},m(r,i){z(r,e,i)},p(r,[i]){i&2&&ge(e,"--duration",r[1]);let s=i&2;(s||i&3&&n!==(n=`${r[0]} transparent ${r[0]}
  ${r[0]}`))&&ge(e,"border-color",n),(s||i&6)&&ge(e,"width",r[2]),(s||i&6)&&ge(e,"height",r[2])},i:pe,o:pe,d(r){r&&W(e)}}}function Z3(t,e,n){let{color:r="cornflowerblue"}=e,{duration:i="1.5s"}=e,{size:s="1em"}=e;return t.$$set=l=>{"color"in l&&n(0,r=l.color),"duration"in l&&n(1,i=l.duration),"size"in l&&n(2,s=l.size)},[r,i,s]}var qv=class extends ze{constructor(e){super();Ue(this,e,Z3,K3,We,{color:0,duration:1,size:2},V3)}},Fd=qv;function xu(t){let e=t-1;return e*e*e+1}function Vv(t){return--t*t*t*t*t+1}function X3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Kv(t){var{fallback:e}=t,n=X3(t,["fallback"]);let r=new Map,i=new Map;function s(u,f,d){let{delay:p=0,duration:h=U=>Math.sqrt(U)*30,easing:g=xu}=un(un({},n),d),_=u.getBoundingClientRect(),v=f.getBoundingClientRect(),b=_.left-v.left,C=_.top-v.top,y=_.width/v.width,O=_.height/v.height,T=Math.sqrt(b*b+C*C),R=getComputedStyle(f),I=R.transform==="none"?"":R.transform,x=+R.opacity;return{delay:p,duration:$t(h)?h(T):h,easing:g,css:(U,D)=>`
				opacity: ${U*x};
				transform-origin: top left;
				transform: ${I} translate(${D*b}px,${D*C}px) scale(${U+(1-U)*y}, ${U+(1-U)*O});
			`}}function l(u,f,d){return(p,h)=>(u.set(h.key,p),()=>{if(f.has(h.key)){let g=f.get(h.key);return f.delete(h.key),s(g,p,h)}return u.delete(h.key),e&&e(p,h,d)})}return[l(i,r,!1),l(r,i,!0)]}function Zv(t,{from:e,to:n},r={}){let i=getComputedStyle(t),s=i.transform==="none"?"":i.transform,[l,u]=i.transformOrigin.split(" ").map(parseFloat),f=e.left+e.width*l/n.width-(n.left+l),d=e.top+e.height*u/n.height-(n.top+u),{delay:p=0,duration:h=_=>Math.sqrt(_)*120,easing:g=xu}=r;return{delay:p,duration:$t(h)?h(Math.sqrt(f*f+d*d)):h,easing:g,css:(_,v)=>{let b=v*f,C=v*d,y=_+v*e.width/n.width,O=_+v*e.height/n.height;return`transform: ${s} translate(${b}px, ${C}px) scale(${y}, ${O});`}}}function Q3(t){let e,n,r=[t[0],{fill:"currentColor"},{viewBox:"0 0 16 16"}],i={};for(let s=0;s<r.length;s+=1)i=un(i,r[s]);return{c(){e=Wr("svg"),n=Wr("path"),E(n,"d","M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"),Qr(e,i)},m(s,l){z(s,e,l),N(e,n)},p(s,[l]){Qr(e,i=Vi(r,[l&1&&s[0],{fill:"currentColor"},{viewBox:"0 0 16 16"}]))},i:pe,o:pe,d(s){s&&W(e)}}}function J3(t,e,n){return t.$$set=r=>{n(0,e=un(un({},e),Gr(r)))},e=Gr(e),[e]}var Xv=class extends ze{constructor(e){super();Ue(this,e,J3,Q3,We,{})}},Yd=Xv;function $3(t){let e,n,r=[t[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}],i={};for(let s=0;s<r.length;s+=1)i=un(i,r[s]);return{c(){e=Wr("svg"),n=Wr("path"),E(n,"d","M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),Qr(e,i)},m(s,l){z(s,e,l),N(e,n)},p(s,[l]){Qr(e,i=Vi(r,[l&1&&s[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}]))},i:pe,o:pe,d(s){s&&W(e)}}}function eO(t,e,n){return t.$$set=r=>{n(0,e=un(un({},e),Gr(r)))},e=Gr(e),[e]}var Qv=class extends ze{constructor(e){super();Ue(this,e,eO,$3,We,{})}},Lu=Qv;function tO(t){let e,n,r=[t[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}],i={};for(let s=0;s<r.length;s+=1)i=un(i,r[s]);return{c(){e=Wr("svg"),n=Wr("path"),E(n,"d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10Zm-4.906-3.68L18.32 7.094A8 8 0 0 1 7.094 18.32ZM5.68 16.906A8 8 0 0 1 16.906 5.68L5.68 16.906Z"),Qr(e,i)},m(s,l){z(s,e,l),N(e,n)},p(s,[l]){Qr(e,i=Vi(r,[l&1&&s[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}]))},i:pe,o:pe,d(s){s&&W(e)}}}function nO(t,e,n){return t.$$set=r=>{n(0,e=un(un({},e),Gr(r)))},e=Gr(e),[e]}var Jv=class extends ze{constructor(e){super();Ue(this,e,nO,tO,We,{})}},Gd=Jv;var{Boolean:rO}=e_;function iO(t){yt(t,"svelte-1h68wu3",".svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect){position:relative;align-items:center;display:flex;cursor:text;box-sizing:border-box;border:var(--sms-border, 1pt solid lightgray);border-radius:var(--sms-border-radius, 3pt);background:var(--sms-bg);width:var(--sms-width);max-width:var(--sms-max-width);padding:var(--sms-padding, 0 3pt);color:var(--sms-text-color);font-size:var(--sms-font-size, inherit);min-height:var(--sms-min-height, 22pt);margin:var(--sms-margin)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect.open){z-index:var(--sms-open-z-index, 4)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect:focus-within){border:var(--sms-focus-border, 1pt solid var(--sms-active-color, cornflowerblue))}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect.disabled){background:var(--sms-disabled-bg, lightgray);cursor:not-allowed}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.selected){display:flex;flex:1;padding:0;margin:0;flex-wrap:wrap}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.selected > li){align-items:center;border-radius:3pt;display:flex;margin:2pt;line-height:normal;transition:0.3s;white-space:nowrap;background:var(--sms-selected-bg, rgba(0, 0, 0, 0.15));padding:var(--sms-selected-li-padding, 1pt 5pt);color:var(--sms-selected-text-color, var(--sms-text-color))}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.selected > li[draggable='true']){cursor:grab}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.selected > li.active){background:var(--sms-li-active-bg, var(--sms-active-color, rgba(0, 0, 0, 0.15)))}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect button){border-radius:50%;display:flex;transition:0.2s;color:inherit;background:transparent;border:none;cursor:pointer;outline:none;padding:0;margin:0 0 0 3pt}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect button.remove-all){margin:0 3pt}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(ul.selected > li button:hover, button.remove-all:hover, button:focus){color:var(--sms-remove-btn-hover-color, lightskyblue);background:var(--sms-remove-btn-hover-bg, rgba(0, 0, 0, 0.2))}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect input){margin:auto 0;padding:0}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.selected > input){border:none;outline:none;background:none;flex:1;min-width:2em;color:var(--sms-text-color);font-size:inherit;cursor:inherit;border-radius:0}div.multiselect.svelte-1h68wu3>ul.selected.svelte-1h68wu3>input.svelte-1h68wu3::placeholder{padding-left:5pt;color:var(--sms-placeholder-color);opacity:var(--sms-placeholder-opacity)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > input.form-control){width:2em;position:absolute;background:transparent;border:none;outline:none;z-index:-1;opacity:0;pointer-events:none}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options){list-style:none;top:100%;left:0;width:100%;position:absolute;overflow:auto;transition:all 0.2s;box-sizing:border-box;background:var(--sms-options-bg, white);max-height:var(--sms-options-max-height, 50vh);overscroll-behavior:var(--sms-options-overscroll, none);box-shadow:var(--sms-options-shadow, 0 0 14pt -8pt black);border:var(--sms-options-border);border-width:var(--sms-options-border-width);border-radius:var(--sms-options-border-radius, 1ex);padding:var(--sms-options-padding);margin:var(--sms-options-margin, inherit)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options.hidden){visibility:hidden;opacity:0;transform:translateY(50px)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options > li){padding:3pt 2ex;cursor:pointer;scroll-margin:var(--sms-options-scroll-margin, 100px)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options span){padding:3pt 2ex}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options > li.selected){background:var(--sms-li-selected-bg);color:var(--sms-li-selected-color)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options > li.active){background:var(--sms-li-active-bg, var(--sms-active-color, rgba(0, 0, 0, 0.15)))}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(div.multiselect > ul.options > li.disabled){cursor:not-allowed;background:var(--sms-li-disabled-bg, #f5f5f6);color:var(--sms-li-disabled-text, #b8b8b8)}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3:where(span.max-select-msg){padding:0 3pt}.svelte-1h68wu3.svelte-1h68wu3.svelte-1h68wu3::highlight(search-results){color:var(--sms-highlight-color, orange);background:var(--sms-highlight-bg);text-decoration:var(--sms-highlight-text-decoration);text-decoration-color:var(--sms-highlight-text-decoration-color)}")}function $v(t,e,n){let r=t.slice();r[111]=e[n],r[118]=n;let i=r[111]instanceof Object?r[111]:{label:r[111]};r[112]=i.label,r[41]=i.disabled!==void 0?i.disabled:null,r[113]=i.title!==void 0?i.title:null,r[114]=i.selectedTitle!==void 0?i.selectedTitle:null,r[115]=i.disabledTitle!==void 0?i.disabledTitle:r[13];let s=r[0]===r[118];return r[116]=s,r}var oO=t=>({option:t[0]&2}),e1=t=>({option:t[111],idx:t[118]}),sO=t=>({}),t1=t=>({}),lO=t=>({}),n1=t=>({}),aO=t=>({}),r1=t=>({});function i1(t,e,n){let r=t.slice();return r[111]=e[n],r[118]=n,r}var uO=t=>({}),o1=t=>({}),fO=t=>({option:t[0]&16,idx:t[0]&16}),s1=t=>({option:t[111],idx:t[118]}),cO=t=>({open:t[0]&256}),l1=t=>({open:t[8]});function dO(t){let e,n;return e=new Yd({props:{width:"15px",style:"min-width: 1em; padding: 0 1pt; cursor: pointer;"}}),{c(){gt(e.$$.fragment)},m(r,i){dt(e,r,i),n=!0},p:pe,i(r){n||(Q(e.$$.fragment,r),n=!0)},o(r){ue(e.$$.fragment,r),n=!1},d(r){ut(e,r)}}}function pO(t){let e=t[48](t[111])+"",n;return{c(){n=Ie(e)},m(r,i){z(r,n,i)},p(r,i){i[0]&16&&e!==(e=r[48](r[111])+"")&&xe(n,e)},d(r){r&&W(n)}}}function hO(t){let e,n=t[48](t[111])+"",r;return{c(){e=new _u(!1),r=Kt(),e.a=r},m(i,s){e.m(n,i,s),z(i,r,s)},p(i,s){s[0]&16&&n!==(n=i[48](i[111])+"")&&e.p(n)},d(i){i&&W(r),i&&e.d()}}}function gO(t){let e;function n(s,l){return s[31]?hO:pO}let r=n(t,[-1,-1,-1,-1]),i=r(t);return{c(){i.c(),e=Kt()},m(s,l){i.m(s,l),z(s,e,l)},p(s,l){r===(r=n(s,l))&&i?i.p(s,l):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&W(e)}}}function a1(t){let e,n,r,i,s,l=t[69]["remove-icon"],u=Lr(l,t,t[108],o1),f=u||mO(t);function d(){return t[89](t[111])}function p(){return t[90](t[111])}return{c(){e=P("button"),f&&f.c(),E(e,"type","button"),E(e,"title",n=""+(t[35]+" "+t[48](t[111]))),E(e,"class","remove svelte-1h68wu3")},m(h,g){z(h,e,g),f&&f.m(e,null),r=!0,i||(s=[X(e,"mouseup",Xr(d)),X(e,"keydown",function(){$t(t[54](p))&&t[54](p).apply(this,arguments)})],i=!0)},p(h,g){t=h,u&&u.p&&(!r||g[3]&32768)&&Fr(u,l,t,t[108],r?Rr(l,t[108],g,uO):Yr(t[108]),o1),(!r||g[0]&16|g[1]&16&&n!==(n=""+(t[35]+" "+t[48](t[111]))))&&E(e,"title",n)},i(h){r||(Q(f,h),r=!0)},o(h){ue(f,h),r=!1},d(h){h&&W(e),f&&f.d(h),i=!1,Ge(s)}}}function mO(t){let e,n;return e=new Lu({props:{width:"15px"}}),{c(){gt(e.$$.fragment)},m(r,i){dt(e,r,i),n=!0},p:pe,i(r){n||(Q(e.$$.fragment,r),n=!0)},o(r){ue(e.$$.fragment,r),n=!1},d(r){ut(e,r)}}}function u1(t,e){let n,r,i,s,l,u=pe,f,d,p,h=e[69].selected,g=Lr(h,e,e[108],s1),_=g||gO(e),v=!e[41]&&(e[36]===null||e[4].length>e[36])&&a1(e);function b(){return e[91](e[118])}return{key:t,first:null,c(){n=P("li"),_&&_.c(),r=J(),v&&v.c(),E(n,"class",i=""+(fn(e[23])+" svelte-1h68wu3")),E(n,"draggable",s=e[38]&&!e[41]&&e[4].length>1),_e(n,"active",e[45]===e[118]),this.first=n},m(C,y){z(C,n,y),_&&_.m(n,null),N(n,r),v&&v.m(n,null),f=!0,d||(p=[X(n,"dragstart",function(){$t(e[57](e[118]))&&e[57](e[118]).apply(this,arguments)}),X(n,"drop",Zr(function(){$t(e[56](e[118]))&&e[56](e[118]).apply(this,arguments)})),X(n,"dragenter",b),X(n,"dragover",Zr(e[85]))],d=!0)},p(C,y){e=C,g?g.p&&(!f||y[0]&16|y[3]&32768)&&Fr(g,h,e,e[108],f?Rr(h,e[108],y,fO):Yr(e[108]),s1):_&&_.p&&(!f||y[0]&16|y[1]&1)&&_.p(e,f?y:[-1,-1,-1,-1]),!e[41]&&(e[36]===null||e[4].length>e[36])?v?(v.p(e,y),y[0]&16|y[1]&1056&&Q(v,1)):(v=a1(e),v.c(),Q(v,1),v.m(n,null)):v&&(et(),ue(v,1,1,()=>{v=null}),tt()),(!f||y[0]&8388608&&i!==(i=""+(fn(e[23])+" svelte-1h68wu3")))&&E(n,"class",i),(!f||y[0]&16|y[1]&1152&&s!==(s=e[38]&&!e[41]&&e[4].length>1))&&E(n,"draggable",s),(!f||y[0]&8388624|y[1]&16384)&&_e(n,"active",e[45]===e[118])},r(){l=n.getBoundingClientRect()},f(){Km(n),u()},a(){u(),u=Vm(n,l,Zv,{duration:100})},i(C){f||(Q(_,C),Q(v),f=!0)},o(C){ue(_,C),ue(v),f=!1},d(C){C&&W(n),_&&_.d(C),v&&v.d(),d=!1,Ge(p)}}}function f1(t){let e,n=t[69].spinner,r=Lr(n,t,t[108],r1),i=r||_O(t);return{c(){i&&i.c()},m(s,l){i&&i.m(s,l),e=!0},p(s,l){r&&r.p&&(!e||l[3]&32768)&&Fr(r,n,s,s[108],e?Rr(n,s[108],l,aO):Yr(s[108]),r1)},i(s){e||(Q(i,s),e=!0)},o(s){ue(i,s),e=!1},d(s){i&&i.d(s)}}}function _O(t){let e,n;return e=new Fd({}),{c(){gt(e.$$.fragment)},m(r,i){dt(e,r,i),n=!0},i(r){n||(Q(e.$$.fragment,r),n=!0)},o(r){ue(e.$$.fragment,r),n=!1},d(r){ut(e,r)}}}function vO(t){let e,n,r,i=t[25]&&(t[25]>1||t[26])&&c1(t),s=t[25]!==1&&t[4].length>1&&d1(t);return{c(){i&&i.c(),e=J(),s&&s.c(),n=Kt()},m(l,u){i&&i.m(l,u),z(l,e,u),s&&s.m(l,u),z(l,n,u),r=!0},p(l,u){l[25]&&(l[25]>1||l[26])?i?(i.p(l,u),u[0]&100663296&&Q(i,1)):(i=c1(l),i.c(),Q(i,1),i.m(e.parentNode,e)):i&&(et(),ue(i,1,1,()=>{i=null}),tt()),l[25]!==1&&l[4].length>1?s?(s.p(l,u),u[0]&33554448&&Q(s,1)):(s=d1(l),s.c(),Q(s,1),s.m(n.parentNode,n)):s&&(et(),ue(s,1,1,()=>{s=null}),tt())},i(l){r||(Q(i),Q(s),r=!0)},o(l){ue(i),ue(s),r=!1},d(l){i&&i.d(l),l&&W(e),s&&s.d(l),l&&W(n)}}}function wO(t){let e,n=t[69]["disabled-icon"],r=Lr(n,t,t[108],n1),i=r||kO(t);return{c(){i&&i.c()},m(s,l){i&&i.m(s,l),e=!0},p(s,l){r&&r.p&&(!e||l[3]&32768)&&Fr(r,n,s,s[108],e?Rr(n,s[108],l,lO):Yr(s[108]),n1)},i(s){e||(Q(i,s),e=!0)},o(s){ue(i,s),e=!1},d(s){i&&i.d(s)}}}function c1(t){let e,n,r;function i(l){t[94](l)}let s={angle:20,$$slots:{default:[yO]},$$scope:{ctx:t}};return t[42]!==void 0&&(s.wiggle=t[42]),e=new Wd({props:s}),Le.push(()=>ot(e,"wiggle",i)),{c(){gt(e.$$.fragment)},m(l,u){dt(e,l,u),r=!0},p(l,u){let f={};u[0]&234881040|u[3]&32768&&(f.$$scope={dirty:u,ctx:l}),!n&&u[1]&2048&&(n=!0,f.wiggle=l[42],it(()=>n=!1)),e.$set(f)},i(l){r||(Q(e.$$.fragment,l),r=!0)},o(l){ue(e.$$.fragment,l),r=!1},d(l){ut(e,l)}}}function yO(t){var s;let e,n=((s=t[26])==null?void 0:s.call(t,t[4].length,t[25]))+"",r,i;return{c(){e=P("span"),r=Ie(n),E(e,"class",i="max-select-msg "+t[27]+" svelte-1h68wu3")},m(l,u){z(l,e,u),N(e,r)},p(l,u){var f;u[0]&100663312&&n!==(n=((f=l[26])==null?void 0:f.call(l,l[4].length,l[25]))+"")&&xe(r,n),u[0]&134217728&&i!==(i="max-select-msg "+l[27]+" svelte-1h68wu3")&&E(e,"class",i)},d(l){l&&W(e)}}}function d1(t){let e,n,r,i,s=t[69]["remove-icon"],l=Lr(s,t,t[108],t1),u=l||bO(t);return{c(){e=P("button"),u&&u.c(),E(e,"type","button"),E(e,"class","remove remove-all svelte-1h68wu3"),E(e,"title",t[34])},m(f,d){z(f,e,d),u&&u.m(e,null),n=!0,r||(i=[X(e,"mouseup",Xr(t[53])),X(e,"keydown",t[54](t[53]))],r=!0)},p(f,d){l&&l.p&&(!n||d[3]&32768)&&Fr(l,s,f,f[108],n?Rr(s,f[108],d,sO):Yr(f[108]),t1),(!n||d[1]&8)&&E(e,"title",f[34])},i(f){n||(Q(u,f),n=!0)},o(f){ue(u,f),n=!1},d(f){f&&W(e),u&&u.d(f),r=!1,Ge(i)}}}function bO(t){let e,n;return e=new Lu({props:{width:"15px"}}),{c(){gt(e.$$.fragment)},m(r,i){dt(e,r,i),n=!0},p:pe,i(r){n||(Q(e.$$.fragment,r),n=!0)},o(r){ue(e.$$.fragment,r),n=!1},d(r){ut(e,r)}}}function kO(t){let e,n;return e=new Gd({props:{width:"14pt",style:"margin: 0 2pt;","data-name":"disabled-icon"}}),{c(){gt(e.$$.fragment)},m(r,i){dt(e,r,i),n=!0},p:pe,i(r){n||(Q(e.$$.fragment,r),n=!0)},o(r){ue(e.$$.fragment,r),n=!1},d(r){ut(e,r)}}}function p1(t){let e,n,r,i=t[1],s=[];for(let f=0;f<i.length;f+=1)s[f]=g1($v(t,i,f));let l=f=>ue(s[f],1,1,()=>{s[f]=null}),u=null;return i.length||(u=h1(t)),{c(){e=P("ul");for(let f=0;f<s.length;f+=1)s[f].c();u&&u.c(),E(e,"class",n="options "+t[39]+" svelte-1h68wu3"),_e(e,"hidden",!t[8])},m(f,d){z(f,e,d);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(e,null);u&&u.m(e,null),t[106](e),r=!0},p(f,d){if(d[0]&543394843|d[1]&462849|d[3]&32768){i=f[1];let p;for(p=0;p<i.length;p+=1){let h=$v(f,i,p);s[p]?(s[p].p(h,d),Q(s[p],1)):(s[p]=g1(h),s[p].c(),Q(s[p],1),s[p].m(e,null))}for(et(),p=i.length;p<s.length;p+=1)l(p);tt(),!i.length&&u?u.p(f,d):i.length?u&&(u.d(1),u=null):(u=h1(f),u.c(),u.m(e,null))}(!r||d[1]&256&&n!==(n="options "+f[39]+" svelte-1h68wu3"))&&E(e,"class",n),(!r||d[0]&256|d[1]&256)&&_e(e,"hidden",!f[8])},i(f){if(!r){for(let d=0;d<i.length;d+=1)Q(s[d]);r=!0}},o(f){s=s.filter(rO);for(let d=0;d<s.length;d+=1)ue(s[d]);r=!1},d(f){f&&W(e),Nt(s,f),u&&u.d(),t[106](null)}}}function h1(t){let e;function n(s,l){return s[11]&&s[3]?CO:EO}let r=n(t,[-1,-1,-1,-1]),i=r(t);return{c(){i.c(),e=Kt()},m(s,l){i.m(s,l),z(s,e,l)},p(s,l){r===(r=n(s,l))&&i?i.p(s,l):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&W(e)}}}function EO(t){let e,n;return{c(){e=P("span"),n=Ie(t[29]),E(e,"class","svelte-1h68wu3")},m(r,i){z(r,e,i),N(e,n)},p(r,i){i[0]&536870912&&xe(n,r[29])},d(r){r&&W(e)}}}function CO(t){let e,n=(!t[17]&&t[4].some(t[100])?t[16]:t[10])+"",r,i,s,l;return{c(){e=P("li"),r=Ie(n),i=J(),E(e,"title",t[10]),E(e,"class","svelte-1h68wu3"),_e(e,"active",t[43])},m(u,f){z(u,e,f),N(e,r),N(e,i),s||(l=[X(e,"mousedown",Xr(t[71])),X(e,"mouseup",Xr(t[101])),X(e,"mouseover",t[102]),X(e,"focus",t[103]),X(e,"mouseout",t[104]),X(e,"blur",t[105])],s=!0)},p(u,f){f[0]&230424&&n!==(n=(!u[17]&&u[4].some(u[100])?u[16]:u[10])+"")&&xe(r,n),f[0]&1024&&E(e,"title",u[10]),f[1]&4096&&_e(e,"active",u[43])},d(u){u&&W(e),s=!1,Ge(l)}}}function SO(t){let e=t[48](t[111])+"",n;return{c(){n=Ie(e)},m(r,i){z(r,n,i)},p(r,i){i[0]&2&&e!==(e=r[48](r[111])+"")&&xe(n,e)},d(r){r&&W(n)}}}function TO(t){let e,n=t[48](t[111])+"",r;return{c(){e=new _u(!1),r=Kt(),e.a=r},m(i,s){e.m(n,i,s),z(i,r,s)},p(i,s){s[0]&2&&n!==(n=i[48](i[111])+"")&&e.p(n)},d(i){i&&W(r),i&&e.d()}}}function DO(t){let e;function n(s,l){return s[31]?TO:SO}let r=n(t,[-1,-1,-1,-1]),i=r(t);return{c(){i.c(),e=Kt()},m(s,l){i.m(s,l),z(s,e,l)},p(s,l){r===(r=n(s,l))&&i?i.p(s,l):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&W(e)}}}function g1(t){let e,n,r,i,s,l,u,f=t[69].option,d=Lr(f,t,t[108],e1),p=d||DO(t);function h(...v){return t[95](t[41],t[112],...v)}function g(){return t[96](t[41],t[118])}function _(){return t[97](t[41],t[118])}return{c(){e=P("li"),p&&p.c(),n=J(),E(e,"title",r=t[41]?t[115]:t[47](t[112])&&t[114]||t[113]),E(e,"class",i=""+(t[22]+" "+(t[116]?t[21]:"")+" svelte-1h68wu3")),_e(e,"selected",t[47](t[112])),_e(e,"active",t[116]),_e(e,"disabled",t[41])},m(v,b){z(v,e,b),p&&p.m(e,null),N(e,n),s=!0,l||(u=[X(e,"mousedown",Xr(t[70])),X(e,"mouseup",Xr(h)),X(e,"mouseover",g),X(e,"focus",_),X(e,"mouseout",t[98]),X(e,"blur",t[99])],l=!0)},p(v,b){t=v,d?d.p&&(!s||b[0]&2|b[3]&32768)&&Fr(d,f,t,t[108],s?Rr(f,t[108],b,oO):Yr(t[108]),e1):p&&p.p&&(!s||b[0]&2|b[1]&1)&&p.p(t,s?b:[-1,-1,-1,-1]),(!s||b[0]&2|b[1]&65536&&r!==(r=t[41]?t[115]:t[47](t[112])&&t[114]||t[113]))&&E(e,"title",r),(!s||b[0]&6291457&&i!==(i=""+(t[22]+" "+(t[116]?t[21]:"")+" svelte-1h68wu3")))&&E(e,"class",i),(!s||b[0]&6291459|b[1]&65536)&&_e(e,"selected",t[47](t[112])),(!s||b[0]&6291457)&&_e(e,"active",t[116]),(!s||b[0]&6291459)&&_e(e,"disabled",t[41])},i(v){s||(Q(p,v),s=!0)},o(v){ue(p,v),s=!1},d(v){v&&W(e),p&&p.d(v),l=!1,Ge(u)}}}function OO(t){var fe;let e,n,r,i,s,l,u,f=[],d=new Map,p,h,g,_,v,b,C,y,O,T,R,I,x,U,D,Y;Sn(t[86]);let ne=t[69]["expand-icon"],j=Lr(ne,t,t[108],l1),oe=j||dO(t),ce=t[4],Te=ee=>ee[48](ee[111]);for(let ee=0;ee<ce.length;ee+=1){let se=i1(t,ce,ee),ye=Te(se);d.set(ye,f[ee]=u1(ye,se))}let F=t[24]&&f1(t),Z=[wO,vO],G=[];function te(ee,se){return ee[41]?0:ee[4].length>0?1:-1}~(O=te(t,[-1,-1,-1,-1]))&&(T=G[O]=Z[O](t));let ae=(t[3]&&t[29]||((fe=t[2])==null?void 0:fe.length)>0)&&p1(t);return{c(){e=P("div"),n=P("input"),s=J(),oe&&oe.c(),l=J(),u=P("ul");for(let ee=0;ee<f.length;ee+=1)f[ee].c();p=J(),h=P("input"),C=J(),F&&F.c(),y=J(),T&&T.c(),R=J(),ae&&ae.c(),E(n,"name",t[28]),n.required=r=Boolean(t[37]),n.value=i=t[4].length>=t[37]?JSON.stringify(t[4]):null,E(n,"tabindex","-1"),E(n,"aria-hidden","true"),E(n,"aria-label","ignore this, used only to prevent form submission if select is required but empty"),E(n,"class","form-control svelte-1h68wu3"),E(h,"class",g=""+(fn(t[19])+" svelte-1h68wu3")),E(h,"id",t[18]),h.disabled=t[41],E(h,"autocomplete",t[12]),E(h,"inputmode",t[20]),E(h,"pattern",t[32]),E(h,"placeholder",_=t[4].length==0?t[33]:null),E(h,"aria-invalid",v=t[7]?"true":null),E(h,"ondrop","return false"),E(u,"class",b="selected "+t[40]+" svelte-1h68wu3"),E(u,"aria-label","selected options"),E(e,"class",I="multiselect "+t[30]+" svelte-1h68wu3"),E(e,"title",x=t[41]?t[14]:null),E(e,"data-id",t[18]),_e(e,"disabled",t[41]),_e(e,"single",t[25]===1),_e(e,"open",t[8]),_e(e,"invalid",t[7])},m(ee,se){z(ee,e,se),N(e,n),t[87](n),N(e,s),oe&&oe.m(e,null),N(e,l),N(e,u);for(let ye=0;ye<f.length;ye+=1)f[ye]&&f[ye].m(u,null);N(u,p),N(u,h),t[92](h),Kn(h,t[3]),N(e,C),F&&F.m(e,null),N(e,y),~O&&G[O].m(e,null),N(e,R),ae&&ae.m(e,null),t[107](e),U=!0,D||(Y=[X(window,"click",t[55]),X(window,"touchstart",t[55]),X(window,"resize",t[86]),X(n,"invalid",t[88]),X(h,"input",t[93]),X(h,"mouseup",Hm(Xr(t[51]))),X(h,"keydown",Xr(t[52])),X(h,"focus",t[72]),X(h,"focus",t[51]),X(h,"input",t[58]),X(h,"blur",t[73]),X(h,"change",t[74]),X(h,"click",t[75]),X(h,"keydown",t[76]),X(h,"keyup",t[77]),X(h,"mousedown",t[78]),X(h,"mouseenter",t[79]),X(h,"mouseleave",t[80]),X(h,"touchcancel",t[81]),X(h,"touchend",t[82]),X(h,"touchmove",t[83]),X(h,"touchstart",t[84]),X(e,"mouseup",Xr(t[51]))],D=!0)},p(ee,se){var de;if((!U||se[0]&268435456)&&E(n,"name",ee[28]),(!U||se[1]&64&&r!==(r=Boolean(ee[37])))&&(n.required=r),(!U||se[0]&16|se[1]&64&&i!==(i=ee[4].length>=ee[37]?JSON.stringify(ee[4]):null)&&n.value!==i)&&(n.value=i),j&&j.p&&(!U||se[0]&256|se[3]&32768)&&Fr(j,ne,ee,ee[108],U?Rr(ne,ee[108],se,cO):Yr(ee[108]),l1),se[0]&8388624|se[1]&109724849|se[3]&32768){ce=ee[4],et();for(let be=0;be<f.length;be+=1)f[be].r();f=ku(f,se,Te,1,ee,ce,d,u,n_,u1,p,i1);for(let be=0;be<f.length;be+=1)f[be].a();tt()}(!U||se[0]&524288&&g!==(g=""+(fn(ee[19])+" svelte-1h68wu3")))&&E(h,"class",g),(!U||se[0]&262144)&&E(h,"id",ee[18]),(!U||se[1]&1024)&&(h.disabled=ee[41]),(!U||se[0]&4096)&&E(h,"autocomplete",ee[12]),(!U||se[0]&1048576)&&E(h,"inputmode",ee[20]),(!U||se[1]&2)&&E(h,"pattern",ee[32]),(!U||se[0]&16|se[1]&4&&_!==(_=ee[4].length==0?ee[33]:null))&&E(h,"placeholder",_),(!U||se[0]&128&&v!==(v=ee[7]?"true":null))&&E(h,"aria-invalid",v),se[0]&8&&h.value!==ee[3]&&Kn(h,ee[3]),(!U||se[1]&512&&b!==(b="selected "+ee[40]+" svelte-1h68wu3"))&&E(u,"class",b),ee[24]?F?(F.p(ee,se),se[0]&16777216&&Q(F,1)):(F=f1(ee),F.c(),Q(F,1),F.m(e,y)):F&&(et(),ue(F,1,1,()=>{F=null}),tt());let ye=O;O=te(ee,se),O===ye?~O&&G[O].p(ee,se):(T&&(et(),ue(G[ye],1,1,()=>{G[ye]=null}),tt()),~O?(T=G[O],T?T.p(ee,se):(T=G[O]=Z[O](ee),T.c()),Q(T,1),T.m(e,R)):T=null),ee[3]&&ee[29]||((de=ee[2])==null?void 0:de.length)>0?ae?(ae.p(ee,se),se[0]&536870924&&Q(ae,1)):(ae=p1(ee),ae.c(),Q(ae,1),ae.m(e,null)):ae&&(et(),ue(ae,1,1,()=>{ae=null}),tt()),(!U||se[0]&1073741824&&I!==(I="multiselect "+ee[30]+" svelte-1h68wu3"))&&E(e,"class",I),(!U||se[0]&16384|se[1]&1024&&x!==(x=ee[41]?ee[14]:null))&&E(e,"title",x),(!U||se[0]&262144)&&E(e,"data-id",ee[18]),(!U||se[0]&1073741824|se[1]&1024)&&_e(e,"disabled",ee[41]),(!U||se[0]&1107296256)&&_e(e,"single",ee[25]===1),(!U||se[0]&1073742080)&&_e(e,"open",ee[8]),(!U||se[0]&1073741952)&&_e(e,"invalid",ee[7])},i(ee){if(!U){Q(oe,ee);for(let se=0;se<ce.length;se+=1)Q(f[se]);Q(F),Q(T),Q(ae),U=!0}},o(ee){ue(oe,ee);for(let se=0;se<f.length;se+=1)ue(f[se]);ue(F),ue(T),ue(ae),U=!1},d(ee){ee&&W(e),t[87](null),oe&&oe.d(ee);for(let se=0;se<f.length;se+=1)f[se].d();t[92](null),F&&F.d(),~O&&G[O].d(),ae&&ae.d(),t[107](null),D=!1,Ge(Y)}}}function MO(t,e,n){var ua;let r,{$$slots:i={},$$scope:s}=e,{activeIndex:l=null}=e,{activeOption:u=null}=e,{createOptionMsg:f="Create this option..."}=e,{allowUserOptions:d=!1}=e,{allowEmpty:p=!1}=e,{autocomplete:h="off"}=e,{autoScroll:g=!0}=e,{breakpoint:_=800}=e,{defaultDisabledTitle:v="This option is disabled"}=e,{disabled:b=!1}=e,{disabledInputTitle:C="This input is disabled"}=e,{duplicateFunc:y=(M,Pe)=>`${Yt(M)}`.toLowerCase()===`${Yt(Pe)}`.toLowerCase()}=e,{duplicateOptionMsg:O="This option is already selected"}=e,{duplicates:T=!1}=e,{filterFunc:R=(M,Pe)=>Pe?`${Yt(M)}`.toLowerCase().includes(Pe.toLowerCase()):!0}=e,{focusInputOnSelect:I="desktop"}=e,{form_input:x=null}=e,{highlightMatches:U=!0}=e,{id:D=null}=e,{input:Y=null}=e,{inputClass:ne=""}=e,{inputmode:j=null}=e,{invalid:oe=!1}=e,{liActiveOptionClass:ce=""}=e,{liOptionClass:Te=""}=e,{liSelectedClass:F=""}=e,{loading:Z=!1}=e,{matchingOptions:G=[]}=e,{maxSelect:te=null}=e,{maxSelectMsg:ae=(M,Pe)=>Pe>1?`${M}/${Pe}`:""}=e,{maxSelectMsgClass:fe=""}=e,{name:ee=null}=e,{noMatchingOptionsMsg:se="No matching options"}=e,{open:ye=!1}=e,{options:de}=e,{outerDiv:be=null}=e,{outerDivClass:Ve=""}=e,{parseLabelsAsHtml:xt=!1}=e,{pattern:Lt=null}=e,{placeholder:mt=null}=e,{removeAllTitle:bt="Remove all"}=e,{removeBtnTitle:ct="Remove"}=e,{minSelect:_t=null}=e,{required:Zt=!1}=e,{resetFilterOnAdd:oi=!0}=e,{searchText:nt=""}=e,{selected:Re=(ua=de==null?void 0:de.filter(M=>M instanceof Object&&(M==null?void 0:M.preselected)).slice(0,te!=null?te:void 0))!=null?ua:[]}=e,{sortSelected:Bn=!1}=e,{selectedOptionsDraggable:Zn=!Bn}=e,{ulOptionsClass:dn=""}=e,{ulSelectedClass:pn=""}=e,{value:Pn=null}=e,Yt=M=>M instanceof Object?(M.label===void 0&&console.error(`MultiSelect option ${JSON.stringify(M)} is an object but has no label key`),M.label):M,xn=!1;(de==null?void 0:de.length)>0||(d||Z||b||p?de=[]:console.error("MultiSelect received no options")),te!==null&&te<1&&console.error(`MultiSelect's maxSelect must be null or positive integer, got ${te}`),Array.isArray(Re)||console.error(`MultiSelect's selected prop should always be an array, got ${Re}`),te&&typeof Zt=="number"&&Zt>te&&console.error(`MultiSelect maxSelect=${te} < required=${Zt}, makes it impossible for users to submit a valid form`),xt&&d&&console.warn("Don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),Bn&&Zn&&console.warn("MultiSelect's sortSelected and selectedOptionsDraggable should not be combined as any user re-orderings of selected options will be undone by sortSelected on component re-renders.");let bn=Yl(),hn=!1,Ln;if(l!==null&&!G[l])throw`Run time error, activeIndex=${l} is out of bounds, matchingOptions.length=${G.length}`;function zn(M,Pe){te&&te>1&&Re.length>=te&&n(42,xn=!0),!isNaN(Number(M))&&typeof Re.map(Yt)[0]=="number"&&(M=Number(M));let kt=Re.some(ht=>y(ht,M));if((te===null||te===1||Re.length<te)&&(T||!kt)){let ht=de.find(Cr=>Yt(Cr)===M);if(!ht&&[!0,"append"].includes(d)&&nt.length>0&&(typeof de[0]=="object"?ht={label:nt}:(["number","undefined"].includes(typeof de[0])&&!isNaN(Number(nt))?ht=Number(nt):ht=nt,bn("create",{option:ht})),d==="append"&&n(2,de=[...de,ht])),ht===void 0)throw`Run time error, option with label ${M} not found in options list`;if(oi&&n(3,nt=""),["",void 0,null].includes(ht)){console.error(`MultiSelect: encountered missing option with label ${M} (or option is poorly labeled)`);return}te===1?n(4,Re=[ht]):(n(4,Re=[...Re,ht]),Bn===!0?n(4,Re=Re.sort((Cr,Xs)=>{let[ao,jr]=[Yt(Cr),Yt(Xs)];return`${ao}`.localeCompare(`${jr}`)})):typeof Bn=="function"&&n(4,Re=Re.sort(Bn))),Re.length===te?Ur(Pe):(I===!0||I==="desktop"&&Ln>_)&&(Y==null||Y.focus()),bn("add",{option:ht}),bn("change",{option:ht,type:"add"}),n(7,oe=!1),x==null||x.setCustomValidity("")}}function Hn(M){if(Re.length===0)return;let Pe=Re.find(kt=>Yt(kt)===M);if(Pe===void 0&&d&&(Pe=typeof de[0]=="object"?{label:M}:M),Pe===void 0)return console.error(`Multiselect can't remove selected option ${M}, not found in selected list`);n(4,Re=Re.filter(kt=>Yt(kt)!==M)),n(7,oe=!1),x==null||x.setCustomValidity(""),bn("remove",{option:Pe}),bn("change",{option:Pe,type:"remove"})}function Ii(M){b||(n(8,ye=!0),M instanceof FocusEvent||Y==null||Y.focus(),bn("open",{event:M}))}function Ur(M){n(8,ye=!1),Y==null||Y.blur(),n(0,l=null),bn("close",{event:M})}function so(M){return K(this,null,function*(){var Pe;if(M.key==="Escape"||M.key==="Tab")Ur(M),n(3,nt="");else if(M.key==="Enter")if(M.preventDefault(),u){let kt=Yt(u);Re.map(Yt).includes(kt)?Hn(kt):zn(kt,M),n(3,nt="")}else d&&nt.length>0?zn(nt,M):Ii(M);else if(["ArrowDown","ArrowUp"].includes(M.key)){if(l===null&&G.length>0){n(0,l=0);return}else if(d&&!G.length&&nt.length>0){n(43,hn=!hn);return}else if(l===null)return;M.preventDefault();let kt=M.key==="ArrowUp"?-1:1;if(n(0,l=(l+kt)%G.length),l<0&&n(0,l=G.length-1),g){yield yu();let ht=document.querySelector("ul.options > li.active");ht&&((Pe=ht.scrollIntoViewIfNeeded)==null||Pe.call(ht))}}else M.key==="Backspace"&&Re.length>0&&!nt?Hn(Re.map(Yt).at(-1)):G.length>0&&n(0,l=0)})}function lo(){n(4,Re=[]),n(3,nt=""),bn("removeAll",{options:Re}),bn("change",{options:Re,type:"removeAll"})}let q=M=>Pe=>{["Enter","Space"].includes(Pe.code)&&(Pe.preventDefault(),M())};function Ce(M){be&&!be.contains(M.target)&&Ur(M)}let pt=null,vt=M=>Pe=>{if(!Pe.dataTransfer)return;Pe.dataTransfer.dropEffect="move";let kt=parseInt(Pe.dataTransfer.getData("text/plain")),ht=[...Re];kt<M?(ht.splice(M+1,0,ht[kt]),ht.splice(kt,1)):(ht.splice(M,0,ht[kt]),ht.splice(kt+1,1)),n(4,Re=ht),n(45,pt=null)},Xn=M=>Pe=>{!Pe.dataTransfer||(Pe.dataTransfer.effectAllowed="move",Pe.dataTransfer.dropEffect="move",Pe.dataTransfer.setData("text/plain",`${M}`))},si;function Zo(M){var ao;if(!U||typeof CSS=="undefined"||!CSS.highlights)return;CSS.highlights.clear();let Pe=(ao=M==null?void 0:M.target)==null?void 0:ao.value.trim().toLowerCase();if(!Pe)return;let kt=document.createTreeWalker(si,NodeFilter.SHOW_TEXT),ht=[],Cr=kt.nextNode();for(;Cr;)ht.push(Cr),Cr=kt.nextNode();let Xs=ht.map(jr=>{let Qs=jr.textContent.toLowerCase(),fa=[],$o=0;for(;$o<Qs.length;){let li=Qs.indexOf(Pe,$o);if(li===-1)break;fa.push(li),$o=li+Pe.length}return fa.map(li=>{let uo=new Range;return uo.setStart(jr,li),uo.setEnd(jr,li+Pe.length),uo})});CSS.highlights.set("search-results",new Highlight(...Xs.flat()))}function Xo(M){Cn.call(this,t,M)}function sf(M){Cn.call(this,t,M)}function lf(M){Cn.call(this,t,M)}function af(M){Cn.call(this,t,M)}function uf(M){Cn.call(this,t,M)}function ia(M){Cn.call(this,t,M)}function ff(M){Cn.call(this,t,M)}function cf(M){Cn.call(this,t,M)}function df(M){Cn.call(this,t,M)}function Ks(M){Cn.call(this,t,M)}function pf(M){Cn.call(this,t,M)}function Zs(M){Cn.call(this,t,M)}function hf(M){Cn.call(this,t,M)}function gf(M){Cn.call(this,t,M)}function mf(M){Cn.call(this,t,M)}function _f(M){Cn.call(this,t,M)}function vf(){n(44,Ln=window.innerWidth)}function wf(M){Le[M?"unshift":"push"](()=>{x=M,n(5,x)})}let yf=()=>{n(7,oe=!0);let M;te&&te>1&&Zt>1?M=`Please select between ${Zt} and ${te} options`:Zt>1?M=`Please select at least ${Zt} options`:M="Please select an option",x==null||x.setCustomValidity(M)},bf=M=>Hn(Yt(M)),oa=M=>Hn(Yt(M)),kf=M=>n(45,pt=M);function Ef(M){Le[M?"unshift":"push"](()=>{Y=M,n(6,Y)})}function Cf(){nt=this.value,n(3,nt)}function Sf(M){xn=M,n(42,xn)}let Tf=(M,Pe,kt)=>{M||zn(Pe,kt)},Df=(M,Pe)=>{M||n(0,l=Pe)},Qo=(M,Pe)=>{M||n(0,l=Pe)},Of=()=>n(0,l=null),Jo=()=>n(0,l=null),Mf=M=>y(M,nt),Af=M=>zn(nt,M),If=()=>n(43,hn=!0),sa=()=>n(43,hn=!0),la=()=>n(43,hn=!1),aa=()=>n(43,hn=!1);function Nf(M){Le[M?"unshift":"push"](()=>{si=M,n(46,si)})}function Pf(M){Le[M?"unshift":"push"](()=>{be=M,n(9,be)})}return t.$$set=M=>{"activeIndex"in M&&n(0,l=M.activeIndex),"activeOption"in M&&n(59,u=M.activeOption),"createOptionMsg"in M&&n(10,f=M.createOptionMsg),"allowUserOptions"in M&&n(11,d=M.allowUserOptions),"allowEmpty"in M&&n(61,p=M.allowEmpty),"autocomplete"in M&&n(12,h=M.autocomplete),"autoScroll"in M&&n(62,g=M.autoScroll),"breakpoint"in M&&n(63,_=M.breakpoint),"defaultDisabledTitle"in M&&n(13,v=M.defaultDisabledTitle),"disabled"in M&&n(41,b=M.disabled),"disabledInputTitle"in M&&n(14,C=M.disabledInputTitle),"duplicateFunc"in M&&n(15,y=M.duplicateFunc),"duplicateOptionMsg"in M&&n(16,O=M.duplicateOptionMsg),"duplicates"in M&&n(17,T=M.duplicates),"filterFunc"in M&&n(64,R=M.filterFunc),"focusInputOnSelect"in M&&n(65,I=M.focusInputOnSelect),"form_input"in M&&n(5,x=M.form_input),"highlightMatches"in M&&n(66,U=M.highlightMatches),"id"in M&&n(18,D=M.id),"input"in M&&n(6,Y=M.input),"inputClass"in M&&n(19,ne=M.inputClass),"inputmode"in M&&n(20,j=M.inputmode),"invalid"in M&&n(7,oe=M.invalid),"liActiveOptionClass"in M&&n(21,ce=M.liActiveOptionClass),"liOptionClass"in M&&n(22,Te=M.liOptionClass),"liSelectedClass"in M&&n(23,F=M.liSelectedClass),"loading"in M&&n(24,Z=M.loading),"matchingOptions"in M&&n(1,G=M.matchingOptions),"maxSelect"in M&&n(25,te=M.maxSelect),"maxSelectMsg"in M&&n(26,ae=M.maxSelectMsg),"maxSelectMsgClass"in M&&n(27,fe=M.maxSelectMsgClass),"name"in M&&n(28,ee=M.name),"noMatchingOptionsMsg"in M&&n(29,se=M.noMatchingOptionsMsg),"open"in M&&n(8,ye=M.open),"options"in M&&n(2,de=M.options),"outerDiv"in M&&n(9,be=M.outerDiv),"outerDivClass"in M&&n(30,Ve=M.outerDivClass),"parseLabelsAsHtml"in M&&n(31,xt=M.parseLabelsAsHtml),"pattern"in M&&n(32,Lt=M.pattern),"placeholder"in M&&n(33,mt=M.placeholder),"removeAllTitle"in M&&n(34,bt=M.removeAllTitle),"removeBtnTitle"in M&&n(35,ct=M.removeBtnTitle),"minSelect"in M&&n(36,_t=M.minSelect),"required"in M&&n(37,Zt=M.required),"resetFilterOnAdd"in M&&n(67,oi=M.resetFilterOnAdd),"searchText"in M&&n(3,nt=M.searchText),"selected"in M&&n(4,Re=M.selected),"sortSelected"in M&&n(68,Bn=M.sortSelected),"selectedOptionsDraggable"in M&&n(38,Zn=M.selectedOptionsDraggable),"ulOptionsClass"in M&&n(39,dn=M.ulOptionsClass),"ulSelectedClass"in M&&n(40,pn=M.ulSelectedClass),"value"in M&&n(60,Pn=M.value),"$$scope"in M&&n(108,s=M.$$scope)},t.$$.update=()=>{var M,Pe;if(t.$$.dirty[0]&33554448){e:n(60,Pn=te===1?(M=Re[0])!=null?M:null:Re)}if(t.$$.dirty[0]&28|t.$$.dirty[2]&4){e:n(1,G=de.filter(kt=>R(kt,nt)&&!Re.map(Yt).includes(Yt(kt))))}if(t.$$.dirty[0]&3){e:n(59,u=(Pe=G[l!=null?l:-1])!=null?Pe:null)}if(t.$$.dirty[0]&16){e:n(47,r=kt=>Re.map(Yt).includes(kt))}},[l,G,de,nt,Re,x,Y,oe,ye,be,f,d,h,v,C,y,O,T,D,ne,j,ce,Te,F,Z,te,ae,fe,ee,se,Ve,xt,Lt,mt,bt,ct,_t,Zt,Zn,dn,pn,b,xn,hn,Ln,pt,si,r,Yt,zn,Hn,Ii,so,lo,q,Ce,vt,Xn,Zo,u,Pn,p,g,_,R,I,U,oi,Bn,i,Xo,sf,lf,af,uf,ia,ff,cf,df,Ks,pf,Zs,hf,gf,mf,_f,vf,wf,yf,bf,oa,kf,Ef,Cf,Sf,Tf,Df,Qo,Of,Jo,Mf,Af,If,sa,la,aa,Nf,Pf,s]}var m1=class extends ze{constructor(e){super();Ue(this,e,MO,OO,We,{activeIndex:0,activeOption:59,createOptionMsg:10,allowUserOptions:11,allowEmpty:61,autocomplete:12,autoScroll:62,breakpoint:63,defaultDisabledTitle:13,disabled:41,disabledInputTitle:14,duplicateFunc:15,duplicateOptionMsg:16,duplicates:17,filterFunc:64,focusInputOnSelect:65,form_input:5,highlightMatches:66,id:18,input:6,inputClass:19,inputmode:20,invalid:7,liActiveOptionClass:21,liOptionClass:22,liSelectedClass:23,loading:24,matchingOptions:1,maxSelect:25,maxSelectMsg:26,maxSelectMsgClass:27,name:28,noMatchingOptionsMsg:29,open:8,options:2,outerDiv:9,outerDivClass:30,parseLabelsAsHtml:31,pattern:32,placeholder:33,removeAllTitle:34,removeBtnTitle:35,minSelect:36,required:37,resetFilterOnAdd:67,searchText:3,selected:4,sortSelected:68,selectedOptionsDraggable:38,ulOptionsClass:39,ulSelectedClass:40,value:60},iO,[-1,-1,-1,-1])}},Gs=m1;var Ws=[];function _1(t,e){return{subscribe:Bd(t,e).subscribe}}function Bd(t,e=pe){let n,r=new Set;function i(u){if(We(t,u)&&(t=u,n)){let f=!Ws.length;for(let d of r)d[1](),Ws.push(d,t);if(f){for(let d=0;d<Ws.length;d+=2)Ws[d][0](Ws[d+1]);Ws.length=0}}}function s(u){i(u(t))}function l(u,f=pe){let d=[u,f];return r.add(d),r.size===1&&(n=e(i)||pe),u(t),()=>{r.delete(d),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:l}}function v1(t){return Object.prototype.toString.call(t)==="[object Date]"}function zd(t,e,n,r){if(typeof n=="number"||v1(n)){let i=r-n,s=(n-e)/(t.dt||1/60),l=t.opts.stiffness*i,u=t.opts.damping*s,f=(l-u)*t.inv_mass,d=(s+f)*t.dt;return Math.abs(d)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,v1(n)?new Date(n.getTime()+d):n+d)}else{if(Array.isArray(n))return n.map((i,s)=>zd(t,e[s],n[s],r[s]));if(typeof n=="object"){let i={};for(let s in n)i[s]=zd(t,e[s],n[s],r[s]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function Ru(t,e={}){let n=Bd(t),{stiffness:r=.15,damping:i=.8,precision:s=.01}=e,l,u,f,d=t,p=t,h=1,g=0,_=!1;function v(C,y={}){p=C;let O=f={};if(t==null||y.hard||b.stiffness>=1&&b.damping>=1)return _=!0,l=Ll(),d=C,n.set(t=p),Promise.resolve();if(y.soft){let T=y.soft===!0?.5:+y.soft;g=1/(T*60),h=0}return u||(l=Ll(),_=!1,u=gu(T=>{if(_)return _=!1,u=null,!1;h=Math.min(h+g,1);let R={inv_mass:h,opts:b,settled:!0,dt:(T-l)*60/1e3},I=zd(R,d,t,p);return l=T,d=t,n.set(t=I),R.settled&&(u=null),!R.settled})),new Promise(T=>{u.promise.then(()=>{O===f&&T()})})}let b={set:v,update:(C,y)=>v(C(p,t),y),subscribe:n.subscribe,stiffness:r,damping:i,precision:s};return b}function AO(t){let e,n=`rotate(${t[0].angle}deg) scale(${t[0].scale}) translate(${t[0].dx}px,
  ${t[0].dy}px)`,r,i=t[11].default,s=Lr(i,t,t[10],null);return{c(){e=P("span"),s&&s.c(),ge(e,"transform",n)},m(l,u){z(l,e,u),s&&s.m(e,null),r=!0},p(l,[u]){s&&s.p&&(!r||u&1024)&&Fr(s,i,l,l[10],r?Rr(i,l[10],u,null):Yr(l[10]),null),u&1&&n!==(n=`rotate(${l[0].angle}deg) scale(${l[0].scale}) translate(${l[0].dx}px,
  ${l[0].dy}px)`)&&ge(e,"transform",n)},i(l){r||(Q(s,l),r=!0)},o(l){ue(s,l),r=!1},d(l){l&&W(e),s&&s.d(l)}}}function IO(t,e,n){let r,{$$slots:i={},$$scope:s}=e,{wiggle:l=!1}=e,{angle:u=0}=e,{scale:f=1}=e,{dx:d=0}=e,{dy:p=0}=e,{duration:h=200}=e,{stiffness:g=.05}=e,{damping:_=.1}=e,v={angle:0,scale:1,dx:0,dy:0},b=Ru(v,{stiffness:g,damping:_});return hu(t,b,C=>n(0,r=C)),t.$$set=C=>{"wiggle"in C&&n(2,l=C.wiggle),"angle"in C&&n(3,u=C.angle),"scale"in C&&n(4,f=C.scale),"dx"in C&&n(5,d=C.dx),"dy"in C&&n(6,p=C.dy),"duration"in C&&n(7,h=C.duration),"stiffness"in C&&n(8,g=C.stiffness),"damping"in C&&n(9,_=C.damping),"$$scope"in C&&n(10,s=C.$$scope)},t.$$.update=()=>{if(t.$$.dirty&132){e:l&&setTimeout(()=>n(2,l=!1),h)}if(t.$$.dirty&124){e:b.set(l?{scale:f,angle:u,dx:d,dy:p}:v)}},[r,b,l,u,f,d,p,h,g,_,s,i]}var w1=class extends ze{constructor(e){super();Ue(this,e,IO,AO,We,{wiggle:2,angle:3,scale:4,dx:5,dy:6,duration:7,stiffness:8,damping:9})}},Wd=w1;function NO(t=!0){let e=this,n=new IntersectionObserver(function([r]){let i=r.intersectionRatio;if(i<1){let s=i<=0&&t?"center":"nearest";e.scrollIntoView({block:s,inline:s})}this.disconnect()});return n.observe(this),n}var y1;typeof Element!="undefined"&&!((y1=Element.prototype)==null?void 0:y1.scrollIntoViewIfNeeded)&&typeof IntersectionObserver!="undefined"&&(Element.prototype.scrollIntoViewIfNeeded=NO);function PO(t){yt(t,"svelte-1hozll4",'.switch.svelte-1hozll4.svelte-1hozll4{position:relative;display:inline-block;width:60px;height:34px}.switch.svelte-1hozll4 input.svelte-1hozll4{opacity:0;width:0;height:0}.slider.svelte-1hozll4.svelte-1hozll4{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#99a2a2;-webkit-transition:0.4s;transition:0.4s;border-radius:34px}.slider.svelte-1hozll4.svelte-1hozll4:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#d7dada;-webkit-transition:0.4s;transition:0.4s;border-radius:50%}input.svelte-1hozll4:checked+.slider.svelte-1hozll4{background-color:#2a4f4f}input.svelte-1hozll4:checked+.slider.svelte-1hozll4{box-shadow:0 0 1px #2a4f4f}input.svelte-1hozll4:checked+.slider.svelte-1hozll4:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}')}function xO(t){let e,n,r,i,s,l;return{c(){e=P("label"),n=P("input"),r=J(),i=P("span"),E(n,"type","checkbox"),E(n,"class","svelte-1hozll4"),E(i,"class","slider svelte-1hozll4"),E(e,"class","switch svelte-1hozll4")},m(u,f){z(u,e,f),N(e,n),n.checked=t[0],N(e,r),N(e,i),s||(l=X(n,"change",t[1]),s=!0)},p(u,[f]){f&1&&(n.checked=u[0])},i:pe,o:pe,d(u){u&&W(e),s=!1,l()}}}function LO(t,e,n){let{checked:r=!1}=e;function i(){r=this.checked,n(0,r)}return t.$$set=s=>{"checked"in s&&n(0,r=s.checked)},[r,i]}var b1=class extends ze{constructor(e){super();Ue(this,e,LO,xO,We,{checked:0},PO)}},Hd=b1;function RO(t){yt(t,"svelte-19a3n3k",".rangeSlider{--pip:var(--range-pip, lightslategray);--pip-text:var(--range-pip-text, var(--pip));--pip-active:var(--range-pip-active, darkslategrey);--pip-active-text:var(--range-pip-active-text, var(--pip-active));--pip-hover:var(--range-pip-hover, darkslategrey);--pip-hover-text:var(--range-pip-hover-text, var(--pip-hover));--pip-in-range:var(--range-pip-in-range, var(--pip-active));--pip-in-range-text:var(--range-pip-in-range-text, var(--pip-active-text))}.rangePips{position:absolute;height:1em;left:0;right:0;bottom:-1em}.rangePips.vertical{height:auto;width:1em;left:100%;right:auto;top:0;bottom:0}.rangePips .pip{height:0.4em;position:absolute;top:0.25em;width:1px;white-space:nowrap}.rangePips.vertical .pip{height:1px;width:0.4em;left:0.25em;top:auto;bottom:auto}.rangePips .pipVal{position:absolute;top:0.4em;transform:translate(-50%, 25%)}.rangePips.vertical .pipVal{position:absolute;top:0;left:0.4em;transform:translate(25%, -50%)}.rangePips .pip{transition:all 0.15s ease}.rangePips .pipVal{transition:all 0.15s ease, font-weight 0s linear}.rangePips .pip{color:lightslategray;color:var(--pip-text);background-color:lightslategray;background-color:var(--pip)}.rangePips .pip.selected{color:darkslategrey;color:var(--pip-active-text);background-color:darkslategrey;background-color:var(--pip-active)}.rangePips.hoverable:not(.disabled) .pip:hover{color:darkslategrey;color:var(--pip-hover-text);background-color:darkslategrey;background-color:var(--pip-hover)}.rangePips .pip.in-range{color:darkslategrey;color:var(--pip-in-range-text);background-color:darkslategrey;background-color:var(--pip-in-range)}.rangePips .pip.selected{height:0.75em}.rangePips.vertical .pip.selected{height:1px;width:0.75em}.rangePips .pip.selected .pipVal{font-weight:bold;top:0.75em}.rangePips.vertical .pip.selected .pipVal{top:0;left:0.75em}.rangePips.hoverable:not(.disabled) .pip:not(.selected):hover{transition:none}.rangePips.hoverable:not(.disabled) .pip:not(.selected):hover .pipVal{transition:none;font-weight:bold}")}function k1(t,e,n){let r=t.slice();return r[28]=e[n],r[30]=n,r}function E1(t){let e,n,r,i,s=(t[6]==="label"||t[7]==="label")&&C1(t);return{c(){e=P("span"),s&&s.c(),E(e,"class","pip first"),E(e,"style",n=""+(t[14]+": 0%;")),_e(e,"selected",t[18](t[0])),_e(e,"in-range",t[17](t[0]))},m(l,u){z(l,e,u),s&&s.m(e,null),r||(i=[X(e,"click",function(){$t(t[21](t[0]))&&t[21](t[0]).apply(this,arguments)}),X(e,"touchend",Zr(function(){$t(t[21](t[0]))&&t[21](t[0]).apply(this,arguments)}))],r=!0)},p(l,u){t=l,t[6]==="label"||t[7]==="label"?s?s.p(t,u):(s=C1(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null),u&16384&&n!==(n=""+(t[14]+": 0%;"))&&E(e,"style",n),u&262145&&_e(e,"selected",t[18](t[0])),u&131073&&_e(e,"in-range",t[17](t[0]))},d(l){l&&W(e),s&&s.d(),r=!1,Ge(i)}}}function C1(t){let e,n=t[12](t[16](t[0]),0,0)+"",r,i=t[10]&&S1(t),s=t[11]&&T1(t);return{c(){e=P("span"),i&&i.c(),r=Ie(n),s&&s.c(),E(e,"class","pipVal")},m(l,u){z(l,e,u),i&&i.m(e,null),N(e,r),s&&s.m(e,null)},p(l,u){l[10]?i?i.p(l,u):(i=S1(l),i.c(),i.m(e,r)):i&&(i.d(1),i=null),u&69633&&n!==(n=l[12](l[16](l[0]),0,0)+"")&&xe(r,n),l[11]?s?s.p(l,u):(s=T1(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&W(e),i&&i.d(),s&&s.d()}}}function S1(t){let e,n;return{c(){e=P("span"),n=Ie(t[10]),E(e,"class","pipVal-prefix")},m(r,i){z(r,e,i),N(e,n)},p(r,i){i&1024&&xe(n,r[10])},d(r){r&&W(e)}}}function T1(t){let e,n;return{c(){e=P("span"),n=Ie(t[11]),E(e,"class","pipVal-suffix")},m(r,i){z(r,e,i),N(e,n)},p(r,i){i&2048&&xe(n,r[11])},d(r){r&&W(e)}}}function D1(t){let e,n=Array(t[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=N1(k1(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Kt()},m(i,s){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,s);z(i,e,s)},p(i,s){if(s&4120131){n=Array(i[20]+1);let l;for(l=0;l<n.length;l+=1){let u=k1(i,n,l);r[l]?r[l].p(u,s):(r[l]=N1(u),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){Nt(r,i),i&&W(e)}}}function O1(t){let e,n,r,i,s,l=(t[6]==="label"||t[9]==="label")&&M1(t);return{c(){e=P("span"),l&&l.c(),n=J(),E(e,"class","pip"),E(e,"style",r=""+(t[14]+": "+t[15](t[19](t[30]))+"%;")),_e(e,"selected",t[18](t[19](t[30]))),_e(e,"in-range",t[17](t[19](t[30])))},m(u,f){z(u,e,f),l&&l.m(e,null),N(e,n),i||(s=[X(e,"click",function(){$t(t[21](t[19](t[30])))&&t[21](t[19](t[30])).apply(this,arguments)}),X(e,"touchend",Zr(function(){$t(t[21](t[19](t[30])))&&t[21](t[19](t[30])).apply(this,arguments)}))],i=!0)},p(u,f){t=u,t[6]==="label"||t[9]==="label"?l?l.p(t,f):(l=M1(t),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&573440&&r!==(r=""+(t[14]+": "+t[15](t[19](t[30]))+"%;"))&&E(e,"style",r),f&786432&&_e(e,"selected",t[18](t[19](t[30]))),f&655360&&_e(e,"in-range",t[17](t[19](t[30])))},d(u){u&&W(e),l&&l.d(),i=!1,Ge(s)}}}function M1(t){let e,n=t[12](t[19](t[30]),t[30],t[15](t[19](t[30])))+"",r,i=t[10]&&A1(t),s=t[11]&&I1(t);return{c(){e=P("span"),i&&i.c(),r=Ie(n),s&&s.c(),E(e,"class","pipVal")},m(l,u){z(l,e,u),i&&i.m(e,null),N(e,r),s&&s.m(e,null)},p(l,u){l[10]?i?i.p(l,u):(i=A1(l),i.c(),i.m(e,r)):i&&(i.d(1),i=null),u&561152&&n!==(n=l[12](l[19](l[30]),l[30],l[15](l[19](l[30])))+"")&&xe(r,n),l[11]?s?s.p(l,u):(s=I1(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&W(e),i&&i.d(),s&&s.d()}}}function A1(t){let e,n;return{c(){e=P("span"),n=Ie(t[10]),E(e,"class","pipVal-prefix")},m(r,i){z(r,e,i),N(e,n)},p(r,i){i&1024&&xe(n,r[10])},d(r){r&&W(e)}}}function I1(t){let e,n;return{c(){e=P("span"),n=Ie(t[11]),E(e,"class","pipVal-suffix")},m(r,i){z(r,e,i),N(e,n)},p(r,i){i&2048&&xe(n,r[11])},d(r){r&&W(e)}}}function N1(t){let e=t[19](t[30])!==t[0]&&t[19](t[30])!==t[1],n,r=e&&O1(t);return{c(){r&&r.c(),n=Kt()},m(i,s){r&&r.m(i,s),z(i,n,s)},p(i,s){s&524291&&(e=i[19](i[30])!==i[0]&&i[19](i[30])!==i[1]),e?r?r.p(i,s):(r=O1(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&W(n)}}}function P1(t){let e,n,r,i,s=(t[6]==="label"||t[8]==="label")&&x1(t);return{c(){e=P("span"),s&&s.c(),E(e,"class","pip last"),E(e,"style",n=""+(t[14]+": 100%;")),_e(e,"selected",t[18](t[1])),_e(e,"in-range",t[17](t[1]))},m(l,u){z(l,e,u),s&&s.m(e,null),r||(i=[X(e,"click",function(){$t(t[21](t[1]))&&t[21](t[1]).apply(this,arguments)}),X(e,"touchend",Zr(function(){$t(t[21](t[1]))&&t[21](t[1]).apply(this,arguments)}))],r=!0)},p(l,u){t=l,t[6]==="label"||t[8]==="label"?s?s.p(t,u):(s=x1(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null),u&16384&&n!==(n=""+(t[14]+": 100%;"))&&E(e,"style",n),u&262146&&_e(e,"selected",t[18](t[1])),u&131074&&_e(e,"in-range",t[17](t[1]))},d(l){l&&W(e),s&&s.d(),r=!1,Ge(i)}}}function x1(t){let e,n=t[12](t[16](t[1]),t[20],100)+"",r,i=t[10]&&L1(t),s=t[11]&&R1(t);return{c(){e=P("span"),i&&i.c(),r=Ie(n),s&&s.c(),E(e,"class","pipVal")},m(l,u){z(l,e,u),i&&i.m(e,null),N(e,r),s&&s.m(e,null)},p(l,u){l[10]?i?i.p(l,u):(i=L1(l),i.c(),i.m(e,r)):i&&(i.d(1),i=null),u&1118210&&n!==(n=l[12](l[16](l[1]),l[20],100)+"")&&xe(r,n),l[11]?s?s.p(l,u):(s=R1(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&W(e),i&&i.d(),s&&s.d()}}}function L1(t){let e,n;return{c(){e=P("span"),n=Ie(t[10]),E(e,"class","pipVal-prefix")},m(r,i){z(r,e,i),N(e,n)},p(r,i){i&1024&&xe(n,r[10])},d(r){r&&W(e)}}}function R1(t){let e,n;return{c(){e=P("span"),n=Ie(t[11]),E(e,"class","pipVal-suffix")},m(r,i){z(r,e,i),N(e,n)},p(r,i){i&2048&&xe(n,r[11])},d(r){r&&W(e)}}}function FO(t){let e,n,r,i=(t[6]&&t[7]!==!1||t[7])&&E1(t),s=(t[6]&&t[9]!==!1||t[9])&&D1(t),l=(t[6]&&t[8]!==!1||t[8])&&P1(t);return{c(){e=P("div"),i&&i.c(),n=J(),s&&s.c(),r=J(),l&&l.c(),E(e,"class","rangePips"),_e(e,"disabled",t[5]),_e(e,"hoverable",t[4]),_e(e,"vertical",t[2]),_e(e,"reversed",t[3]),_e(e,"focus",t[13])},m(u,f){z(u,e,f),i&&i.m(e,null),N(e,n),s&&s.m(e,null),N(e,r),l&&l.m(e,null)},p(u,[f]){u[6]&&u[7]!==!1||u[7]?i?i.p(u,f):(i=E1(u),i.c(),i.m(e,n)):i&&(i.d(1),i=null),u[6]&&u[9]!==!1||u[9]?s?s.p(u,f):(s=D1(u),s.c(),s.m(e,r)):s&&(s.d(1),s=null),u[6]&&u[8]!==!1||u[8]?l?l.p(u,f):(l=P1(u),l.c(),l.m(e,null)):l&&(l.d(1),l=null),f&32&&_e(e,"disabled",u[5]),f&16&&_e(e,"hoverable",u[4]),f&4&&_e(e,"vertical",u[2]),f&8&&_e(e,"reversed",u[3]),f&8192&&_e(e,"focus",u[13])},i:pe,o:pe,d(u){u&&W(e),i&&i.d(),s&&s.d(),l&&l.d()}}}function YO(t,e,n){let r,i,s,l,u,{range:f=!1}=e,{min:d=0}=e,{max:p=100}=e,{step:h=1}=e,{values:g=[(p+d)/2]}=e,{vertical:_=!1}=e,{reversed:v=!1}=e,{hoverable:b=!0}=e,{disabled:C=!1}=e,{pipstep:y=void 0}=e,{all:O=!0}=e,{first:T=void 0}=e,{last:R=void 0}=e,{rest:I=void 0}=e,{prefix:x=""}=e,{suffix:U=""}=e,{formatter:D=(F,Z)=>F}=e,{focus:Y=void 0}=e,{orientationStart:ne=void 0}=e,{percentOf:j=void 0}=e,{moveHandle:oe=void 0}=e,{fixFloat:ce=void 0}=e;function Te(F){C||oe(void 0,F)}return t.$$set=F=>{"range"in F&&n(22,f=F.range),"min"in F&&n(0,d=F.min),"max"in F&&n(1,p=F.max),"step"in F&&n(23,h=F.step),"values"in F&&n(24,g=F.values),"vertical"in F&&n(2,_=F.vertical),"reversed"in F&&n(3,v=F.reversed),"hoverable"in F&&n(4,b=F.hoverable),"disabled"in F&&n(5,C=F.disabled),"pipstep"in F&&n(25,y=F.pipstep),"all"in F&&n(6,O=F.all),"first"in F&&n(7,T=F.first),"last"in F&&n(8,R=F.last),"rest"in F&&n(9,I=F.rest),"prefix"in F&&n(10,x=F.prefix),"suffix"in F&&n(11,U=F.suffix),"formatter"in F&&n(12,D=F.formatter),"focus"in F&&n(13,Y=F.focus),"orientationStart"in F&&n(14,ne=F.orientationStart),"percentOf"in F&&n(15,j=F.percentOf),"moveHandle"in F&&n(26,oe=F.moveHandle),"fixFloat"in F&&n(16,ce=F.fixFloat)},t.$$.update=()=>{if(t.$$.dirty&41943047){e:n(27,r=y||((p-d)/h>=(_?50:100)?(p-d)/(_?10:20):1))}if(t.$$.dirty&142606339){e:n(20,i=parseInt((p-d)/(h*r),10))}if(t.$$.dirty&142671873){e:n(19,s=function(F){return ce(d+F*h*r)})}if(t.$$.dirty&16842752){e:n(18,l=function(F){return g.some(Z=>ce(Z)===ce(F))})}if(t.$$.dirty&20971520){e:n(17,u=function(F){if(f==="min")return g[0]>F;if(f==="max")return g[0]<F;if(f)return g[0]<F&&g[1]>F})}},[d,p,_,v,b,C,O,T,R,I,x,U,D,Y,ne,j,ce,u,l,s,i,Te,f,h,g,y,oe,r]}var F1=class extends ze{constructor(e){super();Ue(this,e,YO,FO,We,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16},RO)}},Y1=F1;function GO(t){yt(t,"svelte-1wc6jll",'.rangeSlider{--slider:var(--range-slider, #d7dada);--handle-inactive:var(--range-handle-inactive, #99a2a2);--handle:var(--range-handle, #838de7);--handle-focus:var(--range-handle-focus, #4a40d4);--handle-border:var(--range-handle-border, var(--handle));--range-inactive:var(--range-range-inactive, var(--handle-inactive));--range:var(--range-range, var(--handle-focus));--float-inactive:var(--range-float-inactive, var(--handle-inactive));--float:var(--range-float, var(--handle-focus));--float-text:var(--range-float-text, white)}.rangeSlider{position:relative;border-radius:100px;height:0.5em;margin:1em;transition:opacity 0.2s ease;user-select:none}.rangeSlider *{user-select:none}.rangeSlider.pips{margin-bottom:1.8em}.rangeSlider.pip-labels{margin-bottom:2.8em}.rangeSlider.vertical{display:inline-block;border-radius:100px;width:0.5em;min-height:200px}.rangeSlider.vertical.pips{margin-right:1.8em;margin-bottom:1em}.rangeSlider.vertical.pip-labels{margin-right:2.8em;margin-bottom:1em}.rangeSlider .rangeHandle{position:absolute;display:block;height:1.4em;width:1.4em;top:0.25em;bottom:auto;transform:translateY(-50%) translateX(-50%);outline-offset:2px;outline:2px solid transparent;border-radius:100px;z-index:2}.rangeSlider.reversed .rangeHandle{transform:translateY(-50%) translateX(50%)}.rangeSlider.vertical .rangeHandle{left:0.25em;top:auto;transform:translateY(50%) translateX(-50%)}.rangeSlider.vertical.reversed .rangeHandle{transform:translateY(-50%) translateX(-50%)}.rangeSlider .rangeNub,.rangeSlider .rangeHandle:before{position:absolute;left:0;top:0;display:block;border-radius:10em;height:100%;width:100%;transition:box-shadow 0.2s ease}.rangeSlider .rangeHandle:before{content:"";left:1px;top:1px;bottom:1px;right:1px;height:auto;width:auto;box-shadow:0 0 0 0px var(--handle-border);opacity:0}.rangeSlider.hoverable:not(.disabled) .rangeHandle:hover:before{box-shadow:0 0 0 8px var(--handle-border);opacity:0.2}.rangeSlider.hoverable:not(.disabled) .rangeHandle.press:before,.rangeSlider.hoverable:not(.disabled) .rangeHandle.press:hover:before{box-shadow:0 0 0 12px var(--handle-border);opacity:0.4}.rangeSlider.range .rangeNub{border-radius:10em 10em 10em 1.6em}.rangeSlider.range.min .rangeNub{border-radius:10em  1.6em 10em 10em}.rangeSlider.range .rangeHandle:nth-of-type(1) .rangeNub{transform:rotate(-135deg)}.rangeSlider.range .rangeHandle:nth-of-type(2) .rangeNub{transform:rotate(45deg)}.rangeSlider.range.reversed .rangeHandle:nth-of-type(1) .rangeNub{transform:rotate(45deg)}.rangeSlider.range.reversed .rangeHandle:nth-of-type(2) .rangeNub{transform:rotate(-135deg)}.rangeSlider.range.vertical .rangeHandle:nth-of-type(1) .rangeNub{transform:rotate(135deg)}.rangeSlider.range.vertical .rangeHandle:nth-of-type(2) .rangeNub{transform:rotate(-45deg)}.rangeSlider.range.vertical.reversed .rangeHandle:nth-of-type(1) .rangeNub{transform:rotate(-45deg)}.rangeSlider.range.vertical.reversed .rangeHandle:nth-of-type(2) .rangeNub{transform:rotate(135deg)}.rangeSlider .rangeFloat{display:block;position:absolute;left:50%;top:-0.5em;transform:translate(-50%, -100%);font-size:1em;text-align:center;opacity:0;pointer-events:none;white-space:nowrap;transition:all 0.2s ease;font-size:0.9em;padding:0.2em 0.4em;border-radius:0.2em}.rangeSlider .rangeHandle.active .rangeFloat,.rangeSlider.hoverable .rangeHandle:hover .rangeFloat{opacity:1;top:-0.2em;transform:translate(-50%, -100%)}.rangeSlider .rangeHandle.active:focus-visible .rangeFloat{top:-0.35em}.rangeSlider .rangeBar{position:absolute;display:block;transition:background 0.2s ease;border-radius:1em;height:0.5em;top:0;user-select:none;z-index:1}.rangeSlider.vertical .rangeBar{width:0.5em;height:auto}.rangeSlider{background-color:#d7dada;background-color:var(--slider)}.rangeSlider .rangeBar{background-color:#99a2a2;background-color:var(--range-inactive)}.rangeSlider.focus .rangeBar{background-color:#838de7;background-color:var(--range)}.rangeSlider .rangeNub{background-color:#99a2a2;background-color:var(--handle-inactive)}.rangeSlider.focus .rangeNub{background-color:#838de7;background-color:var(--handle)}.rangeSlider .rangeHandle.active .rangeNub{background-color:#4a40d4;background-color:var(--handle-focus)}.rangeSlider .rangeFloat{color:white;color:var(--float-text);background-color:#99a2a2;background-color:var(--float-inactive)}.rangeSlider.focus .rangeFloat{background-color:#4a40d4;background-color:var(--float)}.rangeSlider.disabled{opacity:0.5}.rangeSlider.disabled .rangeNub{background-color:#d7dada;background-color:var(--slider)}.rangeSlider .rangeHandle:focus{outline:none}.rangeSlider .rangeHandle:focus-visible{outline:2px solid #334}@supports not selector(:focus-visible){.rangeSlider .rangeHandle:focus{outline:1px solid #334;outline-offset:1px}}')}function G1(t,e,n){let r=t.slice();return r[64]=e[n],r[66]=n,r}function W1(t){let e,n=t[21](t[64],t[66],t[23](t[64]))+"",r,i=t[18]&&B1(t),s=t[19]&&z1(t);return{c(){e=P("span"),i&&i.c(),r=Ie(n),s&&s.c(),E(e,"class","rangeFloat")},m(l,u){z(l,e,u),i&&i.m(e,null),N(e,r),s&&s.m(e,null)},p(l,u){l[18]?i?i.p(l,u):(i=B1(l),i.c(),i.m(e,r)):i&&(i.d(1),i=null),u[0]&10485761&&n!==(n=l[21](l[64],l[66],l[23](l[64]))+"")&&xe(r,n),l[19]?s?s.p(l,u):(s=z1(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&W(e),i&&i.d(),s&&s.d()}}}function B1(t){let e,n;return{c(){e=P("span"),n=Ie(t[18]),E(e,"class","rangeFloat-prefix")},m(r,i){z(r,e,i),N(e,n)},p(r,i){i[0]&262144&&xe(n,r[18])},d(r){r&&W(e)}}}function z1(t){let e,n;return{c(){e=P("span"),n=Ie(t[19]),E(e,"class","rangeFloat-suffix")},m(r,i){z(r,e,i),N(e,n)},p(r,i){i[0]&524288&&xe(n,r[19])},d(r){r&&W(e)}}}function H1(t){let e,n,r,i,s,l,u,f,d,p,h,g,_,v=t[7]&&W1(t);return{c(){e=P("span"),n=P("span"),r=J(),v&&v.c(),E(n,"class","rangeNub"),E(e,"role","slider"),E(e,"class","rangeHandle"),E(e,"data-handle",i=t[66]),E(e,"style",s=""+(t[28]+": "+t[29][t[66]]+"%; z-index: "+(t[26]===t[66]?3:2)+";")),E(e,"aria-valuemin",l=t[2]===!0&&t[66]===1?t[0][0]:t[3]),E(e,"aria-valuemax",u=t[2]===!0&&t[66]===0?t[0][1]:t[4]),E(e,"aria-valuenow",f=t[64]),E(e,"aria-valuetext",d=""+(t[18]+t[21](t[64],t[66],t[23](t[64]))+t[19])),E(e,"aria-orientation",p=t[6]?"vertical":"horizontal"),E(e,"aria-disabled",t[10]),E(e,"disabled",t[10]),E(e,"tabindex",h=t[10]?-1:0),_e(e,"active",t[24]&&t[26]===t[66]),_e(e,"press",t[25]&&t[26]===t[66])},m(b,C){z(b,e,C),N(e,n),N(e,r),v&&v.m(e,null),g||(_=[X(e,"blur",t[34]),X(e,"focus",t[35]),X(e,"keydown",t[36])],g=!0)},p(b,C){b[7]?v?v.p(b,C):(v=W1(b),v.c(),v.m(e,null)):v&&(v.d(1),v=null),C[0]&872415232&&s!==(s=""+(b[28]+": "+b[29][b[66]]+"%; z-index: "+(b[26]===b[66]?3:2)+";"))&&E(e,"style",s),C[0]&13&&l!==(l=b[2]===!0&&b[66]===1?b[0][0]:b[3])&&E(e,"aria-valuemin",l),C[0]&21&&u!==(u=b[2]===!0&&b[66]===0?b[0][1]:b[4])&&E(e,"aria-valuemax",u),C[0]&1&&f!==(f=b[64])&&E(e,"aria-valuenow",f),C[0]&11272193&&d!==(d=""+(b[18]+b[21](b[64],b[66],b[23](b[64]))+b[19]))&&E(e,"aria-valuetext",d),C[0]&64&&p!==(p=b[6]?"vertical":"horizontal")&&E(e,"aria-orientation",p),C[0]&1024&&E(e,"aria-disabled",b[10]),C[0]&1024&&E(e,"disabled",b[10]),C[0]&1024&&h!==(h=b[10]?-1:0)&&E(e,"tabindex",h),C[0]&83886080&&_e(e,"active",b[24]&&b[26]===b[66]),C[0]&100663296&&_e(e,"press",b[25]&&b[26]===b[66])},d(b){b&&W(e),v&&v.d(),g=!1,Ge(_)}}}function U1(t){let e,n;return{c(){e=P("span"),E(e,"class","rangeBar"),E(e,"style",n=""+(t[28]+": "+t[32](t[29])+"%; "+t[27]+": "+t[33](t[29])+"%;"))},m(r,i){z(r,e,i)},p(r,i){i[0]&939524096&&n!==(n=""+(r[28]+": "+r[32](r[29])+"%; "+r[27]+": "+r[33](r[29])+"%;"))&&E(e,"style",n)},d(r){r&&W(e)}}}function j1(t){let e,n;return e=new Y1({props:{values:t[0],min:t[3],max:t[4],step:t[5],range:t[2],vertical:t[6],reversed:t[8],orientationStart:t[28],hoverable:t[9],disabled:t[10],all:t[13],first:t[14],last:t[15],rest:t[16],pipstep:t[12],prefix:t[18],suffix:t[19],formatter:t[20],focus:t[24],percentOf:t[23],moveHandle:t[31],fixFloat:t[30]}}),{c(){gt(e.$$.fragment)},m(r,i){dt(e,r,i),n=!0},p(r,i){let s={};i[0]&1&&(s.values=r[0]),i[0]&8&&(s.min=r[3]),i[0]&16&&(s.max=r[4]),i[0]&32&&(s.step=r[5]),i[0]&4&&(s.range=r[2]),i[0]&64&&(s.vertical=r[6]),i[0]&256&&(s.reversed=r[8]),i[0]&268435456&&(s.orientationStart=r[28]),i[0]&512&&(s.hoverable=r[9]),i[0]&1024&&(s.disabled=r[10]),i[0]&8192&&(s.all=r[13]),i[0]&16384&&(s.first=r[14]),i[0]&32768&&(s.last=r[15]),i[0]&65536&&(s.rest=r[16]),i[0]&4096&&(s.pipstep=r[12]),i[0]&262144&&(s.prefix=r[18]),i[0]&524288&&(s.suffix=r[19]),i[0]&1048576&&(s.formatter=r[20]),i[0]&16777216&&(s.focus=r[24]),i[0]&8388608&&(s.percentOf=r[23]),e.$set(s)},i(r){n||(Q(e.$$.fragment,r),n=!0)},o(r){ue(e.$$.fragment,r),n=!1},d(r){ut(e,r)}}}function WO(t){let e,n,r,i,s,l,u=t[0],f=[];for(let h=0;h<u.length;h+=1)f[h]=H1(G1(t,u,h));let d=t[2]&&U1(t),p=t[11]&&j1(t);return{c(){e=P("div");for(let h=0;h<f.length;h+=1)f[h].c();n=J(),d&&d.c(),r=J(),p&&p.c(),E(e,"id",t[17]),E(e,"class","rangeSlider"),_e(e,"range",t[2]),_e(e,"disabled",t[10]),_e(e,"hoverable",t[9]),_e(e,"vertical",t[6]),_e(e,"reversed",t[8]),_e(e,"focus",t[24]),_e(e,"min",t[2]==="min"),_e(e,"max",t[2]==="max"),_e(e,"pips",t[11]),_e(e,"pip-labels",t[13]==="label"||t[14]==="label"||t[15]==="label"||t[16]==="label")},m(h,g){z(h,e,g);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(e,null);N(e,n),d&&d.m(e,null),N(e,r),p&&p.m(e,null),t[50](e),i=!0,s||(l=[X(window,"mousedown",t[39]),X(window,"touchstart",t[39]),X(window,"mousemove",t[40]),X(window,"touchmove",t[40]),X(window,"mouseup",t[41]),X(window,"touchend",t[42]),X(window,"keydown",t[43]),X(e,"mousedown",t[37]),X(e,"mouseup",t[38]),X(e,"touchstart",Zr(t[37])),X(e,"touchend",Zr(t[38]))],s=!0)},p(h,g){if(g[0]&934020317|g[1]&56){u=h[0];let _;for(_=0;_<u.length;_+=1){let v=G1(h,u,_);f[_]?f[_].p(v,g):(f[_]=H1(v),f[_].c(),f[_].m(e,n))}for(;_<f.length;_+=1)f[_].d(1);f.length=u.length}h[2]?d?d.p(h,g):(d=U1(h),d.c(),d.m(e,r)):d&&(d.d(1),d=null),h[11]?p?(p.p(h,g),g[0]&2048&&Q(p,1)):(p=j1(h),p.c(),Q(p,1),p.m(e,null)):p&&(et(),ue(p,1,1,()=>{p=null}),tt()),(!i||g[0]&131072)&&E(e,"id",h[17]),(!i||g[0]&4)&&_e(e,"range",h[2]),(!i||g[0]&1024)&&_e(e,"disabled",h[10]),(!i||g[0]&512)&&_e(e,"hoverable",h[9]),(!i||g[0]&64)&&_e(e,"vertical",h[6]),(!i||g[0]&256)&&_e(e,"reversed",h[8]),(!i||g[0]&16777216)&&_e(e,"focus",h[24]),(!i||g[0]&4)&&_e(e,"min",h[2]==="min"),(!i||g[0]&4)&&_e(e,"max",h[2]==="max"),(!i||g[0]&2048)&&_e(e,"pips",h[11]),(!i||g[0]&122880)&&_e(e,"pip-labels",h[13]==="label"||h[14]==="label"||h[15]==="label"||h[16]==="label")},i(h){i||(Q(p),i=!0)},o(h){ue(p),i=!1},d(h){h&&W(e),Nt(f,h),d&&d.d(),p&&p.d(),t[50](null),s=!1,Ge(l)}}}function q1(t){if(!t)return-1;for(var e=0;t=t.previousElementSibling;)e++;return e}function Ud(t){return t.type.includes("touch")?t.touches[0]:t}function BO(t,e,n){let r,i,s,l,u,f,d=pe,p=()=>(d(),d=pu(mt,q=>n(29,f=q)),mt);t.$$.on_destroy.push(()=>d());let{slider:h=void 0}=e,{range:g=!1}=e,{pushy:_=!1}=e,{min:v=0}=e,{max:b=100}=e,{step:C=1}=e,{values:y=[(b+v)/2]}=e,{vertical:O=!1}=e,{float:T=!1}=e,{reversed:R=!1}=e,{hoverable:I=!0}=e,{disabled:x=!1}=e,{pips:U=!1}=e,{pipstep:D=void 0}=e,{all:Y=void 0}=e,{first:ne=void 0}=e,{last:j=void 0}=e,{rest:oe=void 0}=e,{id:ce=void 0}=e,{prefix:Te=""}=e,{suffix:F=""}=e,{formatter:Z=(q,Ce,pt)=>q}=e,{handleFormatter:G=Z}=e,{precision:te=2}=e,{springValues:ae={stiffness:.15,damping:.4}}=e,fe=Yl(),ee=0,se=!1,ye=!1,de=!1,be=!1,Ve=y.length-1,xt,Lt,mt,bt=q=>parseFloat(q.toFixed(te));function ct(q){let Ce=h.querySelectorAll(".handle"),pt=Array.prototype.includes.call(Ce,q),vt=Array.prototype.some.call(Ce,Xn=>Xn.contains(q));return pt||vt}function _t(q){return g==="min"||g==="max"?q.slice(0,1):g?q.slice(0,2):q}function Zt(){return h.getBoundingClientRect()}function oi(q){let Ce=Zt(),pt=0,vt=0,Xn=0;O?(pt=q.clientY-Ce.top,vt=pt/Ce.height*100,vt=R?vt:100-vt):(pt=q.clientX-Ce.left,vt=pt/Ce.width*100,vt=R?100-vt:vt),Xn=(b-v)/100*vt+v;let si;return g===!0&&y[0]===y[1]?Xn>y[1]?1:0:(si=y.indexOf([...y].sort((Zo,Xo)=>Math.abs(Xn-Zo)-Math.abs(Xn-Xo))[0]),si)}function nt(q){let Ce=Zt(),pt=0,vt=0,Xn=0;O?(pt=q.clientY-Ce.top,vt=pt/Ce.height*100,vt=R?vt:100-vt):(pt=q.clientX-Ce.left,vt=pt/Ce.width*100,vt=R?100-vt:vt),Xn=(b-v)/100*vt+v,Re(Ve,Xn)}function Re(q,Ce){return Ce=s(Ce),typeof q=="undefined"&&(q=Ve),g&&(q===0&&Ce>y[1]?_?n(0,y[1]=Ce,y):Ce=y[1]:q===1&&Ce<y[0]&&(_?n(0,y[0]=Ce,y):Ce=y[0])),y[q]!==Ce&&n(0,y[q]=Ce,y),Lt!==Ce&&(so(),Lt=Ce),Ce}function Bn(q){return g==="min"?0:q[0]}function Zn(q){return g==="max"?0:g==="min"?100-q[0]:100-q[1]}function dn(q){be&&(n(24,se=!1),ye=!1,n(25,de=!1))}function pn(q){x||(n(26,Ve=q1(q.target)),n(24,se=!0))}function Pn(q){if(!x){let Ce=q1(q.target),pt=q.ctrlKey||q.metaKey||q.shiftKey?C*10:C,vt=!1;switch(q.key){case"PageDown":pt*=10;case"ArrowRight":case"ArrowUp":Re(Ce,y[Ce]+pt),vt=!0;break;case"PageUp":pt*=10;case"ArrowLeft":case"ArrowDown":Re(Ce,y[Ce]-pt),vt=!0;break;case"Home":Re(Ce,v),vt=!0;break;case"End":Re(Ce,b),vt=!0;break}vt&&(q.preventDefault(),q.stopPropagation())}}function Yt(q){if(!x){let Ce=q.target,pt=Ud(q);n(24,se=!0),ye=!0,n(25,de=!0),n(26,Ve=oi(pt)),xt=Lt=s(y[Ve]),Ii(),q.type==="touchstart"&&!Ce.matches(".pipVal")&&nt(pt)}}function xn(q){q.type==="touchend"&&Ur(),n(25,de=!1)}function bn(q){be=!1,se&&q.target!==h&&!h.contains(q.target)&&n(24,se=!1)}function hn(q){x||ye&&nt(Ud(q))}function Ln(q){if(!x){let Ce=q.target;ye&&((Ce===h||h.contains(Ce))&&(n(24,se=!0),!ct(Ce)&&!Ce.matches(".pipVal")&&nt(Ud(q))),Ur())}ye=!1,n(25,de=!1)}function zn(q){ye=!1,n(25,de=!1)}function Hn(q){x||(q.target===h||h.contains(q.target))&&(be=!0)}function Ii(){!x&&fe("start",{activeHandle:Ve,value:xt,values:y.map(q=>s(q))})}function Ur(){!x&&fe("stop",{activeHandle:Ve,startValue:xt,value:y[Ve],values:y.map(q=>s(q))})}function so(){!x&&fe("change",{activeHandle:Ve,startValue:xt,previousValue:typeof Lt=="undefined"?xt:Lt,value:y[Ve],values:y.map(q=>s(q))})}function lo(q){Le[q?"unshift":"push"](()=>{h=q,n(1,h)})}return t.$$set=q=>{"slider"in q&&n(1,h=q.slider),"range"in q&&n(2,g=q.range),"pushy"in q&&n(44,_=q.pushy),"min"in q&&n(3,v=q.min),"max"in q&&n(4,b=q.max),"step"in q&&n(5,C=q.step),"values"in q&&n(0,y=q.values),"vertical"in q&&n(6,O=q.vertical),"float"in q&&n(7,T=q.float),"reversed"in q&&n(8,R=q.reversed),"hoverable"in q&&n(9,I=q.hoverable),"disabled"in q&&n(10,x=q.disabled),"pips"in q&&n(11,U=q.pips),"pipstep"in q&&n(12,D=q.pipstep),"all"in q&&n(13,Y=q.all),"first"in q&&n(14,ne=q.first),"last"in q&&n(15,j=q.last),"rest"in q&&n(16,oe=q.rest),"id"in q&&n(17,ce=q.id),"prefix"in q&&n(18,Te=q.prefix),"suffix"in q&&n(19,F=q.suffix),"formatter"in q&&n(20,Z=q.formatter),"handleFormatter"in q&&n(21,G=q.handleFormatter),"precision"in q&&n(45,te=q.precision),"springValues"in q&&n(46,ae=q.springValues)},t.$$.update=()=>{if(t.$$.dirty[0]&24){e:n(49,i=function(q){return q<=v?v:q>=b?b:q})}if(t.$$.dirty[0]&56|t.$$.dirty[1]&262144){e:n(48,s=function(q){if(q<=v)return bt(v);if(q>=b)return bt(b);let Ce=(q-v)%C,pt=q-Ce;return Math.abs(Ce)*2>=C&&(pt+=Ce>0?C:-C),pt=i(pt),bt(pt)})}if(t.$$.dirty[0]&24){e:n(23,r=function(q){let Ce=(q-v)/(b-v)*100;return isNaN(Ce)||Ce<=0?0:Ce>=100?100:bt(Ce)})}if(t.$$.dirty[0]&12582937|t.$$.dirty[1]&229376){e:Array.isArray(y)||(n(0,y=[(b+v)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),n(0,y=_t(y.map(q=>s(q)))),ee!==y.length?p(n(22,mt=Ru(y.map(q=>r(q)),ae))):mt.set(y.map(q=>r(q))),n(47,ee=y.length)}if(t.$$.dirty[0]&320){e:n(28,l=O?R?"top":"bottom":R?"right":"left")}if(t.$$.dirty[0]&320){e:n(27,u=O?R?"bottom":"top":R?"left":"right")}},[y,h,g,v,b,C,O,T,R,I,x,U,D,Y,ne,j,oe,ce,Te,F,Z,G,mt,r,se,de,Ve,u,l,f,bt,Re,Bn,Zn,dn,pn,Pn,Yt,xn,bn,hn,Ln,zn,Hn,_,te,ae,ee,s,i,lo]}var V1=class extends ze{constructor(e){super();Ue(this,e,BO,WO,We,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},GO,[-1,-1,-1])}},Vl=V1;var K1=Ye(require("obsidian"));function zO(t){yt(t,"svelte-1665e1",`.settingsContainerOpen.svelte-1665e1{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:5px;border-radius:10px;padding:10px;width:auto;margin-bottom:10px;box-shadow:-5px 5px 3px 3px #161616}.settingsWrapper.svelte-1665e1{display:grid;gap:10px;grid-template-columns:1fr auto}label.svelte-1665e1{display:flex;align-items:center;height:30px;min-width:80px}.rangeSettings.svelte-1665e1{width:300px}.setting.svelte-1665e1{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:5px}.copyButton.svelte-1665e1{filter:saturate(0)
    }`)}function Z1(t){var fe,ee,se,ye;let e,n,r,i,s,l,u,f,d=["day","week","schedule"].includes(t[0].type),p,h=["day","week","schedule"].includes(t[0].type),g,_=["day","week","schedule"].includes(t[0].type),v,b=["week","schedule"].includes(t[0].type),C,y=["day","week","schedule","month","web"].includes(t[0].type),O,T,R,I=["web"].includes(t[0].type),x,U=["web"].includes(t[0].type),D,Y,ne,j=d&&X1(t),oe=h&&Q1(t),ce=_&&J1(t),Te=b&&$1(t),F=y&&e0(t),Z=t[5]!==void 0&&(((fe=t[6])==null?void 0:fe.length)===0||((ee=t[5])==null?void 0:ee.length)>0)&&t0(t),G=t[6]!==void 0&&(((se=t[5])==null?void 0:se.length)===0||((ye=t[6])==null?void 0:ye.length)>0)&&n0(t),te=I&&r0(t),ae=U&&i0(t);return{c(){e=P("div"),n=P("label"),n.textContent="Copy to Codeblock",r=J(),i=P("div"),s=P("button"),s.textContent="\u{1F4CB}",l=J(),u=P("button"),u.textContent="x",f=J(),j&&j.c(),p=J(),oe&&oe.c(),g=J(),ce&&ce.c(),v=J(),Te&&Te.c(),C=J(),F&&F.c(),O=J(),Z&&Z.c(),T=J(),G&&G.c(),R=J(),te&&te.c(),x=J(),ae&&ae.c(),E(n,"for","hourRange"),E(n,"class","svelte-1665e1"),E(s,"class","copyButton svelte-1665e1"),E(i,"class","setting svelte-1665e1"),E(e,"class","settingsWrapper svelte-1665e1")},m(de,be){z(de,e,be),N(e,n),N(e,r),N(e,i),N(i,s),N(i,l),N(i,u),N(e,f),j&&j.m(e,null),N(e,p),oe&&oe.m(e,null),N(e,g),ce&&ce.m(e,null),N(e,v),Te&&Te.m(e,null),N(e,C),F&&F.m(e,null),N(e,O),Z&&Z.m(e,null),N(e,T),G&&G.m(e,null),N(e,R),te&&te.m(e,null),N(e,x),ae&&ae.m(e,null),D=!0,Y||(ne=[X(s,"click",t[12]),X(u,"click",t[13])],Y=!0)},p(de,be){var Ve,xt,Lt,mt;be&1&&(d=["day","week","schedule"].includes(de[0].type)),d?j?(j.p(de,be),be&1&&Q(j,1)):(j=X1(de),j.c(),Q(j,1),j.m(e,p)):j&&(et(),ue(j,1,1,()=>{j=null}),tt()),be&1&&(h=["day","week","schedule"].includes(de[0].type)),h?oe?(oe.p(de,be),be&1&&Q(oe,1)):(oe=Q1(de),oe.c(),Q(oe,1),oe.m(e,g)):oe&&(et(),ue(oe,1,1,()=>{oe=null}),tt()),be&1&&(_=["day","week","schedule"].includes(de[0].type)),_?ce?(ce.p(de,be),be&1&&Q(ce,1)):(ce=J1(de),ce.c(),Q(ce,1),ce.m(e,v)):ce&&(et(),ue(ce,1,1,()=>{ce=null}),tt()),be&1&&(b=["week","schedule"].includes(de[0].type)),b?Te?(Te.p(de,be),be&1&&Q(Te,1)):(Te=$1(de),Te.c(),Q(Te,1),Te.m(e,C)):Te&&(et(),ue(Te,1,1,()=>{Te=null}),tt()),be&1&&(y=["day","week","schedule","month","web"].includes(de[0].type)),y?F?(F.p(de,be),be&1&&Q(F,1)):(F=e0(de),F.c(),Q(F,1),F.m(e,O)):F&&(et(),ue(F,1,1,()=>{F=null}),tt()),de[5]!==void 0&&(((Ve=de[6])==null?void 0:Ve.length)===0||((xt=de[5])==null?void 0:xt.length)>0)?Z?(Z.p(de,be),be&96&&Q(Z,1)):(Z=t0(de),Z.c(),Q(Z,1),Z.m(e,T)):Z&&(et(),ue(Z,1,1,()=>{Z=null}),tt()),de[6]!==void 0&&(((Lt=de[5])==null?void 0:Lt.length)===0||((mt=de[6])==null?void 0:mt.length)>0)?G?(G.p(de,be),be&96&&Q(G,1)):(G=n0(de),G.c(),Q(G,1),G.m(e,R)):G&&(et(),ue(G,1,1,()=>{G=null}),tt()),be&1&&(I=["web"].includes(de[0].type)),I?te?te.p(de,be):(te=r0(de),te.c(),te.m(e,x)):te&&(te.d(1),te=null),be&1&&(U=["web"].includes(de[0].type)),U?ae?ae.p(de,be):(ae=i0(de),ae.c(),ae.m(e,null)):ae&&(ae.d(1),ae=null)},i(de){D||(Q(j),Q(oe),Q(ce),Q(Te),Q(F),Q(Z),Q(G),D=!0)},o(de){ue(j),ue(oe),ue(ce),ue(Te),ue(F),ue(Z),ue(G),D=!1},d(de){de&&W(e),j&&j.d(),oe&&oe.d(),ce&&ce.d(),Te&&Te.d(),F&&F.d(),Z&&Z.d(),G&&G.d(),te&&te.d(),ae&&ae.d(),Y=!1,Ge(ne)}}}function X1(t){let e,n,r,i,s,l;function u(d){t[15](d)}let f={};return t[3]!==void 0&&(f.checked=t[3]),i=new Hd({props:f}),Le.push(()=>ot(i,"checked",u)),{c(){e=P("label"),e.textContent="Navigation",n=J(),r=P("div"),gt(i.$$.fragment),E(e,"for","navigation"),E(e,"class","svelte-1665e1"),E(r,"class","setting svelte-1665e1")},m(d,p){z(d,e,p),z(d,n,p),z(d,r,p),dt(i,r,null),l=!0},p(d,p){let h={};!s&&p&8&&(s=!0,h.checked=d[3],it(()=>s=!1)),i.$set(h)},i(d){l||(Q(i.$$.fragment,d),l=!0)},o(d){ue(i.$$.fragment,d),l=!1},d(d){d&&W(e),d&&W(n),d&&W(r),ut(i)}}}function Q1(t){let e,n,r,i,s,l;function u(d){t[16](d)}let f={};return t[10]!==void 0&&(f.checked=t[10]),i=new Hd({props:f}),Le.push(()=>ot(i,"checked",u)),{c(){e=P("label"),e.textContent="Show All Day",n=J(),r=P("div"),gt(i.$$.fragment),E(e,"for","allDay"),E(e,"class","svelte-1665e1"),E(r,"class","setting svelte-1665e1")},m(d,p){z(d,e,p),z(d,n,p),z(d,r,p),dt(i,r,null),l=!0},p(d,p){let h={};!s&&p&1024&&(s=!0,h.checked=d[10],it(()=>s=!1)),i.$set(h)},i(d){l||(Q(i.$$.fragment,d),l=!0)},o(d){ue(i.$$.fragment,d),l=!1},d(d){d&&W(e),d&&W(n),d&&W(r),ut(i)}}}function J1(t){let e,n,r,i,s,l;function u(d){t[17](d)}let f={pipstep:4,range:!0,min:0,max:24,step:1,all:"label",pips:!0,float:!0};return t[2]!==void 0&&(f.values=t[2]),i=new Vl({props:f}),Le.push(()=>ot(i,"values",u)),{c(){e=P("label"),e.textContent="Hour Range",n=J(),r=P("div"),gt(i.$$.fragment),E(e,"for","hourRange"),E(e,"class","svelte-1665e1"),E(r,"class","setting rangeSettings svelte-1665e1")},m(d,p){z(d,e,p),z(d,n,p),z(d,r,p),dt(i,r,null),l=!0},p(d,p){let h={};!s&&p&4&&(s=!0,h.values=d[2],it(()=>s=!1)),i.$set(h)},i(d){l||(Q(i.$$.fragment,d),l=!0)},o(d){ue(i.$$.fragment,d),l=!1},d(d){d&&W(e),d&&W(n),d&&W(r),ut(i)}}}function $1(t){let e,n,r,i,s,l;function u(d){t[18](d)}let f={pipstep:5,min:0,max:15,step:1,all:"label",pips:!0,float:!0};return t[4]!==void 0&&(f.values=t[4]),i=new Vl({props:f}),Le.push(()=>ot(i,"values",u)),{c(){e=P("label"),e.textContent="Timespan",n=J(),r=P("div"),gt(i.$$.fragment),E(e,"for","timespan"),E(e,"class","svelte-1665e1"),E(r,"class","setting rangeSettings svelte-1665e1")},m(d,p){z(d,e,p),z(d,n,p),z(d,r,p),dt(i,r,null),l=!0},p(d,p){let h={};!s&&p&16&&(s=!0,h.values=d[4],it(()=>s=!1)),i.$set(h)},i(d){l||(Q(i.$$.fragment,d),l=!0)},o(d){ue(i.$$.fragment,d),l=!1},d(d){d&&W(e),d&&W(n),d&&W(r),ut(i)}}}function e0(t){let e,n,r,i,s,l;function u(d){t[19](d)}let f={pipstep:5,min:-15,max:15,step:1,all:"label",pips:!0,float:!0};return t[9]!==void 0&&(f.values=t[9]),i=new Vl({props:f}),Le.push(()=>ot(i,"values",u)),{c(){e=P("label"),e.textContent="DayOffset",n=J(),r=P("div"),gt(i.$$.fragment),E(e,"for","dayOffset"),E(e,"class","svelte-1665e1"),E(r,"class","setting rangeSettings svelte-1665e1")},m(d,p){z(d,e,p),z(d,n,p),z(d,r,p),dt(i,r,null),l=!0},p(d,p){let h={};!s&&p&512&&(s=!0,h.values=d[9],it(()=>s=!1)),i.$set(h)},i(d){l||(Q(i.$$.fragment,d),l=!0)},o(d){ue(i.$$.fragment,d),l=!1},d(d){d&&W(e),d&&W(n),d&&W(r),ut(i)}}}function t0(t){let e,n,r,i,s,l;function u(d){t[20](d)}let f={options:[...t[11],...Nl]};return t[5]!==void 0&&(f.selected=t[5]),i=new Gs({props:f}),Le.push(()=>ot(i,"selected",u)),{c(){e=P("label"),e.textContent="Include",n=J(),r=P("div"),gt(i.$$.fragment),E(e,"for","include"),E(e,"class","svelte-1665e1"),E(r,"class","setting svelte-1665e1")},m(d,p){z(d,e,p),z(d,n,p),z(d,r,p),dt(i,r,null),l=!0},p(d,p){let h={};p&2048&&(h.options=[...d[11],...Nl]),!s&&p&32&&(s=!0,h.selected=d[5],it(()=>s=!1)),i.$set(h)},i(d){l||(Q(i.$$.fragment,d),l=!0)},o(d){ue(i.$$.fragment,d),l=!1},d(d){d&&W(e),d&&W(n),d&&W(r),ut(i)}}}function n0(t){let e,n,r,i,s,l;function u(d){t[21](d)}let f={options:[...t[11],...Nl]};return t[6]!==void 0&&(f.selected=t[6]),i=new Gs({props:f}),Le.push(()=>ot(i,"selected",u)),{c(){e=P("label"),e.textContent="Exclude",n=J(),r=P("div"),gt(i.$$.fragment),E(e,"for","exclude"),E(e,"class","svelte-1665e1"),E(r,"class","setting svelte-1665e1")},m(d,p){z(d,e,p),z(d,n,p),z(d,r,p),dt(i,r,null),l=!0},p(d,p){let h={};p&2048&&(h.options=[...d[11],...Nl]),!s&&p&64&&(s=!0,h.selected=d[6],it(()=>s=!1)),i.$set(h)},i(d){l||(Q(i.$$.fragment,d),l=!0)},o(d){ue(i.$$.fragment,d),l=!1},d(d){d&&W(e),d&&W(n),d&&W(r),ut(i)}}}function r0(t){let e,n,r,i,s,l,u,f,d;return{c(){e=P("label"),e.textContent="Default view",n=J(),r=P("select"),i=P("option"),i.textContent="Day",s=P("option"),s.textContent="Week",l=P("option"),l.textContent="Month",u=P("option"),u.textContent="Agenda",E(e,"for","defaultView<"),E(e,"class","svelte-1665e1"),i.__value="day",i.value=i.__value,s.__value="week",s.value=s.__value,l.__value="month",l.value=l.__value,u.__value="agenda",u.value=u.__value,E(r,"name","view"),t[7]===void 0&&Sn(()=>t[22].call(r))},m(p,h){z(p,e,h),z(p,n,h),z(p,r,h),N(r,i),N(r,s),N(r,l),N(r,u),Jr(r,t[7],!0),f||(d=X(r,"change",t[22]),f=!0)},p(p,h){h&128&&Jr(r,p[7])},d(p){p&&W(e),p&&W(n),p&&W(r),f=!1,d()}}}function i0(t){let e,n,r,i,s,l,u,f;return{c(){e=P("label"),e.textContent="Color theme",n=J(),r=P("select"),i=P("option"),i.textContent="Auto",s=P("option"),s.textContent="Light",l=P("option"),l.textContent="Dark",E(e,"for","ColorTheme"),E(e,"class","svelte-1665e1"),i.__value="auto",i.value=i.__value,s.__value="light",s.value=s.__value,l.__value="dark",l.value=l.__value,E(r,"name","theme"),t[8]===void 0&&Sn(()=>t[23].call(r))},m(d,p){z(d,e,p),z(d,n,p),z(d,r,p),N(r,i),N(r,s),N(r,l),Jr(r,t[8],!0),u||(f=X(r,"change",t[23]),u=!0)},p(d,p){p&256&&Jr(r,d[8])},d(d){d&&W(e),d&&W(n),d&&W(r),u=!1,f()}}}function HO(t){let e,n,r,i=t[1]&&Z1(t);return{c(){e=P("div"),i&&i.c(),E(e,"class",n=""+(fn(t[1]?"settingsContainerOpen":"")+" svelte-1665e1"))},m(s,l){z(s,e,l),i&&i.m(e,null),r=!0},p(s,[l]){s[1]?i?(i.p(s,l),l&2&&Q(i,1)):(i=Z1(s),i.c(),Q(i,1),i.m(e,null)):i&&(et(),ue(i,1,1,()=>{i=null}),tt()),(!r||l&2&&n!==(n=""+(fn(s[1]?"settingsContainerOpen":"")+" svelte-1665e1")))&&E(e,"class",n)},i(s){r||(Q(i),r=!0)},o(s){ue(i),r=!1},d(s){s&&W(e),i&&i.d()}}}function UO(t,e,n){let{codeBlockOptions:r}=e,{showSettings:i=!1}=e,s=[],l=me.getInstance();Io(()=>Dt(void 0,void 0,void 0,function*(){n(11,s=yield yi()),n(11,s=s.map(j=>j.summary))}));let u=r.hourRange,f=r.navigation,d=[r.timespan],p=r.include,h=r.exclude,g=r.view,_=r.theme,v=[r.dayOffset],b=r.showAllDay,C=()=>{let j=l.settings.viewSettings[r.type];delete j.width,delete j.height,j.type==="day"&&delete j.timespan;let ce=`\`\`\`gEvent
${(0,K1.stringifyYaml)(l.settings.viewSettings[r.type])}
\`\`\``;navigator.clipboard.writeText(ce)},y=()=>{n(1,i=!1)};function O(j){f=j,n(3,f)}function T(j){b=j,n(10,b)}function R(j){u=j,n(2,u)}function I(j){d=j,n(4,d)}function x(j){v=j,n(9,v)}function U(j){p=j,n(5,p)}function D(j){h=j,n(6,h)}function Y(){g=Cs(this),n(7,g)}function ne(){_=Cs(this),n(8,_)}return t.$$set=j=>{"codeBlockOptions"in j&&n(0,r=j.codeBlockOptions),"showSettings"in j&&n(1,i=j.showSettings)},t.$$.update=()=>{if(t.$$.dirty&18429){e:n(0,r.hourRange=u,r),n(0,r.navigation=f,r),n(0,r.timespan=d[0],r),n(0,r.include=p,r),n(0,r.exclude=h,r),n(0,r.view=g,r),n(0,r.theme=_,r),n(0,r.dayOffset=v[0],r),n(0,r.showAllDay=b,r),n(14,l.settings.viewSettings[r.type]=Object.assign(Object.assign({},l.settings.viewSettings[r.type]),{hourRange:u,navigation:f,timespan:d[0],include:p,exclude:h,view:g,theme:_,dayOffset:v[0],showAllDay:b}),l),l.saveSettings()}},[r,i,u,f,d,p,h,g,_,v,b,s,C,y,l,O,T,R,I,x,U,D,Y,ne]}var o0=class extends ze{constructor(e){super();Ue(this,e,UO,HO,We,{codeBlockOptions:0,showSettings:1},zO)}},Ji=o0;function jO(t){yt(t,"svelte-1ficnkj",".fullSize.svelte-1ficnkj,.content.svelte-1ficnkj,.box.svelte-1ficnkj{width:100%;height:100%;overflow:scoll !important}")}function s0(t){let e,n,r,i;function s(f){t[5](f)}function l(f){t[6](f)}let u={};return t[0]!==void 0&&(u.codeBlockOptions=t[0]),t[1]!==void 0&&(u.showSettings=t[1]),e=new Ji({props:u}),Le.push(()=>ot(e,"codeBlockOptions",s)),Le.push(()=>ot(e,"showSettings",l)),{c(){gt(e.$$.fragment)},m(f,d){dt(e,f,d),i=!0},p(f,d){let p={};!n&&d&1&&(n=!0,p.codeBlockOptions=f[0],it(()=>n=!1)),!r&&d&2&&(r=!0,p.showSettings=f[1],it(()=>r=!1)),e.$set(p)},i(f){i||(Q(e.$$.fragment,f),i=!0)},o(f){ue(e.$$.fragment,f),i=!1},d(f){ut(e,f)}}}function qO(t){let e,n,r=`${t[0].width}px`,i=`${t[0].height}px`;return{c(){e=P("webview"),Ao(e.src,n=t[4](t[0].view))||E(e,"src",n),E(e,"allowpopups",""),ge(e,"width",r),ge(e,"height",i)},m(s,l){z(s,e,l),t[9](e)},p(s,l){l&1&&!Ao(e.src,n=s[4](s[0].view))&&E(e,"src",n),l&1&&r!==(r=`${s[0].width}px`)&&ge(e,"width",r),l&1&&i!==(i=`${s[0].height}px`)&&ge(e,"height",i)},d(s){s&&W(e),t[9](null)}}}function VO(t){let e,n,r=`${t[0].height}px`;return{c(){e=P("webview"),Ao(e.src,n=t[4](t[0].view))||E(e,"src",n),E(e,"allowpopups",""),ge(e,"height",r)},m(i,s){z(i,e,s),t[8](e)},p(i,s){s&1&&!Ao(e.src,n=i[4](i[0].view))&&E(e,"src",n),s&1&&r!==(r=`${i[0].height}px`)&&ge(e,"height",r)},d(i){i&&W(e),t[8](null)}}}function KO(t){let e,n;return{c(){e=P("webview"),Ao(e.src,n=t[4](t[0].view))||E(e,"src",n),E(e,"allowpopups",""),E(e,"class","fullSize svelte-1ficnkj")},m(r,i){z(r,e,i),t[7](e)},p(r,i){i&1&&!Ao(e.src,n=r[4](r[0].view))&&E(e,"src",n)},d(r){r&&W(e),t[7](null)}}}function ZO(t){let e,n,r,i,s=t[2]&&s0(t);function l(d,p){return d[0].width==-1?KO:d[0].width?qO:VO}let u=l(t,-1),f=u(t);return{c(){e=P("div"),s&&s.c(),n=J(),r=P("div"),f.c(),E(r,"class","content svelte-1ficnkj"),E(e,"class","box svelte-1ficnkj")},m(d,p){z(d,e,p),s&&s.m(e,null),N(e,n),N(e,r),f.m(r,null),i=!0},p(d,[p]){d[2]?s?(s.p(d,p),p&4&&Q(s,1)):(s=s0(d),s.c(),Q(s,1),s.m(e,n)):s&&(et(),ue(s,1,1,()=>{s=null}),tt()),u===(u=l(d,p))&&f?f.p(d,p):(f.d(1),f=u(d),f&&(f.c(),f.m(r,null)))},i(d){i||(Q(s),i=!0)},o(d){ue(s),i=!1},d(d){d&&W(e),s&&s.d(),f.d()}}}function XO(t,e,n){let{codeBlockOptions:r}=e,{isObsidianView:i=!1}=e,{showSettings:s=!1}=e,l;r.height||(r.height=500);let u,f=b=>{if(!l.isValid())return`https://calendar.google.com/calendar/u/0/r/${b}/`;let C=l.format("yyyy/M/D");return`https://calendar.google.com/calendar/u/0/r/${b}/${C}`};function d(b){if(u)if(b=="dark"||b=="auto"&&Iv()=="dark"){try{u.removeEventListener("dom-ready",C=>{u.executeJavaScript(`
                        const menu = document.querySelectorAll('[aria-label][aria-expanded]')[0]
                        if(menu.getAttribute("aria-expanded") == "true"){
                            menu.click();
                        }
                    `),u.insertCSS("html { filter: hue-rotate(180deg)invert(100)contrast(93%) !important; }")})}catch(C){}try{u.removeEventListener("dom-ready",C=>{u.executeJavaScript(`
                        const menu = document.querySelectorAll('[aria-label][aria-expanded]')[0]
                        if(menu.getAttribute("aria-expanded") == "true"){
                            menu.click();
                        }
                    `)})}catch(C){}u.addEventListener("dom-ready",C=>{u.executeJavaScript(`
                    const menu = document.querySelectorAll('[aria-label][aria-expanded]')[0]
                    if(menu.getAttribute("aria-expanded") == "true"){
                        menu.click();
                    }
                `),u.insertCSS("html { filter: hue-rotate(180deg)invert(100)contrast(93%) !important; }")})}else u.addEventListener("dom-ready",C=>{u.executeJavaScript(`
                    const menu = document.querySelectorAll('[aria-label][aria-expanded]')[0]
                    if(menu.getAttribute("aria-expanded") == "true"){
                        menu.click();
                    }
                `)})}function p(b){r=b,n(0,r)}function h(b){s=b,n(1,s)}function g(b){Le[b?"unshift":"push"](()=>{u=b,n(3,u)})}function _(b){Le[b?"unshift":"push"](()=>{u=b,n(3,u)})}function v(b){Le[b?"unshift":"push"](()=>{u=b,n(3,u)})}return t.$$set=b=>{"codeBlockOptions"in b&&n(0,r=b.codeBlockOptions),"isObsidianView"in b&&n(2,i=b.isObsidianView),"showSettings"in b&&n(1,s=b.showSettings)},t.$$.update=()=>{if(t.$$.dirty&1){e:l=r.date?window.moment(r.date).add(r.dayOffset,"day"):window.moment().add(r.dayOffset,"day"),d(r.theme)}},[r,s,i,u,f,p,h,g,_,v]}var l0=class extends ze{constructor(e){super();Ue(this,e,XO,ZO,We,{codeBlockOptions:0,isObsidianView:2,showSettings:1},jO)}},Fu=l0;var $8=Ye(require("obsidian"));function wn(){}function Kl(t,e){for(let n in e)t[n]=e[n];return t}function QO(t){return t&&typeof t=="object"&&typeof t.then=="function"}function a0(t){return t()}function u0(){return Object.create(null)}function $i(t){t.forEach(a0)}function ti(t){return typeof t=="function"}function jd(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Yu(t,e){return t!=t?e==e:t!==e}function JO(t){return Object.keys(t).length===0}function f0(t,e,n,r){if(t){let i=c0(t,e,n,r);return t[0](i)}}function c0(t,e,n,r){return t[1]&&r?Kl(n.ctx.slice(),t[1](r(e))):n.ctx}function $O(t,e,n,r){if(t[2]&&r){let i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){let s=[],l=Math.max(e.dirty.length,i.length);for(let u=0;u<l;u+=1)s[u]=e.dirty[u]|i[u];return s}return e.dirty|i}return e.dirty}function d0(t,e,n,r,i,s,l){let u=$O(e,r,i,s);if(u){let f=c0(e,n,r,l);t.p(f,u)}}function Bs(t){return t==null?"":t}function Ze(t,e){t.appendChild(e)}function yn(t,e,n){t.insertBefore(e,n||null)}function cn(t){t.parentNode.removeChild(t)}function Gu(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function St(t){return document.createElement(t)}function zs(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Wo(t){return document.createTextNode(t)}function sr(){return Wo(" ")}function Wu(){return Wo("")}function Mi(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function je(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p0(t,e){let n=Object.getOwnPropertyDescriptors(t.__proto__);for(let r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:je(t,r,e[r])}function e6(t){return Array.from(t.childNodes)}function Zl(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function tn(t,e,n){t.classList[n?"add":"remove"](e)}var Bu;function eo(t){Bu=t}function t6(){if(!Bu)throw new Error("Function called outside component initialization");return Bu}var Xl=[],h0=[],zu=[],g0=[],n6=Promise.resolve(),qd=!1;function r6(){qd||(qd=!0,n6.then(Xd))}function Vd(t){zu.push(t)}var Kd=!1,Zd=new Set;function Xd(){if(!Kd){Kd=!0;do{for(let t=0;t<Xl.length;t+=1){let e=Xl[t];eo(e),i6(e.$$)}for(eo(null),Xl.length=0;h0.length;)h0.pop()();for(let t=0;t<zu.length;t+=1){let e=zu[t];Zd.has(e)||(Zd.add(e),e())}zu.length=0}while(Xl.length);for(;g0.length;)g0.pop()();qd=!1,Kd=!1,Zd.clear()}}function i6(t){if(t.fragment!==null){t.update(),$i(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Vd)}}var Hu=new Set,Bo;function zo(){Bo={r:0,c:[],p:Bo}}function Ho(){Bo.r||$i(Bo.c),Bo=Bo.p}function Ot(t,e){t&&t.i&&(Hu.delete(t),t.i(e))}function zt(t,e,n,r){if(t&&t.o){if(Hu.has(t))return;Hu.add(t),Bo.c.push(()=>{Hu.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function m0(t,e){let n=e.token={};function r(i,s,l,u){if(e.token!==n)return;e.resolved=u;let f=e.ctx;l!==void 0&&(f=f.slice(),f[l]=u);let d=i&&(e.current=i)(f),p=!1;e.block&&(e.blocks?e.blocks.forEach((h,g)=>{g!==s&&h&&(zo(),zt(h,1,1,()=>{e.blocks[g]===h&&(e.blocks[g]=null)}),Ho())}):e.block.d(1),d.c(),Ot(d,1),d.m(e.mount(),e.anchor),p=!0),e.block=d,e.blocks&&(e.blocks[s]=d),p&&Xd()}if(QO(t)){let i=t6();if(t.then(s=>{eo(i),r(e.then,1,e.value,s),eo(null)},s=>{if(eo(i),r(e.catch,2,e.error,s),eo(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function _0(t,e){zt(t,1,1,()=>{e.delete(t.key)})}function v0(t,e,n,r,i,s,l,u,f,d,p,h){let g=t.length,_=s.length,v=g,b={};for(;v--;)b[t[v].key]=v;let C=[],y=new Map,O=new Map;for(v=_;v--;){let x=h(i,s,v),U=n(x),D=l.get(U);D?r&&D.p(x,e):(D=d(U,x),D.c()),y.set(U,C[v]=D),U in b&&O.set(U,Math.abs(v-b[U]))}let T=new Set,R=new Set;function I(x){Ot(x,1),x.m(u,p),l.set(x.key,x),p=x.first,_--}for(;g&&_;){let x=C[_-1],U=t[g-1],D=x.key,Y=U.key;x===U?(p=x.first,g--,_--):y.has(Y)?!l.has(D)||T.has(D)?I(x):R.has(Y)?g--:O.get(D)>O.get(Y)?(R.add(D),I(x)):(T.add(Y),g--):(f(U,l),g--)}for(;g--;){let x=t[g];y.has(x.key)||f(x,l)}for(;_;)I(C[_-1]);return C}function Uu(t,e){let n={},r={},i={$$scope:1},s=t.length;for(;s--;){let l=t[s],u=e[s];if(u){for(let f in l)f in u||(r[f]=1);for(let f in u)i[f]||(n[f]=u[f],i[f]=1);t[s]=u}else for(let f in l)i[f]=1}for(let l in r)l in n||(n[l]=void 0);return n}function Qd(t){return typeof t=="object"&&t!==null?t:{}}function Ai(t){t&&t.c()}function ni(t,e,n,r){let{fragment:i,on_mount:s,on_destroy:l,after_update:u}=t.$$;i&&i.m(e,n),r||Vd(()=>{let f=s.map(a0).filter(ti);l?l.push(...f):$i(f),t.$$.on_mount=[]}),u.forEach(Vd)}function ri(t,e){let n=t.$$;n.fragment!==null&&($i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function o6(t,e){t.$$.dirty[0]===-1&&(Xl.push(t),r6(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Uo(t,e,n,r,i,s,l=[-1]){let u=Bu;eo(t);let f=t.$$={fragment:null,ctx:null,props:s,update:wn,not_equal:i,bound:u0(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:u0(),dirty:l,skip_bound:!1},d=!1;if(f.ctx=n?n(t,e.props||{},(p,h,...g)=>{let _=g.length?g[0]:h;return f.ctx&&i(f.ctx[p],f.ctx[p]=_)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](_),d&&o6(t,p)),h}):[],f.update(),d=!0,$i(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){let p=e6(e.target);f.fragment&&f.fragment.l(p),p.forEach(cn)}else f.fragment&&f.fragment.c();e.intro&&Ot(t.$$.fragment),ni(t,e.target,e.anchor,e.customElement),Xd()}eo(u)}var to=class{$destroy(){ri(this,1),this.$destroy=wn}$on(e,n){let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{let i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!JO(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};function s6(t,e="day"){let n=t.clone().startOf(e).format();return`${e}-${n}`}var ju=s6;function l6(){var t=St("style");t.id="svelte-1widvzq-style",t.textContent=".dot.svelte-1widvzq,.hollow.svelte-1widvzq{display:inline-block;height:6px;width:6px;margin:0 1px}.filled.svelte-1widvzq{fill:var(--color-dot)}.active.filled.svelte-1widvzq{fill:var(--text-on-accent)}.hollow.svelte-1widvzq{fill:none;stroke:var(--color-dot)}.active.hollow.svelte-1widvzq{fill:none;stroke:var(--text-on-accent)}",Ze(document.head,t)}function a6(t){let e,n,r;return{c(){e=zs("svg"),n=zs("circle"),je(n,"cx","3"),je(n,"cy","3"),je(n,"r","2"),je(e,"class",r=""+(Bs(`hollow ${t[0]}`)+" svelte-1widvzq")),je(e,"viewBox","0 0 6 6"),je(e,"xmlns","http://www.w3.org/2000/svg"),tn(e,"active",t[2])},m(i,s){yn(i,e,s),Ze(e,n)},p(i,s){s&1&&r!==(r=""+(Bs(`hollow ${i[0]}`)+" svelte-1widvzq"))&&je(e,"class",r),s&5&&tn(e,"active",i[2])},d(i){i&&cn(e)}}}function u6(t){let e,n,r;return{c(){e=zs("svg"),n=zs("circle"),je(n,"cx","3"),je(n,"cy","3"),je(n,"r","2"),je(e,"class",r=""+(Bs(`dot filled ${t[0]}`)+" svelte-1widvzq")),je(e,"viewBox","0 0 6 6"),je(e,"xmlns","http://www.w3.org/2000/svg"),tn(e,"active",t[2])},m(i,s){yn(i,e,s),Ze(e,n)},p(i,s){s&1&&r!==(r=""+(Bs(`dot filled ${i[0]}`)+" svelte-1widvzq"))&&je(e,"class",r),s&5&&tn(e,"active",i[2])},d(i){i&&cn(e)}}}function f6(t){let e;function n(s,l){return s[1]?u6:a6}let r=n(t),i=r(t);return{c(){i.c(),e=Wu()},m(s,l){i.m(s,l),yn(s,e,l)},p(s,[l]){r===(r=n(s))&&i?i.p(s,l):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:wn,o:wn,d(s){i.d(s),s&&cn(e)}}}function c6(t,e,n){let{className:r=""}=e,{isFilled:i}=e,{isActive:s}=e;return t.$$set=l=>{"className"in l&&n(0,r=l.className),"isFilled"in l&&n(1,i=l.isFilled),"isActive"in l&&n(2,s=l.isActive)},[r,i,s]}var Jd=class extends to{constructor(e){super();document.getElementById("svelte-1widvzq-style")||l6(),Uo(this,e,c6,f6,jd,{className:0,isFilled:1,isActive:2})}},d6=t=>({}),w0=t=>({metadata:null}),p6=t=>({metadata:t&1}),y0=t=>({metadata:t[3]});function h6(t){let e,n=t[2].default,r=f0(n,t,t[1],w0);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&s&2&&d0(r,n,i,i[1],s,d6,w0)},i(i){e||(Ot(r,i),e=!0)},o(i){zt(r,i),e=!1},d(i){r&&r.d(i)}}}function g6(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:v6,then:_6,catch:m6,value:3,blocks:[,,,]};return m0(n=t[0],i),{c(){e=Wu(),i.block.c()},m(s,l){yn(s,e,l),i.block.m(s,i.anchor=l),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,l){if(t=s,i.ctx=t,!(l&1&&n!==(n=t[0])&&m0(n,i))){let u=t.slice();u[3]=i.resolved,i.block.p(u,l)}},i(s){r||(Ot(i.block),r=!0)},o(s){for(let l=0;l<3;l+=1){let u=i.blocks[l];zt(u)}r=!1},d(s){s&&cn(e),i.block.d(s),i.token=null,i=null}}}function m6(t){return{c:wn,m:wn,p:wn,i:wn,o:wn,d:wn}}function _6(t){let e,n=t[2].default,r=f0(n,t,t[1],y0);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&s&3&&d0(r,n,i,i[1],s,p6,y0)},i(i){e||(Ot(r,i),e=!0)},o(i){zt(r,i),e=!1},d(i){r&&r.d(i)}}}function v6(t){return{c:wn,m:wn,p:wn,i:wn,o:wn,d:wn}}function w6(t){let e,n,r,i,s=[g6,h6],l=[];function u(f,d){return f[0]?0:1}return e=u(t),n=l[e]=s[e](t),{c(){n.c(),r=Wu()},m(f,d){l[e].m(f,d),yn(f,r,d),i=!0},p(f,[d]){let p=e;e=u(f),e===p?l[e].p(f,d):(zo(),zt(l[p],1,1,()=>{l[p]=null}),Ho(),n=l[e],n?n.p(f,d):(n=l[e]=s[e](f),n.c()),Ot(n,1),n.m(r.parentNode,r))},i(f){i||(Ot(n),i=!0)},o(f){zt(n),i=!1},d(f){l[e].d(f),f&&cn(r)}}}function y6(t,e,n){let{$$slots:r={},$$scope:i}=e,{metadata:s}=e;return t.$$set=l=>{"metadata"in l&&n(0,s=l.metadata),"$$scope"in l&&n(1,i=l.$$scope)},[s,i,r]}var $d=class extends to{constructor(e){super();Uo(this,e,y6,w6,Yu,{metadata:0})}};function b6(){return navigator.appVersion.indexOf("Mac")!==-1}function qu(t){return b6()?t.metaKey:t.ctrlKey}function k6(...t){return window.moment.weekdaysShort(!0)}function b0(t){return t.isoWeekday()===6||t.isoWeekday()===7}function E6(t){return t[0].weekday(0)}function C6(t,...e){let n=window.moment().locale(),r=[],i,s=t.clone().locale(n).date(1),l=s.weekday(),u=s.clone().subtract(l,"days");for(let f=0;f<42;f++)f%7==0&&(i={days:[],weekNum:u.week()},r.push(i)),i.days.push(u),u=u.clone().add(1,"days");return r}function S6(){var t=St("style");t.id="svelte-q3wqg9-style",t.textContent=".day.svelte-q3wqg9{background-color:var(--color-background-day);border-radius:4px;color:var(--color-text-day);cursor:pointer;font-size:0.8em;height:100%;padding:4px;position:relative;text-align:center;transition:background-color 0.1s ease-in, color 0.1s ease-in;vertical-align:baseline}.day.svelte-q3wqg9:hover{background-color:var(--interactive-hover)}.day.active.svelte-q3wqg9:hover{background-color:var(--interactive-accent-hover)}.adjacent-month.svelte-q3wqg9{opacity:0.25}.today.svelte-q3wqg9{color:var(--color-text-today)}.day.svelte-q3wqg9:active,.active.svelte-q3wqg9,.active.today.svelte-q3wqg9{color:var(--text-on-accent);background-color:var(--interactive-accent)}.dot-container.svelte-q3wqg9{display:flex;flex-wrap:wrap;justify-content:center;line-height:6px;min-height:6px}",Ze(document.head,t)}function k0(t,e,n){let r=t.slice();return r[11]=e[n],r}function E0(t){let e,n,r=[t[11]],i={};for(let s=0;s<r.length;s+=1)i=Kl(i,r[s]);return e=new Jd({props:i}),{c(){Ai(e.$$.fragment)},m(s,l){ni(e,s,l),n=!0},p(s,l){let u=l&128?Uu(r,[Qd(s[11])]):{};e.$set(u)},i(s){n||(Ot(e.$$.fragment,s),n=!0)},o(s){zt(e.$$.fragment,s),n=!1},d(s){ri(e,s)}}}function T6(t){let e,n=t[0].format("D")+"",r,i,s,l,u,f,d,p=t[7].dots,h=[];for(let b=0;b<p.length;b+=1)h[b]=E0(k0(t,p,b));let g=b=>zt(h[b],1,1,()=>{h[b]=null}),_=[{class:l=`day ${t[7].classes.join(" ")}`},t[7].dataAttributes||{}],v={};for(let b=0;b<_.length;b+=1)v=Kl(v,_[b]);return{c(){e=St("div"),r=Wo(n),i=sr(),s=St("div");for(let b=0;b<h.length;b+=1)h[b].c();je(s,"class","dot-container svelte-q3wqg9"),p0(e,v),tn(e,"active",t[6]===ju(t[0],"day")),tn(e,"adjacent-month",!t[0].isSame(t[5],"month")),tn(e,"today",t[0].isSame(t[4],"day")),tn(e,"svelte-q3wqg9",!0)},m(b,C){yn(b,e,C),Ze(e,r),Ze(e,i),Ze(e,s);for(let y=0;y<h.length;y+=1)h[y].m(s,null);u=!0,f||(d=[Mi(e,"click",function(){ti(t[2]&&t[8])&&(t[2]&&t[8]).apply(this,arguments)}),Mi(e,"contextmenu",function(){ti(t[3]&&t[9])&&(t[3]&&t[9]).apply(this,arguments)}),Mi(e,"pointerover",function(){ti(t[1]&&t[10])&&(t[1]&&t[10]).apply(this,arguments)})],f=!0)},p(b,C){if(t=b,(!u||C&1)&&n!==(n=t[0].format("D")+"")&&Zl(r,n),C&128){p=t[7].dots;let y;for(y=0;y<p.length;y+=1){let O=k0(t,p,y);h[y]?(h[y].p(O,C),Ot(h[y],1)):(h[y]=E0(O),h[y].c(),Ot(h[y],1),h[y].m(s,null))}for(zo(),y=p.length;y<h.length;y+=1)g(y);Ho()}p0(e,v=Uu(_,[(!u||C&128&&l!==(l=`day ${t[7].classes.join(" ")}`))&&{class:l},C&128&&(t[7].dataAttributes||{})])),tn(e,"active",t[6]===ju(t[0],"day")),tn(e,"adjacent-month",!t[0].isSame(t[5],"month")),tn(e,"today",t[0].isSame(t[4],"day")),tn(e,"svelte-q3wqg9",!0)},i(b){if(!u){for(let C=0;C<p.length;C+=1)Ot(h[C]);u=!0}},o(b){h=h.filter(Boolean);for(let C=0;C<h.length;C+=1)zt(h[C]);u=!1},d(b){b&&cn(e),Gu(h,b),f=!1,$i(d)}}}function D6(t){let e,n,r;return n=new $d({props:{metadata:t[7],$$slots:{default:[T6,({metadata:i})=>({7:i}),({metadata:i})=>i?128:0]},$$scope:{ctx:t}}}),{c(){e=St("td"),Ai(n.$$.fragment)},m(i,s){yn(i,e,s),ni(n,e,null),r=!0},p(i,[s]){let l={};s&128&&(l.metadata=i[7]),s&16639&&(l.$$scope={dirty:s,ctx:i}),n.$set(l)},i(i){r||(Ot(n.$$.fragment,i),r=!0)},o(i){zt(n.$$.fragment,i),r=!1},d(i){i&&cn(e),ri(n)}}}function O6(t,e,n){let{date:r}=e,{metadata:i}=e,{onHover:s}=e,{onClick:l}=e,{onContextMenu:u}=e,{today:f}=e,{displayedMonth:d=null}=e,{selectedId:p=null}=e,h=v=>l(r,qu(v)),g=v=>u(r,v),_=v=>s(r,v.target,qu(v));return t.$$set=v=>{"date"in v&&n(0,r=v.date),"metadata"in v&&n(7,i=v.metadata),"onHover"in v&&n(1,s=v.onHover),"onClick"in v&&n(2,l=v.onClick),"onContextMenu"in v&&n(3,u=v.onContextMenu),"today"in v&&n(4,f=v.today),"displayedMonth"in v&&n(5,d=v.displayedMonth),"selectedId"in v&&n(6,p=v.selectedId)},[r,s,l,u,f,d,p,i,h,g,_]}var C0=class extends to{constructor(e){super();document.getElementById("svelte-q3wqg9-style")||S6(),Uo(this,e,O6,D6,Yu,{date:0,metadata:7,onHover:1,onClick:2,onContextMenu:3,today:4,displayedMonth:5,selectedId:6})}};function M6(){var t=St("style");t.id="svelte-156w7na-style",t.textContent=".arrow.svelte-156w7na.svelte-156w7na{align-items:center;cursor:pointer;display:flex;justify-content:center;width:24px}.arrow.is-mobile.svelte-156w7na.svelte-156w7na{width:32px}.right.svelte-156w7na.svelte-156w7na{transform:rotate(180deg)}.arrow.svelte-156w7na svg.svelte-156w7na{color:var(--color-arrow);height:16px;width:16px}",Ze(document.head,t)}function A6(t){let e,n,r,i,s;return{c(){e=St("div"),n=zs("svg"),r=zs("path"),je(r,"fill","currentColor"),je(r,"d","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"),je(n,"focusable","false"),je(n,"role","img"),je(n,"xmlns","http://www.w3.org/2000/svg"),je(n,"viewBox","0 0 320 512"),je(n,"class","svelte-156w7na"),je(e,"class","arrow svelte-156w7na"),je(e,"aria-label",t[1]),tn(e,"is-mobile",t[3]),tn(e,"right",t[2]==="right")},m(l,u){yn(l,e,u),Ze(e,n),Ze(n,r),i||(s=Mi(e,"click",function(){ti(t[0])&&t[0].apply(this,arguments)}),i=!0)},p(l,[u]){t=l,u&2&&je(e,"aria-label",t[1]),u&4&&tn(e,"right",t[2]==="right")},i:wn,o:wn,d(l){l&&cn(e),i=!1,s()}}}function I6(t,e,n){let{onClick:r}=e,{tooltip:i}=e,{direction:s}=e,l=window.app.isMobile;return t.$$set=u=>{"onClick"in u&&n(0,r=u.onClick),"tooltip"in u&&n(1,i=u.tooltip),"direction"in u&&n(2,s=u.direction)},[r,i,s,l]}var ep=class extends to{constructor(e){super();document.getElementById("svelte-156w7na-style")||M6(),Uo(this,e,I6,A6,jd,{onClick:0,tooltip:1,direction:2})}};function N6(){var t=St("style");t.id="svelte-1vwr9dd-style",t.textContent=".nav.svelte-1vwr9dd.svelte-1vwr9dd{align-items:center;display:flex;margin:0.6em 0 1em;padding:0 8px;width:100%}.nav.is-mobile.svelte-1vwr9dd.svelte-1vwr9dd{padding:0}.title.svelte-1vwr9dd.svelte-1vwr9dd{color:var(--color-text-title);font-size:1.5em;margin:0}.is-mobile.svelte-1vwr9dd .title.svelte-1vwr9dd{font-size:1.3em}.month.svelte-1vwr9dd.svelte-1vwr9dd{font-weight:500;text-transform:capitalize}.year.svelte-1vwr9dd.svelte-1vwr9dd{color:var(--interactive-accent)}.right-nav.svelte-1vwr9dd.svelte-1vwr9dd{display:flex;justify-content:center;margin-left:auto}.reset-button.svelte-1vwr9dd.svelte-1vwr9dd{cursor:pointer;border-radius:4px;color:var(--text-muted);font-size:0.7em;font-weight:600;letter-spacing:1px;margin:0 4px;padding:0px 4px;text-transform:uppercase}.is-mobile.svelte-1vwr9dd .reset-button.svelte-1vwr9dd{display:none}",Ze(document.head,t)}function P6(t){let e,n,r,i=t[0].format("MMM")+"",s,l,u,f=t[0].format("YYYY")+"",d,p,h,g,_,v,b,C,y,O,T;return g=new ep({props:{direction:"left",onClick:t[3],tooltip:"Previous Month"}}),C=new ep({props:{direction:"right",onClick:t[2],tooltip:"Next Month"}}),{c(){e=St("div"),n=St("h3"),r=St("span"),s=Wo(i),l=sr(),u=St("span"),d=Wo(f),p=sr(),h=St("div"),Ai(g.$$.fragment),_=sr(),v=St("div"),v.textContent=`${t[4]}`,b=sr(),Ai(C.$$.fragment),je(r,"class","month svelte-1vwr9dd"),je(u,"class","year svelte-1vwr9dd"),je(n,"class","title svelte-1vwr9dd"),je(v,"class","reset-button svelte-1vwr9dd"),je(h,"class","right-nav svelte-1vwr9dd"),je(e,"class","nav svelte-1vwr9dd"),tn(e,"is-mobile",t[5])},m(R,I){yn(R,e,I),Ze(e,n),Ze(n,r),Ze(r,s),Ze(n,l),Ze(n,u),Ze(u,d),Ze(e,p),Ze(e,h),ni(g,h,null),Ze(h,_),Ze(h,v),Ze(h,b),ni(C,h,null),y=!0,O||(T=[Mi(n,"click",function(){ti(t[1])&&t[1].apply(this,arguments)}),Mi(v,"click",function(){ti(t[1])&&t[1].apply(this,arguments)})],O=!0)},p(R,[I]){t=R,(!y||I&1)&&i!==(i=t[0].format("MMM")+"")&&Zl(s,i),(!y||I&1)&&f!==(f=t[0].format("YYYY")+"")&&Zl(d,f);let x={};I&8&&(x.onClick=t[3]),g.$set(x);let U={};I&4&&(U.onClick=t[2]),C.$set(U)},i(R){y||(Ot(g.$$.fragment,R),Ot(C.$$.fragment,R),y=!0)},o(R){zt(g.$$.fragment,R),zt(C.$$.fragment,R),y=!1},d(R){R&&cn(e),ri(g),ri(C),O=!1,$i(T)}}}function x6(t,e,n){let{displayedMonth:r}=e,{today:i}=e,{resetDisplayedMonth:s}=e,{incrementDisplayedMonth:l}=e,{decrementDisplayedMonth:u}=e,f=i.calendar().split(/\d|\s/)[0],d=window.app.isMobile;return t.$$set=p=>{"displayedMonth"in p&&n(0,r=p.displayedMonth),"today"in p&&n(6,i=p.today),"resetDisplayedMonth"in p&&n(1,s=p.resetDisplayedMonth),"incrementDisplayedMonth"in p&&n(2,l=p.incrementDisplayedMonth),"decrementDisplayedMonth"in p&&n(3,u=p.decrementDisplayedMonth)},[r,s,l,u,f,d,i]}var S0=class extends to{constructor(e){super();document.getElementById("svelte-1vwr9dd-style")||N6(),Uo(this,e,x6,P6,jd,{displayedMonth:0,today:6,resetDisplayedMonth:1,incrementDisplayedMonth:2,decrementDisplayedMonth:3})}};function L6(){var t=St("style");t.id="svelte-egt0yd-style",t.textContent="td.svelte-egt0yd{border-right:1px solid var(--background-modifier-border)}.week-num.svelte-egt0yd{background-color:var(--color-background-weeknum);border-radius:4px;color:var(--color-text-weeknum);cursor:pointer;font-size:0.65em;height:100%;padding:4px;text-align:center;transition:background-color 0.1s ease-in, color 0.1s ease-in;vertical-align:baseline}.week-num.svelte-egt0yd:hover{background-color:var(--interactive-hover)}.week-num.active.svelte-egt0yd:hover{background-color:var(--interactive-accent-hover)}.active.svelte-egt0yd{color:var(--text-on-accent);background-color:var(--interactive-accent)}.dot-container.svelte-egt0yd{display:flex;flex-wrap:wrap;justify-content:center;line-height:6px;min-height:6px}",Ze(document.head,t)}function T0(t,e,n){let r=t.slice();return r[11]=e[n],r}function D0(t){let e,n,r=[t[11]],i={};for(let s=0;s<r.length;s+=1)i=Kl(i,r[s]);return e=new Jd({props:i}),{c(){Ai(e.$$.fragment)},m(s,l){ni(e,s,l),n=!0},p(s,l){let u=l&64?Uu(r,[Qd(s[11])]):{};e.$set(u)},i(s){n||(Ot(e.$$.fragment,s),n=!0)},o(s){zt(e.$$.fragment,s),n=!1},d(s){ri(e,s)}}}function R6(t){let e,n,r,i,s,l,u,f,d=t[6].dots,p=[];for(let g=0;g<d.length;g+=1)p[g]=D0(T0(t,d,g));let h=g=>zt(p[g],1,1,()=>{p[g]=null});return{c(){e=St("div"),n=Wo(t[0]),r=sr(),i=St("div");for(let g=0;g<p.length;g+=1)p[g].c();je(i,"class","dot-container svelte-egt0yd"),je(e,"class",s=""+(Bs(`week-num ${t[6].classes.join(" ")}`)+" svelte-egt0yd")),tn(e,"active",t[5]===ju(t[1][0],"week"))},m(g,_){yn(g,e,_),Ze(e,n),Ze(e,r),Ze(e,i);for(let v=0;v<p.length;v+=1)p[v].m(i,null);l=!0,u||(f=[Mi(e,"click",function(){ti(t[3]&&t[8])&&(t[3]&&t[8]).apply(this,arguments)}),Mi(e,"contextmenu",function(){ti(t[4]&&t[9])&&(t[4]&&t[9]).apply(this,arguments)}),Mi(e,"pointerover",function(){ti(t[2]&&t[10])&&(t[2]&&t[10]).apply(this,arguments)})],u=!0)},p(g,_){if(t=g,(!l||_&1)&&Zl(n,t[0]),_&64){d=t[6].dots;let v;for(v=0;v<d.length;v+=1){let b=T0(t,d,v);p[v]?(p[v].p(b,_),Ot(p[v],1)):(p[v]=D0(b),p[v].c(),Ot(p[v],1),p[v].m(i,null))}for(zo(),v=d.length;v<p.length;v+=1)h(v);Ho()}(!l||_&64&&s!==(s=""+(Bs(`week-num ${t[6].classes.join(" ")}`)+" svelte-egt0yd")))&&je(e,"class",s),_&98&&tn(e,"active",t[5]===ju(t[1][0],"week"))},i(g){if(!l){for(let _=0;_<d.length;_+=1)Ot(p[_]);l=!0}},o(g){p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)zt(p[_]);l=!1},d(g){g&&cn(e),Gu(p,g),u=!1,$i(f)}}}function F6(t){let e,n,r;return n=new $d({props:{metadata:t[6],$$slots:{default:[R6,({metadata:i})=>({6:i}),({metadata:i})=>i?64:0]},$$scope:{ctx:t}}}),{c(){e=St("td"),Ai(n.$$.fragment),je(e,"class","svelte-egt0yd")},m(i,s){yn(i,e,s),ni(n,e,null),r=!0},p(i,[s]){let l={};s&64&&(l.metadata=i[6]),s&16639&&(l.$$scope={dirty:s,ctx:i}),n.$set(l)},i(i){r||(Ot(n.$$.fragment,i),r=!0)},o(i){zt(n.$$.fragment,i),r=!1},d(i){i&&cn(e),ri(n)}}}function Y6(t,e,n){let{weekNum:r}=e,{days:i}=e,{metadata:s}=e,{onHover:l}=e,{onClick:u}=e,{onContextMenu:f}=e,{selectedId:d=null}=e,p,h=v=>u(p,qu(v)),g=v=>f(i[0],v),_=v=>l(p,v.target,qu(v));return t.$$set=v=>{"weekNum"in v&&n(0,r=v.weekNum),"days"in v&&n(1,i=v.days),"metadata"in v&&n(6,s=v.metadata),"onHover"in v&&n(2,l=v.onHover),"onClick"in v&&n(3,u=v.onClick),"onContextMenu"in v&&n(4,f=v.onContextMenu),"selectedId"in v&&n(5,d=v.selectedId)},t.$$.update=()=>{t.$$.dirty&2&&n(7,p=E6(i))},[r,i,l,u,f,d,s,p,h,g,_]}var O0=class extends to{constructor(e){super();document.getElementById("svelte-egt0yd-style")||L6(),Uo(this,e,Y6,F6,Yu,{weekNum:0,days:1,metadata:6,onHover:2,onClick:3,onContextMenu:4,selectedId:5})}};function M0(t){return K(this,null,function*(){let e={dots:[],classes:[],dataAttributes:{}};return(yield Promise.all(t)).reduce((r,i)=>({classes:[...r.classes,...i.classes||[]],dataAttributes:Object.assign(r.dataAttributes,i.dataAttributes),dots:[...r.dots,...i.dots||[]]}),e)})}function A0(t,e,...n){return M0(t.map(r=>r.getDailyMetadata(e)))}function I0(t,e,...n){return M0(t.map(r=>r.getWeeklyMetadata(e)))}function G6(){var t=St("style");t.id="svelte-pcimu8-style",t.textContent=".container.svelte-pcimu8{--color-background-heading:transparent;--color-background-day:transparent;--color-background-weeknum:transparent;--color-background-weekend:transparent;--color-dot:var(--text-muted);--color-arrow:var(--text-muted);--color-button:var(--text-muted);--color-text-title:var(--text-normal);--color-text-heading:var(--text-muted);--color-text-day:var(--text-normal);--color-text-today:var(--interactive-accent);--color-text-weeknum:var(--text-muted)}.container.svelte-pcimu8{padding:0 8px}.container.is-mobile.svelte-pcimu8{padding:0}th.svelte-pcimu8{text-align:center}.weekend.svelte-pcimu8{background-color:var(--color-background-weekend)}.calendar.svelte-pcimu8{border-collapse:collapse;width:100%}th.svelte-pcimu8{background-color:var(--color-background-heading);color:var(--color-text-heading);font-size:0.6em;letter-spacing:1px;padding:4px;text-transform:uppercase}",Ze(document.head,t)}function N0(t,e,n){let r=t.slice();return r[18]=e[n],r}function P0(t,e,n){let r=t.slice();return r[21]=e[n],r}function x0(t,e,n){let r=t.slice();return r[24]=e[n],r}function L0(t,e,n){let r=t.slice();return r[27]=e[n],r}function R0(t){let e;return{c(){e=St("col")},m(n,r){yn(n,e,r)},d(n){n&&cn(e)}}}function F0(t){let e;return{c(){e=St("col"),je(e,"class","svelte-pcimu8"),tn(e,"weekend",b0(t[27]))},m(n,r){yn(n,e,r)},p(n,r){r&16384&&tn(e,"weekend",b0(n[27]))},d(n){n&&cn(e)}}}function Y0(t){let e;return{c(){e=St("th"),e.textContent="W",je(e,"class","svelte-pcimu8")},m(n,r){yn(n,e,r)},d(n){n&&cn(e)}}}function G0(t){let e,n=t[24]+"",r;return{c(){e=St("th"),r=Wo(n),je(e,"class","svelte-pcimu8")},m(i,s){yn(i,e,s),Ze(e,r)},p(i,s){s&32768&&n!==(n=i[24]+"")&&Zl(r,n)},d(i){i&&cn(e)}}}function W0(t){let e,n,r=[t[18],{metadata:I0(t[8],t[18].days[0],t[10])},{onClick:t[7]},{onContextMenu:t[5]},{onHover:t[3]},{selectedId:t[9]}],i={};for(let s=0;s<r.length;s+=1)i=Kl(i,r[s]);return e=new O0({props:i}),{c(){Ai(e.$$.fragment)},m(s,l){ni(e,s,l),n=!0},p(s,l){let u=l&18344?Uu(r,[l&16384&&Qd(s[18]),l&17664&&{metadata:I0(s[8],s[18].days[0],s[10])},l&128&&{onClick:s[7]},l&32&&{onContextMenu:s[5]},l&8&&{onHover:s[3]},l&512&&{selectedId:s[9]}]):{};e.$set(u)},i(s){n||(Ot(e.$$.fragment,s),n=!0)},o(s){zt(e.$$.fragment,s),n=!1},d(s){ri(e,s)}}}function B0(t,e){let n,r,i;return r=new C0({props:{date:e[21],today:e[10],displayedMonth:e[0],onClick:e[6],onContextMenu:e[4],onHover:e[2],metadata:A0(e[8],e[21],e[10]),selectedId:e[9]}}),{key:t,first:null,c(){n=Wu(),Ai(r.$$.fragment),this.first=n},m(s,l){yn(s,n,l),ni(r,s,l),i=!0},p(s,l){e=s;let u={};l&16384&&(u.date=e[21]),l&1024&&(u.today=e[10]),l&1&&(u.displayedMonth=e[0]),l&64&&(u.onClick=e[6]),l&16&&(u.onContextMenu=e[4]),l&4&&(u.onHover=e[2]),l&17664&&(u.metadata=A0(e[8],e[21],e[10])),l&512&&(u.selectedId=e[9]),r.$set(u)},i(s){i||(Ot(r.$$.fragment,s),i=!0)},o(s){zt(r.$$.fragment,s),i=!1},d(s){s&&cn(n),ri(r,s)}}}function z0(t,e){let n,r,i=[],s=new Map,l,u,f=e[1]&&W0(e),d=e[18].days,p=h=>h[21].format();for(let h=0;h<d.length;h+=1){let g=P0(e,d,h),_=p(g);s.set(_,i[h]=B0(_,g))}return{key:t,first:null,c(){n=St("tr"),f&&f.c(),r=sr();for(let h=0;h<i.length;h+=1)i[h].c();l=sr(),this.first=n},m(h,g){yn(h,n,g),f&&f.m(n,null),Ze(n,r);for(let _=0;_<i.length;_+=1)i[_].m(n,null);Ze(n,l),u=!0},p(h,g){e=h,e[1]?f?(f.p(e,g),g&2&&Ot(f,1)):(f=W0(e),f.c(),Ot(f,1),f.m(n,r)):f&&(zo(),zt(f,1,1,()=>{f=null}),Ho()),g&18261&&(d=e[18].days,zo(),i=v0(i,g,p,1,e,d,s,n,_0,B0,l,P0),Ho())},i(h){if(!u){Ot(f);for(let g=0;g<d.length;g+=1)Ot(i[g]);u=!0}},o(h){zt(f);for(let g=0;g<i.length;g+=1)zt(i[g]);u=!1},d(h){h&&cn(n),f&&f.d();for(let g=0;g<i.length;g+=1)i[g].d()}}}function W6(t){let e,n,r,i,s,l,u,f,d,p,h,g,_=[],v=new Map,b;n=new S0({props:{today:t[10],displayedMonth:t[0],incrementDisplayedMonth:t[11],decrementDisplayedMonth:t[12],resetDisplayedMonth:t[13]}});let C=t[1]&&R0(),y=t[14][1].days,O=[];for(let D=0;D<y.length;D+=1)O[D]=F0(L0(t,y,D));let T=t[1]&&Y0(),R=t[15],I=[];for(let D=0;D<R.length;D+=1)I[D]=G0(x0(t,R,D));let x=t[14],U=D=>D[18].weekNum;for(let D=0;D<x.length;D+=1){let Y=N0(t,x,D),ne=U(Y);v.set(ne,_[D]=z0(ne,Y))}return{c(){e=St("div"),Ai(n.$$.fragment),r=sr(),i=St("table"),s=St("colgroup"),C&&C.c(),l=sr();for(let D=0;D<O.length;D+=1)O[D].c();u=sr(),f=St("thead"),d=St("tr"),T&&T.c(),p=sr();for(let D=0;D<I.length;D+=1)I[D].c();h=sr(),g=St("tbody");for(let D=0;D<_.length;D+=1)_[D].c();je(i,"class","calendar svelte-pcimu8"),je(e,"id","calendar-container"),je(e,"class","container svelte-pcimu8"),tn(e,"is-mobile",t[16])},m(D,Y){yn(D,e,Y),ni(n,e,null),Ze(e,r),Ze(e,i),Ze(i,s),C&&C.m(s,null),Ze(s,l);for(let ne=0;ne<O.length;ne+=1)O[ne].m(s,null);Ze(i,u),Ze(i,f),Ze(f,d),T&&T.m(d,null),Ze(d,p);for(let ne=0;ne<I.length;ne+=1)I[ne].m(d,null);Ze(i,h),Ze(i,g);for(let ne=0;ne<_.length;ne+=1)_[ne].m(g,null);b=!0},p(D,[Y]){let ne={};if(Y&1024&&(ne.today=D[10]),Y&1&&(ne.displayedMonth=D[0]),n.$set(ne),D[1]?C||(C=R0(),C.c(),C.m(s,l)):C&&(C.d(1),C=null),Y&16384){y=D[14][1].days;let j;for(j=0;j<y.length;j+=1){let oe=L0(D,y,j);O[j]?O[j].p(oe,Y):(O[j]=F0(oe),O[j].c(),O[j].m(s,null))}for(;j<O.length;j+=1)O[j].d(1);O.length=y.length}if(D[1]?T||(T=Y0(),T.c(),T.m(d,p)):T&&(T.d(1),T=null),Y&32768){R=D[15];let j;for(j=0;j<R.length;j+=1){let oe=x0(D,R,j);I[j]?I[j].p(oe,Y):(I[j]=G0(oe),I[j].c(),I[j].m(d,null))}for(;j<I.length;j+=1)I[j].d(1);I.length=R.length}Y&18431&&(x=D[14],zo(),_=v0(_,Y,U,1,D,x,v,g,_0,z0,null,N0),Ho())},i(D){if(!b){Ot(n.$$.fragment,D);for(let Y=0;Y<x.length;Y+=1)Ot(_[Y]);b=!0}},o(D){zt(n.$$.fragment,D);for(let Y=0;Y<_.length;Y+=1)zt(_[Y]);b=!1},d(D){D&&cn(e),ri(n),C&&C.d(),Gu(O,D),T&&T.d(),Gu(I,D);for(let Y=0;Y<_.length;Y+=1)_[Y].d()}}}function B6(t,e,n){let{localeData:r}=e,{showWeekNums:i=!1}=e,{onHoverDay:s}=e,{onHoverWeek:l}=e,{onContextMenuDay:u}=e,{onContextMenuWeek:f}=e,{onClickDay:d}=e,{onClickWeek:p}=e,{sources:h=[]}=e,{selectedId:g}=e,{today:_=window.moment()}=e,{displayedMonth:v=_}=e,b,C,y=window.app.isMobile;function O(){n(0,v=v.clone().add(1,"month"))}function T(){n(0,v=v.clone().subtract(1,"month"))}function R(){n(0,v=_.clone())}return t.$$set=I=>{"localeData"in I&&n(17,r=I.localeData),"showWeekNums"in I&&n(1,i=I.showWeekNums),"onHoverDay"in I&&n(2,s=I.onHoverDay),"onHoverWeek"in I&&n(3,l=I.onHoverWeek),"onContextMenuDay"in I&&n(4,u=I.onContextMenuDay),"onContextMenuWeek"in I&&n(5,f=I.onContextMenuWeek),"onClickDay"in I&&n(6,d=I.onClickDay),"onClickWeek"in I&&n(7,p=I.onClickWeek),"sources"in I&&n(8,h=I.sources),"selectedId"in I&&n(9,g=I.selectedId),"today"in I&&n(10,_=I.today),"displayedMonth"in I&&n(0,v=I.displayedMonth)},t.$$.update=()=>{t.$$.dirty&131073&&n(14,b=C6(v,r)),t.$$.dirty&132096&&n(15,C=k6(_,r))},[v,i,s,l,u,f,d,p,h,g,_,O,T,R,b,C,y,r]}var Vu=class extends to{constructor(e){super();document.getElementById("svelte-pcimu8-style")||G6(),Uo(this,e,B6,W6,Yu,{localeData:17,showWeekNums:1,onHoverDay:2,onHoverWeek:3,onContextMenuDay:4,onContextMenuWeek:5,onClickDay:6,onClickWeek:7,sources:8,selectedId:9,today:10,displayedMonth:0,incrementDisplayedMonth:11,decrementDisplayedMonth:12,resetDisplayedMonth:13})}get incrementDisplayedMonth(){return this.$$.ctx[11]}get decrementDisplayedMonth(){return this.$$.ctx[12]}get resetDisplayedMonth(){return this.$$.ctx[13]}};var Qu=Ye(Ci());var Iw=Ye(lu()),$l=Ye(require("obsidian"));var bw=Ye(require("obsidian"));function H0(){return _1(null,t=>{let e=()=>t(new Date);e();let n=setInterval(e,1e3*60);return()=>clearInterval(n)})}var K0=Ye(V0());function K6(t){yt(t,"svelte-1b51zfv",'.googleCalendarEvent.svelte-1b51zfv{display:flex;padding:0 10px 10px;position:absolute;cursor:pointer;width:150px;border-radius:5px;color:black;font-size:small;box-shadow:3px 2px 8px 4px rgba(0,0,0,0.36);overflow:hidden}.gcal-timeline-container.svelte-1b51zfv{display:flex;gap:5px}.gcal-hour-line.svelte-1b51zfv::after{content:"";position:absolute;width:100%;border-bottom:1px solid grey}.gcal-timeline.svelte-1b51zfv,.hourText.svelte-1b51zfv{overflow:hidden}.gcal-time-display.svelte-1b51zfv{position:absolute;width:95%;height:3px;background:red;overflow:visible}.gcal-timeline.svelte-1b51zfv{position:relative;display:flex;flex-direction:row;padding-top:5px;flex-shrink:1000;min-height:0;overflow:hidden}')}function Z0(t,e,n){let r=t.slice();return r[16]=e[n],r[18]=n,r}function X0(t,e,n){let r=t.slice();return r[19]=e[n],r[18]=n,r}function Q0(t){let e,n,r=`${t[0]/24}px`;return{c(){e=P("div"),E(e,"class",n=""+(fn(t[8]>3?"gcal-hour-line gcal-hour-line-large":"gcal-hour-line")+" svelte-1b51zfv")),ge(e,"height",r)},m(i,s){z(i,e,s)},p(i,s){s&1&&r!==(r=`${i[0]/24}px`)&&ge(e,"height",r)},d(i){i&&W(e)}}}function J0(t){let e,n=`${t[7](t[6])}px`;return{c(){e=P("div"),E(e,"class","gcal-time-display svelte-1b51zfv"),ge(e,"top",n)},m(r,i){z(r,e,i)},p(r,i){i&64&&n!==(n=`${r[7](r[6])}px`)&&ge(e,"top",n)},d(r){r&&W(e)}}}function $0(t,e){let n,r,i=e[16].event.summary+"",s,l,u,f,d,p,h=`${e[16].y}px`,g=`${e[16].x}%`,_=`${e[16].width}%`,v=`${e[16].height}px`,b,C;function y(...T){return e[12](e[16],...T)}function O(...T){return e[13](e[16],...T)}return{key:t,first:null,c(){n=P("div"),r=P("span"),s=Ie(i),u=J(),E(r,"class",l="googleCalendarName googleCalendarName_Calendar_Color_"+e[16].event.parent.colorId+" googleCalendarName_Event_Color_"+e[16].event.parent.colorId+" googleCalendarName_Id_"+e[16].event.parent.id+" svelte-1b51zfv"),E(n,"class",f="googleCalendarEvent googleCalendarEvent_Calendar_Color_"+e[16].event.parent.colorId+" googleCalendarEvent_Event_Color_"+e[16].event.parent.colorId+" googleCalendarEvent_Id_"+e[16].event.parent.id+" svelte-1b51zfv"),E(n,"id",d=e[16].event.id),ge(n,"top",h),ge(n,"left",g),ge(n,"width",_),ge(n,"height",v),ge(n,"background",Ti(e[16].event)),this.first=n},m(T,R){z(T,n,R),N(n,r),N(r,s),N(n,u),b||(C=[X(n,"click",y),X(n,"keypress",O)],b=!0)},p(T,R){e=T,R&4&&i!==(i=e[16].event.summary+"")&&xe(s,i),R&4&&l!==(l="googleCalendarName googleCalendarName_Calendar_Color_"+e[16].event.parent.colorId+" googleCalendarName_Event_Color_"+e[16].event.parent.colorId+" googleCalendarName_Id_"+e[16].event.parent.id+" svelte-1b51zfv")&&E(r,"class",l),R&4&&f!==(f="googleCalendarEvent googleCalendarEvent_Calendar_Color_"+e[16].event.parent.colorId+" googleCalendarEvent_Event_Color_"+e[16].event.parent.colorId+" googleCalendarEvent_Id_"+e[16].event.parent.id+" svelte-1b51zfv")&&E(n,"class",f),R&4&&d!==(d=e[16].event.id)&&E(n,"id",d),R&4&&h!==(h=`${e[16].y}px`)&&ge(n,"top",h),R&4&&g!==(g=`${e[16].x}%`)&&ge(n,"left",g),R&4&&_!==(_=`${e[16].width}%`)&&ge(n,"width",_),R&4&&v!==(v=`${e[16].height}px`)&&ge(n,"height",v),R&4&&ge(n,"background",Ti(e[16].event))},i(T){p||Sn(()=>{p=$m(n,e[11],{key:e[18]}),p.start()})},o:pe,d(T){T&&W(n),b=!1,Ge(C)}}}function Z6(t){let e,n,r,i,s=window.moment().isSame(t[3],"day"),l,u=[],f=new Map,d=`${t[0]}px`,p=`${t[1]}px`,h=` -${Ls(t[0],t[4][0])}px 0px -${Rs(t[0],t[4][1])}px 0px`,g={length:24},_=[];for(let y=0;y<g.length;y+=1)_[y]=Q0(X0(t,g,y));let v=s&&J0(t),b=t[10](t[2]),C=y=>y[18];for(let y=0;y<b.length;y+=1){let O=Z0(t,b,y),T=C(O);f.set(T,u[y]=$0(T,O))}return{c(){e=P("div"),n=P("div"),r=P("div");for(let y=0;y<_.length;y+=1)_[y].c();i=J(),v&&v.c(),l=J();for(let y=0;y<u.length;y+=1)u[y].c();E(r,"class","gcal-hour-line-container"),E(n,"class","gcal-timeline-container svelte-1b51zfv"),E(e,"class","gcal-timeline svelte-1b51zfv"),ge(e,"height",d),ge(e,"width",p),ge(e,"max-width","100%"),ge(e,"margin",h)},m(y,O){z(y,e,O),N(e,n),N(n,r);for(let T=0;T<_.length;T+=1)_[T]&&_[T].m(r,null);N(e,i),v&&v.m(e,null),N(e,l);for(let T=0;T<u.length;T+=1)u[T]&&u[T].m(e,null)},p(y,[O]){if(O&257){g={length:24};let T;for(T=0;T<g.length;T+=1){let R=X0(y,g,T);_[T]?_[T].p(R,O):(_[T]=Q0(R),_[T].c(),_[T].m(r,null))}for(;T<_.length;T+=1)_[T].d(1);_.length=g.length}O&8&&(s=window.moment().isSame(y[3],"day")),s?v?v.p(y,O):(v=J0(y),v.c(),v.m(e,l)):v&&(v.d(1),v=null),O&1060&&(b=y[10](y[2]),u=ku(u,O,C,1,y,b,f,e,t_,$0,null,Z0)),O&1&&d!==(d=`${y[0]}px`)&&ge(e,"height",d),O&2&&p!==(p=`${y[1]}px`)&&ge(e,"width",p),O&17&&h!==(h=` -${Ls(y[0],y[4][0])}px 0px -${Rs(y[0],y[4][1])}px 0px`)&&ge(e,"margin",h)},i(y){for(let O=0;O<b.length;O+=1)Q(u[O])},o:pe,d(y){y&&W(e),Nt(_,y),v&&v.d();for(let O=0;O<u.length;O+=1)u[O].d()}}}function X6(t,e,n){let r,{height:i=700}=e,{width:s=300}=e,{events:l}=e,{date:u}=e,{hourRange:f}=e,{goToEvent:d}=e,p=T=>{let R=ql(T);return Math.floor(i*R)},g=me.getInstance().settings.timelineHourFormat,_=H0();hu(t,_,T=>n(6,r=T));let v=T=>{let R=[],I=new K0.default;T.forEach(D=>{let Y=D.start.date||D.start.dateTime;I.has(Y)?I.get(Y).push(D):I.set(Y,[D])});let x=0,U=null;for(let D of I.values()){if(D[0].start.dateTime){let Y=window.moment(D[0].start.dateTime);U&&Y.isBefore(U,"minutes")?x++:x=0,U=window.moment(D[0].end.dateTime)}D.forEach((Y,ne)=>{let j=x*5,oe=(100-j)/D.length;R=[...R,{event:Y,x:j+oe*ne,y:Mv(Y,i),width:oe,height:Av(Y,i),fullDay:Y.start.date!=null}]})}return R},[b,C]=Kv({duration:T=>Math.sqrt(T*200),fallback(T,R){let I=getComputedStyle(T),x=I.transform==="none"?"":I.transform;return{duration:600,easing:Vv,css:U=>`
                transform: ${x} scale(${U});
                opacity: ${U}
            `}}}),y=(T,R)=>d(T.event,R),O=(T,R)=>d(T.event,R);return t.$$set=T=>{"height"in T&&n(0,i=T.height),"width"in T&&n(1,s=T.width),"events"in T&&n(2,l=T.events),"date"in T&&n(3,u=T.date),"hourRange"in T&&n(4,f=T.hourRange),"goToEvent"in T&&n(5,d=T.goToEvent)},[i,s,l,u,f,d,r,p,g,_,v,C,y,O]}var ew=class extends ze{constructor(e){super();Ue(this,e,X6,Z6,We,{height:0,width:1,events:2,date:3,hourRange:4,goToEvent:5},K6)}},tw=ew;function Q6(t){yt(t,"svelte-1uh2awq",'.gcal-hour-text-container.svelte-1uh2awq{display:flex;flex-direction:column;min-height:0;overflow:hidden}.gcal-hour-text.svelte-1uh2awq{font-family:"consolas";display:block}')}function nw(t,e,n){let r=t.slice();return r[6]=e[n],r[8]=n,r}function rw(t){let e,n=t[4](t[8],t[2])+"",r,i=`${t[0]/24}px`,s=`${t[0]/50}px`,l,u;return{c(){e=P("span"),r=Ie(n),E(e,"class","gcal-hour-text svelte-1uh2awq"),ge(e,"height",i),ge(e,"font-size",s)},m(f,d){z(f,e,d),N(e,r),l||(u=[X(e,"click",t[3]),X(e,"keypress",t[3])],l=!0)},p(f,d){d&4&&n!==(n=f[4](f[8],f[2])+"")&&xe(r,n),d&1&&i!==(i=`${f[0]/24}px`)&&ge(e,"height",i),d&1&&s!==(s=`${f[0]/50}px`)&&ge(e,"font-size",s)},d(f){f&&W(e),l=!1,Ge(u)}}}function J6(t){let e,n=` -${Ls(t[0],t[1][0])}px 0px -${Rs(t[0],t[1][1])}px 0px`,r={length:24},i=[];for(let s=0;s<r.length;s+=1)i[s]=rw(nw(t,r,s));return{c(){e=P("div");for(let s=0;s<i.length;s+=1)i[s].c();E(e,"class","gcal-hour-text-container svelte-1uh2awq"),ge(e,"margin",n)},m(s,l){z(s,e,l);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null)},p(s,[l]){if(l&29){r={length:24};let u;for(u=0;u<r.length;u+=1){let f=nw(s,r,u);i[u]?i[u].p(f,l):(i[u]=rw(f),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}l&3&&n!==(n=` -${Ls(s[0],s[1][0])}px 0px -${Rs(s[0],s[1][1])}px 0px`)&&ge(e,"margin",n)},i:pe,o:pe,d(s){s&&W(e),Nt(i,s)}}}function $6(t,e,n){let r=me.getInstance(),i=r.settings.timelineHourFormat,{height:s=700}=e,{hourRange:l=[0,24]}=e,u=()=>{n(2,i+=1),i>5&&n(2,i=0),r.settings.timelineHourFormat=i,r.saveSettings()},f=(d,p)=>{let h=window.moment(`${d}:00:00`,"H:mm:ss");switch(p){case 0:return h.format("H");case 1:return h.format("HH");case 2:return h.format("h");case 3:return h.format("hh");case 4:return h.format("h A");case 5:return h.format("hh A")}};return t.$$set=d=>{"height"in d&&n(0,s=d.height),"hourRange"in d&&n(1,l=d.hourRange)},[s,l,i,u,f]}var iw=class extends ze{constructor(e){super();Ue(this,e,$6,J6,We,{height:0,hourRange:1},Q6)}},ow=iw;function eM(t){yt(t,"svelte-oeb4qr",".gcal-date-container.svelte-oeb4qr{margin-bottom:10px}.gcal-date-dayofweek.svelte-oeb4qr,.gcal-date-main.svelte-oeb4qr{margin:0px}.gcal-nav-container.svelte-oeb4qr{margin-bottom:1em}")}function tM(t){let e,n,r,i=t[0].format("dddd")+"",s,l,u,f=t[0].format("MMMM DD, YYYY")+"",d,p,h,g,_,v,b,C,y=(window.moment().isSame(t[1],"day")?"Today":"Start")+"",O,T,R,I,x,U,D,Y,ne;return{c(){e=P("div"),n=P("div"),r=P("h3"),s=Ie(i),l=J(),u=P("h1"),d=Ie(f),p=J(),h=P("div"),g=P("button"),g.textContent="<<",_=J(),v=P("button"),v.textContent="<",b=J(),C=P("button"),O=Ie(y),T=J(),R=P("button"),R.textContent=">",I=J(),x=P("button"),x.textContent=">>",U=J(),D=P("button"),D.textContent="+",E(r,"class","gcal-date-dayofweek svelte-oeb4qr"),E(u,"class","gcal-date-main svelte-oeb4qr"),E(g,"class","gcal-nav-button"),E(g,"aria-label","Back 1 week"),E(v,"class","gcal-nav-button"),E(v,"aria-label","Back 1 day"),E(C,"class","gcal-nav-button"),E(C,"aria-label","Jump to today"),E(R,"class","gcal-nav-button"),E(R,"aria-label","Forward 1 day"),E(x,"class","gcal-nav-button"),E(x,"aria-label","Forward 1 week"),E(D,"class","gcal-new-event-button"),E(D,"aria-label","Create Event"),E(h,"class","gcal-nav-container svelte-oeb4qr"),E(n,"class","gcal-date-container svelte-oeb4qr"),E(e,"class","gcal-title-container")},m(j,oe){z(j,e,oe),N(e,n),N(n,r),N(r,s),N(n,l),N(n,u),N(u,d),N(n,p),N(n,h),N(h,g),N(h,_),N(h,v),N(h,b),N(h,C),N(C,O),N(h,T),N(h,R),N(h,I),N(h,x),N(h,U),N(h,D),Y||(ne=[X(g,"click",t[2]),X(v,"click",t[3]),X(C,"click",t[4]),X(R,"click",t[6]),X(x,"click",t[5]),X(D,"click",t[7])],Y=!0)},p(j,[oe]){oe&1&&i!==(i=j[0].format("dddd")+"")&&xe(s,i),oe&1&&f!==(f=j[0].format("MMMM DD, YYYY")+"")&&xe(d,f),oe&2&&y!==(y=(window.moment().isSame(j[1],"day")?"Today":"Start")+"")&&xe(O,y)},i:pe,o:pe,d(j){j&&W(e),Y=!1,Ge(ne)}}}function nM(t,e,n){let{date:r}=e,{startDate:i}=e,{dateOffset:s}=e,l=()=>n(8,s-=7),u=()=>n(8,s-=1),f=()=>n(8,s=0),d=()=>n(8,s+=7),p=()=>n(8,s+=1),h=g=>{new Er({start:{},end:{}},()=>{xr(),n(0,r)}).open()};return t.$$set=g=>{"date"in g&&n(0,r=g.date),"startDate"in g&&n(1,i=g.startDate),"dateOffset"in g&&n(8,s=g.dateOffset)},[r,i,l,u,f,d,p,h,s]}var sw=class extends ze{constructor(e){super();Ue(this,e,nM,tM,We,{date:0,startDate:1,dateOffset:8},eM)}},Zu=sw;function rM(t){yt(t,"svelte-7dzwom",".googleCalendarEvent.svelte-7dzwom{display:flex;padding:0 10px 10px;cursor:pointer;border-radius:5px;color:black;font-size:small;box-shadow:3px 2px 8px 4px rgba(0,0,0,0.36);overflow:hidden}.eventContainer.svelte-7dzwom{grid-row:1 ;display:flex;flex-direction:column;gap:5px}.googleCalendarEvent_AllDay.svelte-7dzwom{border-radius:5px;width:100%;height:23px}")}function lw(t,e,n){let r=t.slice();return r[5]=e[n],r}function aw(t){let e,n,r=t[5].summary+"",i,s,l,u,f,d,p;function h(..._){return t[3](t[5],..._)}function g(..._){return t[4](t[5],..._)}return{c(){e=P("div"),n=P("span"),i=Ie(r),l=J(),E(n,"class",s="googleCalendarName googleCalendarName_Calendar_Color_"+t[5].parent.colorId+" googleCalendarName_Event_Color_"+t[5].parent.colorId+" googleCalendarName_Id_"+t[5].parent.id+" googleCalendarName_AllDay svelte-7dzwom"),E(e,"class",u="googleCalendarEvent googleCalendarEvent_Calendar_Color_"+t[5].parent.colorId+" googleCalendarEvent_Event_Color_"+t[5].parent.colorId+" googleCalendarEvent_Id_"+t[5].parent.id+" googleCalendarEvent_AllDay svelte-7dzwom"),E(e,"id",f=t[5].id),ge(e,"background",Ti(t[5])),ge(e,"width",t[2]>0?t[2]+"px":"100%")},m(_,v){z(_,e,v),N(e,n),N(n,i),N(e,l),d||(p=[X(e,"click",h),X(e,"keypress",g)],d=!0)},p(_,v){t=_,v&1&&r!==(r=t[5].summary+"")&&xe(i,r),v&1&&s!==(s="googleCalendarName googleCalendarName_Calendar_Color_"+t[5].parent.colorId+" googleCalendarName_Event_Color_"+t[5].parent.colorId+" googleCalendarName_Id_"+t[5].parent.id+" googleCalendarName_AllDay svelte-7dzwom")&&E(n,"class",s),v&1&&u!==(u="googleCalendarEvent googleCalendarEvent_Calendar_Color_"+t[5].parent.colorId+" googleCalendarEvent_Event_Color_"+t[5].parent.colorId+" googleCalendarEvent_Id_"+t[5].parent.id+" googleCalendarEvent_AllDay svelte-7dzwom")&&E(e,"class",u),v&1&&f!==(f=t[5].id)&&E(e,"id",f),v&1&&ge(e,"background",Ti(t[5])),v&4&&ge(e,"width",t[2]>0?t[2]+"px":"100%")},d(_){_&&W(e),d=!1,Ge(p)}}}function iM(t){let e,n=t[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=aw(lw(t,n,i));return{c(){e=P("div");for(let i=0;i<r.length;i+=1)r[i].c();E(e,"class","eventContainer svelte-7dzwom")},m(i,s){z(i,e,s);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null)},p(i,[s]){if(s&7){n=i[0];let l;for(l=0;l<n.length;l+=1){let u=lw(i,n,l);r[l]?r[l].p(u,s):(r[l]=aw(u),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:pe,o:pe,d(i){i&&W(e),Nt(r,i)}}}function oM(t,e,n){let{events:r}=e,{goToEvent:i}=e,{width:s=0}=e,l=(f,d)=>i(f,d),u=(f,d)=>i(f,d);return t.$$set=f=>{"events"in f&&n(0,r=f.events),"goToEvent"in f&&n(1,i=f.goToEvent),"width"in f&&n(2,s=f.width)},[r,i,s,l,u]}var uw=class extends ze{constructor(e){super();Ue(this,e,oM,iM,We,{events:0,goToEvent:1,width:2},rM)}},fw=uw;function sM(t){yt(t,"svelte-1txo2e7",".gcal-stop-overflow.svelte-1txo2e7.svelte-1txo2e7{overflow:hidden;min-width:0;min-height:0}.gcal-week-container.svelte-1txo2e7.svelte-1txo2e7{position:relative;display:inline-grid;gap:1em;grid-auto-flow:row;overflow:hidden}.gcal-week-container.svelte-1txo2e7>.svelte-1txo2e7{min-width:0px;min-height:0px}.gcal-day-container.svelte-1txo2e7.svelte-1txo2e7{width:100%;display:grid;justify-content:center;align-items:center}.gcal-day.svelte-1txo2e7.svelte-1txo2e7,.gcal-dayofweek.svelte-1txo2e7.svelte-1txo2e7{display:flex;align-items:center;justify-content:center;font-size:medium}.gcal-day.svelte-1txo2e7.svelte-1txo2e7{font-weight:700;font-size:x-large}")}function cw(t,e,n){let r=t.slice();return r[21]=e[n],r[23]=n,r}function dw(t,e,n){let r=t.slice();return r[21]=e[n],r[23]=n,r}function pw(t,e,n){let r=t.slice();return r[21]=e[n],r[23]=n,r}function hw(t){let e,n,r,i;function s(f){t[10](f)}function l(f){t[11](f)}let u={};return t[0]!==void 0&&(u.codeBlockOptions=t[0]),t[1]!==void 0&&(u.showSettings=t[1]),e=new Ji({props:u}),Le.push(()=>ot(e,"codeBlockOptions",s)),Le.push(()=>ot(e,"showSettings",l)),{c(){gt(e.$$.fragment)},m(f,d){dt(e,f,d),i=!0},p(f,d){let p={};!n&&d&1&&(n=!0,p.codeBlockOptions=f[0],it(()=>n=!1)),!r&&d&2&&(r=!0,p.showSettings=f[1],it(()=>r=!1)),e.$set(p)},i(f){i||(Q(e.$$.fragment,f),i=!0)},o(f){ue(e.$$.fragment,f),i=!1},d(f){ut(e,f)}}}function gw(t){let e,n,r,i,s;function l(p){t[12](p)}function u(p){t[13](p)}function f(p){t[14](p)}let d={};return t[4]!==void 0&&(d.dateOffset=t[4]),t[5]!==void 0&&(d.date=t[5]),t[3]!==void 0&&(d.startDate=t[3]),e=new Zu({props:d}),Le.push(()=>ot(e,"dateOffset",l)),Le.push(()=>ot(e,"date",u)),Le.push(()=>ot(e,"startDate",f)),{c(){gt(e.$$.fragment)},m(p,h){dt(e,p,h),s=!0},p(p,h){let g={};!n&&h&16&&(n=!0,g.dateOffset=p[4],it(()=>n=!1)),!r&&h&32&&(r=!0,g.date=p[5],it(()=>r=!1)),!i&&h&8&&(i=!0,g.startDate=p[3],it(()=>i=!1)),e.$set(g)},i(p){s||(Q(e.$$.fragment,p),s=!0)},o(p){ue(e.$$.fragment,p),s=!1},d(p){ut(e,p)}}}function lM(t){let e,n,r;return{c(){e=P("div"),n=J(),r=P("div"),E(e,"class","gcal-stop-overflow svelte-1txo2e7"),E(r,"class","gcal-stop-overflow svelte-1txo2e7")},m(i,s){z(i,e,s),z(i,n,s),z(i,r,s)},p:pe,d(i){i&&W(e),i&&W(n),i&&W(r)}}}function aM(t){let e,n,r,i=t[8](t[5]),s=[];for(let l=0;l<i.length;l+=1)s[l]=mw(pw(t,i,l));return{c(){e=P("div"),n=J();for(let l=0;l<s.length;l+=1)s[l].c();r=Kt(),E(e,"class","gcal-stop-overflow svelte-1txo2e7")},m(l,u){z(l,e,u),z(l,n,u);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(l,u);z(l,r,u)},p(l,u){if(u&288){i=l[8](l[5]);let f;for(f=0;f<i.length;f+=1){let d=pw(l,i,f);s[f]?s[f].p(d,u):(s[f]=mw(d),s[f].c(),s[f].m(r.parentNode,r))}for(;f<s.length;f+=1)s[f].d(1);s.length=i.length}},d(l){l&&W(e),l&&W(n),Nt(s,l),l&&W(r)}}}function mw(t){let e,n,r=t[21].format("ddd")+"",i,s,l,u=t[21].format("D")+"",f,d;return{c(){e=P("div"),n=P("span"),i=Ie(r),s=J(),l=P("span"),f=Ie(u),d=J(),E(n,"class","gcal-dayofweek svelte-1txo2e7"),E(l,"class","gcal-day svelte-1txo2e7"),E(e,"class","gcal-day-container svelte-1txo2e7")},m(p,h){z(p,e,h),N(e,n),N(n,i),N(e,s),N(e,l),N(l,f),N(e,d)},p(p,h){h&32&&r!==(r=p[21].format("ddd")+"")&&xe(i,r),h&32&&u!==(u=p[21].format("D")+"")&&xe(f,u)},d(p){p&&W(e)}}}function _w(t){let e,n,r,i,s=t[8](t[5]),l=[];for(let f=0;f<s.length;f+=1)l[f]=vw(dw(t,s,f));let u=f=>ue(l[f],1,1,()=>{l[f]=null});return{c(){e=P("div"),n=J();for(let f=0;f<l.length;f+=1)l[f].c();r=Kt(),E(e,"class","gcal-stop-overflow svelte-1txo2e7")},m(f,d){z(f,e,d),z(f,n,d);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(f,d);z(f,r,d),i=!0},p(f,d){if(d&480){s=f[8](f[5]);let p;for(p=0;p<s.length;p+=1){let h=dw(f,s,p);l[p]?(l[p].p(h,d),Q(l[p],1)):(l[p]=vw(h),l[p].c(),Q(l[p],1),l[p].m(r.parentNode,r))}for(et(),p=s.length;p<l.length;p+=1)u(p);tt()}},i(f){if(!i){for(let d=0;d<s.length;d+=1)Q(l[d]);i=!0}},o(f){l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)ue(l[d]);i=!1},d(f){f&&W(e),f&&W(n),Nt(l,f),f&&W(r)}}}function vw(t){let e,n,r,i;function s(...l){return t[15](t[21],...l)}return n=new fw({props:{goToEvent:t[7],events:t[6].filter(s)}}),{c(){e=P("div"),gt(n.$$.fragment),r=J(),E(e,"class","gcal-stop-overflow svelte-1txo2e7")},m(l,u){z(l,e,u),dt(n,e,null),N(e,r),i=!0},p(l,u){t=l;let f={};u&96&&(f.events=t[6].filter(s)),n.$set(f)},i(l){i||(Q(n.$$.fragment,l),i=!0)},o(l){ue(n.$$.fragment,l),i=!1},d(l){l&&W(e),ut(n)}}}function ww(t){let e,n,r,i,s;function l(...d){return t[16](t[21],...d)}function u(d){t[17](d)}let f={events:t[6].filter(l),hourRange:t[0].hourRange,goToEvent:t[7]};return t[5]!==void 0&&(f.date=t[5]),n=new tw({props:f}),Le.push(()=>ot(n,"date",u)),{c(){e=P("div"),gt(n.$$.fragment),i=J(),E(e,"class","gcal-stop-overflow svelte-1txo2e7")},m(d,p){z(d,e,p),dt(n,e,null),N(e,i),s=!0},p(d,p){t=d;let h={};p&96&&(h.events=t[6].filter(l)),p&1&&(h.hourRange=t[0].hourRange),!r&&p&32&&(r=!0,h.date=t[5],it(()=>r=!1)),n.$set(h)},i(d){s||(Q(n.$$.fragment,d),s=!0)},o(d){ue(n.$$.fragment,d),s=!1},d(d){d&&W(e),ut(n)}}}function uM(t){let e,n,r,i,s,l,u,f,d,p=`auto repeat(${t[0].timespan}, minmax(0, 1fr))`,h,g=t[2]&&hw(t),_=t[0].navigation&&t[5]&&gw(t);function v(I,x){return I[0].timespan>1?aM:lM}let b=v(t,-1),C=b(t),y=t[0].showAllDay&&_w(t);f=new ow({props:{hourRange:t[0].hourRange}});let O=t[8](t[5]),T=[];for(let I=0;I<O.length;I+=1)T[I]=ww(cw(t,O,I));let R=I=>ue(T[I],1,1,()=>{T[I]=null});return{c(){g&&g.c(),e=J(),n=P("div"),_&&_.c(),r=J(),i=P("div"),C.c(),s=J(),y&&y.c(),l=J(),u=P("div"),gt(f.$$.fragment),d=J();for(let I=0;I<T.length;I+=1)T[I].c();E(u,"class","gcal-stop-overflow svelte-1txo2e7"),E(i,"class","gcal-week-container svelte-1txo2e7"),ge(i,"grid-template-columns",p),ge(n,"padding-left","10px")},m(I,x){g&&g.m(I,x),z(I,e,x),z(I,n,x),_&&_.m(n,null),N(n,r),N(n,i),C.m(i,null),N(i,s),y&&y.m(i,null),N(i,l),N(i,u),dt(f,u,null),N(i,d);for(let U=0;U<T.length;U+=1)T[U]&&T[U].m(i,null);h=!0},p(I,[x]){I[2]?g?(g.p(I,x),x&4&&Q(g,1)):(g=hw(I),g.c(),Q(g,1),g.m(e.parentNode,e)):g&&(et(),ue(g,1,1,()=>{g=null}),tt()),I[0].navigation&&I[5]?_?(_.p(I,x),x&33&&Q(_,1)):(_=gw(I),_.c(),Q(_,1),_.m(n,r)):_&&(et(),ue(_,1,1,()=>{_=null}),tt()),b===(b=v(I,x))&&C?C.p(I,x):(C.d(1),C=b(I),C&&(C.c(),C.m(i,s))),I[0].showAllDay?y?(y.p(I,x),x&1&&Q(y,1)):(y=_w(I),y.c(),Q(y,1),y.m(i,l)):y&&(et(),ue(y,1,1,()=>{y=null}),tt());let U={};if(x&1&&(U.hourRange=I[0].hourRange),f.$set(U),x&481){O=I[8](I[5]);let D;for(D=0;D<O.length;D+=1){let Y=cw(I,O,D);T[D]?(T[D].p(Y,x),Q(T[D],1)):(T[D]=ww(Y),T[D].c(),Q(T[D],1),T[D].m(i,null))}for(et(),D=O.length;D<T.length;D+=1)R(D);tt()}x&1&&p!==(p=`auto repeat(${I[0].timespan}, minmax(0, 1fr))`)&&ge(i,"grid-template-columns",p)},i(I){if(!h){Q(g),Q(_),Q(y),Q(f.$$.fragment,I);for(let x=0;x<O.length;x+=1)Q(T[x]);h=!0}},o(I){ue(g),ue(_),ue(y),ue(f.$$.fragment,I),T=T.filter(Boolean);for(let x=0;x<T.length;x+=1)ue(T[x]);h=!1},d(I){g&&g.d(I),I&&W(e),I&&W(n),_&&_.d(),C.d(),y&&y.d(),ut(f),Nt(T,I)}}}function fM(t,e,n){let{codeBlockOptions:r}=e,{isObsidianView:i=!1}=e,{showSettings:s=!1}=e,l=r.date?window.moment(r.date):window.moment(),u=0,f,d=!1,p=[],h,g=D=>Dt(void 0,void 0,void 0,function*(){if(!(D==null?void 0:D.isValid())){d=!1;return}let Y=yield Wt({startDate:D,endDate:D.clone().add(r.timespan,"days"),include:r.include,exclude:r.exclude});JSON.stringify(Y)!=JSON.stringify(p)&&n(6,p=Y)}),_=D=>Dt(void 0,void 0,void 0,function*(){d||(d=!0,yield g(D),d=!1)}),v=(D,Y)=>{Y.shiftKey?window.open(D.htmlLink):new Er(D,()=>{xr(),_(f)}).open()},b=D=>{let Y=[];for(let ne=0;ne<r.timespan;ne++)Y=[...Y,D.clone().add(ne,"days")];return Y};No(()=>{clearInterval(h)});function C(D){r=D,n(0,r)}function y(D){s=D,n(1,s)}function O(D){u=D,n(4,u)}function T(D){f=D,n(5,f),n(0,r),n(3,l),n(4,u),n(9,h)}function R(D){l=D,n(3,l),n(0,r),n(4,u),n(9,h),n(5,f)}let I=(D,Y)=>Y.start.date&&window.moment(Y.start.date).isSame(D,"day"),x=(D,Y)=>Y.start.dateTime&&window.moment(Y.start.dateTime).isSame(D,"day");function U(D){f=D,n(5,f),n(0,r),n(3,l),n(4,u),n(9,h)}return t.$$set=D=>{"codeBlockOptions"in D&&n(0,r=D.codeBlockOptions),"isObsidianView"in D&&n(2,i=D.isObsidianView),"showSettings"in D&&n(1,s=D.showSettings)},t.$$.update=()=>{if(t.$$.dirty&569){e:n(3,l=r.date?window.moment(r.date).add(r.dayOffset,"days"):window.moment().add(r.dayOffset,"days")),n(5,f=r.navigation?l.clone().local().add(u,"days"):l),h&&clearInterval(h),n(9,h=setInterval(()=>_(f),5e3)),_(f)}},[r,s,i,l,u,f,p,v,b,h,C,y,O,T,R,I,x,U]}var yw=class extends ze{constructor(e){super();Ue(this,e,fM,uM,We,{codeBlockOptions:0,isObsidianView:2,showSettings:1},sM)}},qo=yw;var Vo="google-calendar-view-day",Ql=class extends bw.ItemView{constructor(e,n=window.moment()){super(e);this.showSettings=!1;this.setDate=e=>{this.startDate=e,this.onClose(),this.onOpen()};this.startDate=n}getViewType(){return Vo}getDisplayText(){return"Timeline View"}getIcon(){return"calendar-with-checkmark"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.timeline.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.timeline.$set({showSettings:this.showSettings})})})}onOpen(){return K(this,null,function*(){let n=me.getInstance().settings.viewSettings.day;n.timespan=1,this.timeline=new qo({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return K(this,null,function*(){this.timeline.$destroy()})}};var Mw=Ye(require("obsidian"));function cM(t){yt(t,"svelte-tlsedz",`.gcal-schedule-day-container.svelte-tlsedz{display:flex;flex-direction:row;align-items:flex-start;border-bottom:1px solid gray;margin:2px 0px;padding:2px 0px;width:100%
	}.gcal-schedule-date-display.svelte-tlsedz{display:flex;flex-direction:row;align-items:center;gap:5px;padding:0px}.gcal-schedule-day-circle.svelte-tlsedz{border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;display:inline-block;border:solid 1px gray;min-height:40px;min-width:40px;width:50px;height:50px;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center}.today.svelte-tlsedz{color:white;background:#4285f4;text-decoration:none}.gcal-schedule-month-text.svelte-tlsedz{font-size:small}.gcal-schedule-day-number.svelte-tlsedz{font-size:large;font-weight:700}.gcal-schedule-day-text.svelte-tlsedz{font-size:medium}.gcal-schedule-event-container.svelte-tlsedz{display:flex;flex-direction:column;overflow:hidden;width:100%}.gcal-schedule-event.svelte-tlsedz{display:flex;padding:5px;border-radius:10px;cursor:pointer}.gcal-schedule-event.svelte-tlsedz:hover{background-color:rgba(128, 128, 128, 0.129)}.gcal-schedule-event-info.svelte-tlsedz{display:flex;align-items:center}.gcal-schedule-circle-container-recurring.svelte-tlsedz,.gcal-schedule-circle-container.svelte-tlsedz{position:relative;display:flex;min-width:30px;height:30px;align-items:center;justify-content:center}.gcal-schedule-circle-container-recurring.svelte-tlsedz::after{content:"\u21BA";position:absolute;width:30px;height:30px;text-align:center;line-height:30px;font-size:30px;color:rgb(164, 164, 164);top:1.5px;white-space:nowrap}.gcal-schedule-event-circle.svelte-tlsedz{width:10px;min-width:10px;height:10px;border-radius:50%}.gcal-schedule-time-container.svelte-tlsedz{min-width:150px;padding-right:1em}.gcal-schedule-event-title-container.svelte-tlsedz{display:flex;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.gcal-schedule-event-title.svelte-tlsedz{font-size:medium;font-weight:400;overflow:hidden;text-overflow:ellipsis}.breakLine.svelte-tlsedz{flex-direction:column;margin-bottom:10px}`)}function kw(t,e,n){let r=t.slice();return r[30]=e[n][0],r[9]=e[n][1],r}function Ew(t,e,n){let r=t.slice();return r[33]=e[n],r}function Cw(t){let e,n,r,i;function s(f){t[16](f)}function l(f){t[17](f)}let u={};return t[0]!==void 0&&(u.codeBlockOptions=t[0]),t[1]!==void 0&&(u.showSettings=t[1]),e=new Ji({props:u}),Le.push(()=>ot(e,"codeBlockOptions",s)),Le.push(()=>ot(e,"showSettings",l)),{c(){gt(e.$$.fragment)},m(f,d){dt(e,f,d),i=!0},p(f,d){let p={};!n&&d[0]&1&&(n=!0,p.codeBlockOptions=f[0],it(()=>n=!1)),!r&&d[0]&2&&(r=!0,p.showSettings=f[1],it(()=>r=!1)),e.$set(p)},i(f){i||(Q(e.$$.fragment,f),i=!0)},o(f){ue(e.$$.fragment,f),i=!1},d(f){ut(e,f)}}}function Sw(t){let e,n,r,i,s;function l(p){t[18](p)}function u(p){t[19](p)}function f(p){t[20](p)}let d={};return t[4]!==void 0&&(d.dateOffset=t[4]),t[5]!==void 0&&(d.date=t[5]),t[3]!==void 0&&(d.startDate=t[3]),e=new Zu({props:d}),Le.push(()=>ot(e,"dateOffset",l)),Le.push(()=>ot(e,"date",u)),Le.push(()=>ot(e,"startDate",f)),{c(){gt(e.$$.fragment)},m(p,h){dt(e,p,h),s=!0},p(p,h){let g={};!n&&h[0]&16&&(n=!0,g.dateOffset=p[4],it(()=>n=!1)),!r&&h[0]&32&&(r=!0,g.date=p[5],it(()=>r=!1)),!i&&h[0]&8&&(i=!0,g.startDate=p[3],it(()=>i=!1)),e.$set(g)},i(p){s||(Q(e.$$.fragment,p),s=!0)},o(p){ue(e.$$.fragment,p),s=!1},d(p){ut(e,p)}}}function Tw(t){let e,n,r,i,s,l,u,f,d=t[10](t[33],t[7])+"",p,h,g,_,v=t[33].summary+"",b,C,y,O,T;function R(...x){return t[23](t[33],...x)}function I(...x){return t[24](t[33],...x)}return{c(){e=P("div"),n=P("div"),r=P("div"),i=P("div"),l=J(),u=P("div"),f=P("span"),p=Ie(d),h=J(),g=P("div"),_=P("span"),b=Ie(v),C=J(),E(i,"class","gcal-schedule-event-circle svelte-tlsedz"),ge(i,"background",Ti(t[33])),E(r,"class",s=""+(fn(t[33].recurringEventId?"gcal-schedule-circle-container-recurring":"gcal-schedule-circle-container")+" svelte-tlsedz")),E(u,"class","gcal-schedule-time-container svelte-tlsedz"),E(n,"class","gcal-schedule-event-info svelte-tlsedz"),E(_,"class","gcal-schedule-event-title svelte-tlsedz"),E(g,"class","gcal-schedule-event-title-container svelte-tlsedz"),E(e,"class",y=""+(fn(t[8]<200?"gcal-schedule-event breakLine":"gcal-schedule-event")+" svelte-tlsedz"))},m(x,U){z(x,e,U),N(e,n),N(n,r),N(r,i),N(n,l),N(n,u),N(u,f),N(f,p),N(e,h),N(e,g),N(g,_),N(_,b),N(e,C),O||(T=[X(e,"click",R),X(e,"keypress",I)],O=!0)},p(x,U){t=x,U[0]&64&&ge(i,"background",Ti(t[33])),U[0]&64&&s!==(s=""+(fn(t[33].recurringEventId?"gcal-schedule-circle-container-recurring":"gcal-schedule-circle-container")+" svelte-tlsedz"))&&E(r,"class",s),U[0]&192&&d!==(d=t[10](t[33],t[7])+"")&&xe(p,d),U[0]&64&&v!==(v=t[33].summary+"")&&xe(b,v),U[0]&256&&y!==(y=""+(fn(t[8]<200?"gcal-schedule-event breakLine":"gcal-schedule-event")+" svelte-tlsedz"))&&E(e,"class",y)},d(x){x&&W(e),O=!1,Ge(T)}}}function Dw(t){let e,n,r,i,s=t[30].slice(3,6)+"",l,u,f,d=t[30].slice(0,2)+"",p,h,g,_,v=t[30].slice(7)+"",b,C,y,O,T,R,I;function x(){return t[21](t[9])}function U(){return t[22](t[9])}let D=t[9],Y=[];for(let ne=0;ne<D.length;ne+=1)Y[ne]=Tw(Ew(t,D,ne));return{c(){e=P("div"),n=P("div"),r=P("div"),i=P("span"),l=Ie(s),u=J(),f=P("span"),p=Ie(d),g=J(),_=P("span"),b=Ie(v),C=J(),y=P("div");for(let ne=0;ne<Y.length;ne+=1)Y[ne].c();O=J(),E(i,"class","gcal-schedule-month-text svelte-tlsedz"),E(f,"class","gcal-schedule-day-number svelte-tlsedz"),E(r,"class",h=""+(fn(t[13](t[9][0])?"gcal-schedule-day-circle today":"gcal-schedule-day-circle")+" svelte-tlsedz")),ge(r,"display","flex"),ge(r,"flex-direction","column"),E(_,"class","gcal-schedule-day-text svelte-tlsedz"),E(n,"class","gcal-schedule-date-display svelte-tlsedz"),E(y,"class","gcal-schedule-event-container svelte-tlsedz"),E(e,"class",T=""+(fn(t[8]<550?"gcal-schedule-day-container breakLine":"gcal-schedule-day-container")+" svelte-tlsedz"))},m(ne,j){z(ne,e,j),N(e,n),N(n,r),N(r,i),N(i,l),N(r,u),N(r,f),N(f,p),N(n,g),N(n,_),N(_,b),N(e,C),N(e,y);for(let oe=0;oe<Y.length;oe+=1)Y[oe]&&Y[oe].m(y,null);N(e,O),R||(I=[X(r,"click",x),X(r,"keypress",U),X(_,"click",t[14]),X(_,"keypress",t[14])],R=!0)},p(ne,j){if(t=ne,j[0]&64&&s!==(s=t[30].slice(3,6)+"")&&xe(l,s),j[0]&64&&d!==(d=t[30].slice(0,2)+"")&&xe(p,d),j[0]&64&&h!==(h=""+(fn(t[13](t[9][0])?"gcal-schedule-day-circle today":"gcal-schedule-day-circle")+" svelte-tlsedz"))&&E(r,"class",h),j[0]&64&&v!==(v=t[30].slice(7)+"")&&xe(b,v),j[0]&3520){D=t[9];let oe;for(oe=0;oe<D.length;oe+=1){let ce=Ew(t,D,oe);Y[oe]?Y[oe].p(ce,j):(Y[oe]=Tw(ce),Y[oe].c(),Y[oe].m(y,null))}for(;oe<Y.length;oe+=1)Y[oe].d(1);Y.length=D.length}j[0]&256&&T!==(T=""+(fn(t[8]<550?"gcal-schedule-day-container breakLine":"gcal-schedule-day-container")+" svelte-tlsedz"))&&E(e,"class",T)},d(ne){ne&&W(e),Nt(Y,ne),R=!1,Ge(I)}}}function dM(t){let e,n,r,i,s,l=t[2]&&Cw(t),u=t[0].navigation&&t[5]&&Sw(t),f=[...t[6]],d=[];for(let p=0;p<f.length;p+=1)d[p]=Dw(kw(t,f,p));return{c(){l&&l.c(),e=J(),n=P("div"),u&&u.c(),r=J();for(let p=0;p<d.length;p+=1)d[p].c();E(n,"class","gcal-schedule-container"),Sn(()=>t[25].call(n))},m(p,h){l&&l.m(p,h),z(p,e,h),z(p,n,h),u&&u.m(n,null),N(n,r);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(n,null);i=Um(n,t[25].bind(n)),s=!0},p(p,h){if(p[2]?l?(l.p(p,h),h[0]&4&&Q(l,1)):(l=Cw(p),l.c(),Q(l,1),l.m(e.parentNode,e)):l&&(et(),ue(l,1,1,()=>{l=null}),tt()),p[0].navigation&&p[5]?u?(u.p(p,h),h[0]&33&&Q(u,1)):(u=Sw(p),u.c(),Q(u,1),u.m(n,r)):u&&(et(),ue(u,1,1,()=>{u=null}),tt()),h[0]&32192){f=[...p[6]];let g;for(g=0;g<f.length;g+=1){let _=kw(p,f,g);d[g]?d[g].p(_,h):(d[g]=Dw(_),d[g].c(),d[g].m(n,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=f.length}},i(p){s||(Q(l),Q(u),s=!0)},o(p){ue(l),ue(u),s=!1},d(p){l&&l.d(p),p&&W(e),p&&W(n),u&&u.d(),Nt(d,p),i()}}}function pM(t,e,n){let{codeBlockOptions:r}=e,{isObsidianView:i=!1}=e,{showSettings:s=!1}=e,l=me.getInstance(),u=r.date?window.moment(r.date):window.moment(),f=0,d,p=!1,h=[],g,_=new Map,v=l.settings.timelineHourFormat,b,C=G=>Dt(void 0,void 0,void 0,function*(){if(p)return;if(!(G==null?void 0:G.isValid())){p=!1;return}n(7,v=l.settings.timelineHourFormat);let te=yield Wt({startDate:G,endDate:G.clone().add(r.timespan-1,"day"),include:r.include,exclude:r.exclude});if(te=te.filter(ae=>{if(ae.start.date)return r.showAllDay;let fe=window.moment(ae.start.dateTime),ee=window.moment(ae.end.dateTime),se=fe.minutes()>0?fe.hour()+1:fe.hour(),ye=ee.minutes()>0?ee.hour()+1:ee.hour();return se>=r.hourRange[0]&&se<=r.hourRange[1]||ye>=r.hourRange[0]&&ye<=r.hourRange[1]||se<r.hourRange[0]&&ye>r.hourRange[1]}),JSON.stringify(te)==JSON.stringify(h)){p=!1;return}_.clear(),n(9,h=te),h.forEach(ae=>{let fe=ae.start.date?window.moment(ae.start.date).format("DD MMM, ddd"):window.moment(ae.start.dateTime).format("DD MMM, ddd");_.has(fe)?_.get(fe).push(ae):_.set(fe,[ae])}),n(6,_)}),y=(G,te)=>{switch(te){case 0:return G.format("H:mm");case 1:return G.format("HH:mm");case 2:return G.format("h:mm");case 3:return G.format("hh:mm");case 4:return G.format("h:mm A");case 5:return G.format("hh:mm A")}},O=(G,te)=>{if(G.start.date)return"All day";{let ae=y(window.moment(G.start.dateTime),te),fe=y(window.moment(G.end.dateTime),te);return`${ae}-${fe}`}},T=(G,te)=>{te.shiftKey?window.open(G.htmlLink):new Er(G,()=>{xr(),C(d)}).open()},R=G=>Dt(void 0,void 0,void 0,function*(){let te=window.moment(G.start.date||G.start.dateTime),ae=yield Wt({startDate:te});new Br(ae,"details",te,!1,()=>{xr(),C(d)}).open()}),I=G=>{let te=window.moment(G.start.date||G.start.dateTime);return window.moment().local().isSame(te,"day")};No(()=>{clearInterval(g)});let x=()=>{n(7,v+=1),v>5&&n(7,v=0),l.settings.timelineHourFormat=v,l.saveSettings()};function U(G){r=G,n(0,r)}function D(G){s=G,n(1,s)}function Y(G){f=G,n(4,f)}function ne(G){d=G,n(5,d),n(0,r),n(3,u),n(4,f),n(15,g)}function j(G){u=G,n(3,u),n(0,r),n(4,f),n(15,g),n(5,d)}let oe=G=>R(G[0]),ce=G=>R(G[0]),Te=(G,te)=>T(G,te),F=(G,te)=>T(G,te);function Z(){b=this.clientWidth,n(8,b)}return t.$$set=G=>{"codeBlockOptions"in G&&n(0,r=G.codeBlockOptions),"isObsidianView"in G&&n(2,i=G.isObsidianView),"showSettings"in G&&n(1,s=G.showSettings)},t.$$.update=()=>{if(t.$$.dirty[0]&32825){e:n(3,u=r.date?window.moment(r.date).add(r.dayOffset,"days"):window.moment().add(r.dayOffset,"days")),n(5,d=r.navigation?u.clone().local().add(f,"days"):u),g&&clearInterval(g),n(15,g=setInterval(()=>C(d),5e3)),C(d)}},[r,s,i,u,f,d,_,v,b,h,O,T,R,I,x,g,U,D,Y,ne,j,oe,ce,Te,F,Z]}var Ow=class extends ze{constructor(e){super();Ue(this,e,pM,dM,We,{codeBlockOptions:0,isObsidianView:2,showSettings:1},cM,[-1,-1])}},Xu=Ow;var ro="google-calendar-view-schedule",Us=class extends Mw.ItemView{constructor(e,n=window.moment()){super(e);this.showSettings=!1;this.setDate=e=>{this.startDate=e,this.onClose(),this.onOpen()};this.startDate=n}getViewType(){return ro}getDisplayText(){return"Schedule View"}getIcon(){return"calendar-with-checkmark"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.calendar.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.calendar.$set({showSettings:this.showSettings})})})}onOpen(){return K(this,null,function*(){let n=me.getInstance().settings.viewSettings.schedule;this.calendar=new Xu({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return K(this,null,function*(){this.calendar.$destroy()})}};var Aw=Ye(require("obsidian"));var io="google-calendar-view-week",Jl=class extends Aw.ItemView{constructor(e,n=window.moment()){super(e);this.showSettings=!1;this.setDate=e=>{this.startDate=e,this.onClose(),this.onOpen()};this.startDate=n}getViewType(){return io}getDisplayText(){return"Week View"}getIcon(){return"calendar-with-checkmark"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.calendar.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.calendar.$set({showSettings:this.showSettings})})})}onOpen(){return K(this,null,function*(){let n=me.getInstance().settings.viewSettings.week;this.calendar=new qo({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return K(this,null,function*(){this.calendar.$destroy()})}};function Nw(t){let e,n,r,i;function s(f){t[14](f)}function l(f){t[15](f)}let u={};return t[0]!==void 0&&(u.codeBlockOptions=t[0]),t[1]!==void 0&&(u.showSettings=t[1]),e=new Ji({props:u}),Le.push(()=>ot(e,"codeBlockOptions",s)),Le.push(()=>ot(e,"showSettings",l)),{c(){gt(e.$$.fragment)},m(f,d){dt(e,f,d),i=!0},p(f,d){let p={};!n&&d&1&&(n=!0,p.codeBlockOptions=f[0],it(()=>n=!1)),!r&&d&2&&(r=!0,p.showSettings=f[1],it(()=>r=!1)),e.$set(p)},i(f){i||(Q(e.$$.fragment,f),i=!0)},o(f){ue(e.$$.fragment,f),i=!1},d(f){ut(e,f)}}}function hM(t){let e,n,r,i=`${t[0].width}px`,s=`${t[0].height}px`,l,u=[_M,mM],f=[];function d(p,h){return p[4]?0:1}return n=d(t,-1),r=f[n]=u[n](t),{c(){e=P("div"),r.c(),E(e,"class","gcal-calendar-container"),ge(e,"width",i),ge(e,"height",s)},m(p,h){z(p,e,h),f[n].m(e,null),l=!0},p(p,h){let g=n;n=d(p,h),n===g?f[n].p(p,h):(et(),ue(f[g],1,1,()=>{f[g]=null}),tt(),r=f[n],r?r.p(p,h):(r=f[n]=u[n](p),r.c()),Q(r,1),r.m(e,null)),h&1&&i!==(i=`${p[0].width}px`)&&ge(e,"width",i),h&1&&s!==(s=`${p[0].height}px`)&&ge(e,"height",s)},i(p){l||(Q(r),l=!0)},o(p){ue(r),l=!1},d(p){p&&W(e),f[n].d()}}}function gM(t){let e,n,r,i,s=[wM,vM],l=[];function u(f,d){return f[4]?0:1}return n=u(t,-1),r=l[n]=s[n](t),{c(){e=P("div"),r.c(),E(e,"class","gcal-calendar-container")},m(f,d){z(f,e,d),l[n].m(e,null),i=!0},p(f,d){let p=n;n=u(f,d),n===p?l[n].p(f,d):(et(),ue(l[p],1,1,()=>{l[p]=null}),tt(),r=l[n],r?r.p(f,d):(r=l[n]=s[n](f),r.c()),Q(r,1),r.m(e,null))},i(f){i||(Q(r),i=!0)},o(f){ue(r),i=!1},d(f){f&&W(e),l[n].d()}}}function mM(t){let e,n,r,i,s,l;function u(h){t[19](h)}function f(h){t[20](h)}function d(h){t[21](h)}let p={showWeekNums:!1,onClickDay:t[8]};return t[5]!==void 0&&(p.sources=t[5]),t[3]!==void 0&&(p.displayedMonth=t[3]),t[6]!==void 0&&(p.today=t[6]),n=new Vu({props:p}),Le.push(()=>ot(n,"sources",u)),Le.push(()=>ot(n,"displayedMonth",f)),Le.push(()=>ot(n,"today",d)),{c(){e=P("div"),gt(n.$$.fragment),ge(e,"--theme-color",t[7].settings.dailyNoteDotColor)},m(h,g){z(h,e,g),dt(n,e,null),l=!0},p(h,g){let _={};!r&&g&32&&(r=!0,_.sources=h[5],it(()=>r=!1)),!i&&g&8&&(i=!0,_.displayedMonth=h[3],it(()=>i=!1)),!s&&g&64&&(s=!0,_.today=h[6],it(()=>s=!1)),n.$set(_),(!l||g&128)&&ge(e,"--theme-color",h[7].settings.dailyNoteDotColor)},i(h){l||(Q(n.$$.fragment,h),l=!0)},o(h){ue(n.$$.fragment,h),l=!1},d(h){h&&W(e),ut(n)}}}function _M(t){let e;return{c(){e=P("p"),e.textContent="Loading..."},m(n,r){z(n,e,r)},p:pe,i:pe,o:pe,d(n){n&&W(e)}}}function vM(t){let e,n,r,i,s,l;function u(h){t[16](h)}function f(h){t[17](h)}function d(h){t[18](h)}let p={showWeekNums:t[7].settings.useWeeklyNotes,onClickDay:t[8],onClickWeek:t[9],onContextMenuDay:t[10],onContextMenuWeek:t[11]};return t[5]!==void 0&&(p.sources=t[5]),t[3]!==void 0&&(p.displayedMonth=t[3]),t[6]!==void 0&&(p.today=t[6]),n=new Vu({props:p}),Le.push(()=>ot(n,"sources",u)),Le.push(()=>ot(n,"displayedMonth",f)),Le.push(()=>ot(n,"today",d)),{c(){e=P("div"),gt(n.$$.fragment),ge(e,"--daily-dot-color",t[7].settings.dailyNoteDotColor)},m(h,g){z(h,e,g),dt(n,e,null),l=!0},p(h,g){let _={};g&128&&(_.showWeekNums=h[7].settings.useWeeklyNotes),!r&&g&32&&(r=!0,_.sources=h[5],it(()=>r=!1)),!i&&g&8&&(i=!0,_.displayedMonth=h[3],it(()=>i=!1)),!s&&g&64&&(s=!0,_.today=h[6],it(()=>s=!1)),n.$set(_),(!l||g&128)&&ge(e,"--daily-dot-color",h[7].settings.dailyNoteDotColor)},i(h){l||(Q(n.$$.fragment,h),l=!0)},o(h){ue(n.$$.fragment,h),l=!1},d(h){h&&W(e),ut(n)}}}function wM(t){let e;return{c(){e=P("p"),e.textContent="Loading..."},m(n,r){z(n,e,r)},p:pe,i:pe,o:pe,d(n){n&&W(e)}}}function yM(t){let e,n,r,i,s,l=t[2]&&Nw(t),u=[gM,hM],f=[];function d(p,h){return!p[0].width||!p[0].height?0:1}return n=d(t,-1),r=f[n]=u[n](t),{c(){l&&l.c(),e=J(),r.c(),i=Kt()},m(p,h){l&&l.m(p,h),z(p,e,h),f[n].m(p,h),z(p,i,h),s=!0},p(p,[h]){p[2]?l?(l.p(p,h),h&4&&Q(l,1)):(l=Nw(p),l.c(),Q(l,1),l.m(e.parentNode,e)):l&&(et(),ue(l,1,1,()=>{l=null}),tt());let g=n;n=d(p,h),n===g?f[n].p(p,h):(et(),ue(f[g],1,1,()=>{f[g]=null}),tt(),r=f[n],r?r.p(p,h):(r=f[n]=u[n](p),r.c()),Q(r,1),r.m(i.parentNode,i))},i(p){s||(Q(l),Q(r),s=!0)},o(p){ue(l),ue(r),s=!1},d(p){l&&l.d(p),p&&W(e),f[n].d(p),p&&W(i)}}}function bM(t,e,n){let{codeBlockOptions:r}=e,{isObsidianView:i=!1}=e,{showSettings:s=!1}=e,l,u=uu(),f,d,p,h=!0,g,_=window.moment(),v=me.getInstance();function b(F){return Dt(this,void 0,void 0,function*(){n(7,v);let Z=F.clone().startOf("month").subtract(6,"days"),G=F.clone().endOf("month").add(12,"days"),te=yield Wt({startDate:Z,endDate:G,include:r.include,exclude:r.exclude});if(Qu.default.isEqual(te,p)&&Qu.default.isEqual(u,uu()))return;u=uu();let ae=Qu.default.groupBy(te,ee=>{var se;return window.moment((se=ee.start.date)!==null&&se!==void 0?se:ee.start.dateTime).startOf("day").format()});p=te;let fe={getWeeklyMetadata:ee=>Dt(this,void 0,void 0,function*(){let se=[];return v.settings.activateDailyNoteAddon&&v.settings.useWeeklyNotes&&Il(ee)&&(se=[{isFilled:!0,className:"googleCalendarDailyDot",color:"default"}]),{dataAttributes:{amount:se.length+""},dots:se}}),getDailyMetadata:ee=>Dt(this,void 0,void 0,function*(){let se=[];v.settings.activateDailyNoteAddon&&Mo(ee)&&(se=[{isFilled:!0,className:"googleCalendarDailyDot",color:"default"}]);let ye=ae[ee.startOf("day").format()];return ye?(se=[...se,...Array(ye.length).fill({isFilled:!0,className:"googleCalendarDot",color:"default"})],{dataAttributes:{amount:ye.length+""},dots:se}):{dataAttributes:{amount:se.length+""},dots:se}})};n(4,h=!1),n(5,g=null),n(5,g=[fe])})}let C=(F,Z)=>F.filter(G=>G.start.date?window.moment(G.start.date).isSame(Z,"day"):window.moment(G.start.dateTime).isSame(Z,"day")),y=(F,Z)=>{new Br(C(p,F),"details",F,!1,()=>{xr(),n(3,l),n(0,r),n(12,f),n(13,d)}).open()},O=(F,Z)=>Dt(void 0,void 0,void 0,function*(){let G=Il(F);G||(G=yield(0,Iw.createWeeklyNote)(F)),yield app.workspace.getLeaf(!1).openFile(G,{active:!0})}),T=(F,Z,G)=>Z.ctrlKey?(Si({date:F,openInNewTab:!0,type:G}),!1):Z.shiftKey?(Si({date:F,openInNewTab:!1,type:G}),!1):Z.altKey&&$l.Platform.isDesktop?(ud({date:F,type:G}),!1):!0,R=(F,Z)=>{let G=Z==="daily"?Mo(F):Il(F),te=Z.charAt(0).toUpperCase()+Z.slice(1),ae=new $l.Menu;return G?(ae.addItem(fe=>{fe.setTitle(`Open ${te} Note`),fe.setIcon("file"),fe.onClick(()=>{Si({date:F,openInNewTab:!1,type:Z})})}),ae.addItem(fe=>{fe.setTitle(`Open ${te} Note Split Right`),fe.setIcon("vertical-split"),fe.onClick(()=>{Si({date:F,openInNewTab:!0,openToRight:"horizontal",type:Z})})}),ae.addItem(fe=>{fe.setTitle(`Open ${te} Note Split Down`),fe.setIcon("horizontal-split"),fe.onClick(()=>{Si({date:F,openInNewTab:!0,openToRight:"vertical",type:Z})})}),$l.Platform.isDesktop&&ae.addItem(fe=>{fe.setTitle(`Open ${te} Note in new Window`),fe.setIcon("fullscreen"),fe.onClick(()=>{ud({date:F,type:Z})})})):(ae.addItem(fe=>{fe.setTitle(`Create ${te} Note`),fe.setIcon("create-new"),fe.onClick(()=>{Si({date:F,openInNewTab:!1,type:Z})})}),ae.addItem(fe=>{fe.setTitle(`Create ${te} Note Split Right`),fe.setIcon("vertical-split"),fe.onClick(()=>{Si({date:F,openInNewTab:!0,openToRight:"horizontal",type:Z})})}),ae.addItem(fe=>{fe.setTitle(`Create ${te} Note Split Down`),fe.setIcon("horizontal-split"),fe.onClick(()=>{Si({date:F,openInNewTab:!0,openToRight:"vertical",type:Z})})})),Z==="daily"?(ae.addSeparator(),ae.addItem(fe=>{fe.setTitle("Open Timeline View"),fe.setIcon("calendar"),fe.onClick(()=>Dt(void 0,void 0,void 0,function*(){let ee=yield v.initView(Vo);ee.view instanceof Ql&&ee.view.setDate(F)}))}),ae.addItem(fe=>{fe.setTitle("Open Schedule View"),fe.setIcon("bullet-list"),fe.onClick(()=>Dt(void 0,void 0,void 0,function*(){let ee=yield v.initView(ro);ee.view instanceof Us&&ee.view.setDate(F)}))})):(ae.addSeparator(),ae.addItem(fe=>{fe.setTitle("Open Weekly View"),fe.setIcon("calendar"),fe.onClick(()=>Dt(void 0,void 0,void 0,function*(){let ee=yield v.initView(io);ee.view instanceof Jl&&ee.view.setDate(F)}))}),ae.addItem(fe=>{fe.setTitle("Open Schedule View"),fe.setIcon("bullet-list"),fe.onClick(()=>Dt(void 0,void 0,void 0,function*(){let ee=yield v.initView(ro);ee.view instanceof Us&&ee.view.setDate(F)}))})),ae},I=(F,Z)=>(T(F,Z,"daily")&&R(F,"daily").showAtPosition({x:Z.clientX,y:Z.clientY}),!0),x=(F,Z)=>(T(F,Z,"weekly")&&R(F,"weekly").showAtPosition({x:Z.clientX,y:Z.clientY}),!0);No(()=>{clearInterval(f),clearInterval(d)});function U(F){r=F,n(0,r)}function D(F){s=F,n(1,s)}function Y(F){g=F,n(5,g)}function ne(F){l=F,n(3,l),n(0,r),n(12,f),n(13,d)}function j(F){_=F,n(6,_),n(0,r),n(12,f),n(3,l),n(13,d)}function oe(F){g=F,n(5,g)}function ce(F){l=F,n(3,l),n(0,r),n(12,f),n(13,d)}function Te(F){_=F,n(6,_),n(0,r),n(12,f),n(3,l),n(13,d)}return t.$$set=F=>{"codeBlockOptions"in F&&n(0,r=F.codeBlockOptions),"isObsidianView"in F&&n(2,i=F.isObsidianView),"showSettings"in F&&n(1,s=F.showSettings)},t.$$.update=()=>{if(t.$$.dirty&12297){e:n(3,l=r.date?window.moment(r.date).add(r.dayOffset,"month"):window.moment().add(r.dayOffset,"month")),f&&clearInterval(f),n(12,f=setInterval(()=>b(l),1e3)),d&&clearInterval(d),n(13,d=setInterval(()=>n(6,_=window.moment()),6e4)),b(l)}},[r,s,i,l,h,g,_,v,y,O,I,x,f,d,U,D,Y,ne,j,oe,ce,Te]}var Pw=class extends ze{constructor(e){super();Ue(this,e,bM,yM,We,{codeBlockOptions:0,isObsidianView:2,showSettings:1})}},Ju=Pw;var xw=Ye(require("obsidian")),Ko=class extends xw.MarkdownRenderChild{constructor(e,n,r){super(n);this.a=e,this.b=r}load(){this.comp=new this.a({target:this.containerEl,props:this.b})}unload(){this.comp.$destroy()}};function Lw(t,e,n){return K(this,null,function*(){var l;let i=(l=(0,$u.parseYaml)(t))!=null?l:{};i.type||(i.type="day"),i.exclude||(i.exclude=[]),i.include||(i.include=[]),i.hourRange===void 0&&(i.hourRange=[0,24]),i.timespan===void 0&&(i.timespan=7),i.dayOffset===void 0&&(i.dayOffset=0),i.navigation===void 0&&(i.navigation=!1),i.showAllDay===void 0&&(i.showAllDay=!0);let s=["YYYY-MM-DD","YYYY.MM.DD","YYYY/MM/DD","MM-DD-YYYY","MM.DD.YYYY","MM/DD/YYYY","DD-MM-YYYY","DD.MM.YYYY","DD/MM/YYYY"];if(i.date==null||i.date=="today"||i.date=="tomorrow"||i.date=="yesterday"||window.moment(i.date,s,!0).isValid()){let u;i.date==null?u=void 0:i.date=="today"?u=window.moment():i.date=="tomorrow"?u=window.moment().add(1,"day"):i.date=="yesterday"?u=window.moment().subtract(1,"day"):u=window.moment(i.date),e.style.padding="10px",i.type=="web"?$u.Platform.isDesktopApp&&n.addChild(new Ko(Fu,e,{codeBlockOptions:i})):i.type=="day"?(i.timespan=1,n.addChild(new Ko(qo,e,{codeBlockOptions:i}))):i.type=="month"?n.addChild(new Ko(Ju,e,{codeBlockOptions:i})):i.type=="schedule"?n.addChild(new Ko(Xu,e,{codeBlockOptions:i})):i.type=="week"&&n.addChild(new Ko(qo,e,{codeBlockOptions:i}))}})}var Rw=Ye(require("obsidian"));var ea="google-calendar-view-month",np=class extends Rw.ItemView{constructor(e){super(e);this.showSettings=!1}getViewType(){return ea}getDisplayText(){return"Calendar Month View"}getIcon(){return"calendar-with-checkmark"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.calendar.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.calendar.$set({showSettings:this.showSettings})})})}onOpen(){return K(this,null,function*(){let n=me.getInstance().settings.viewSettings.month;this.calendar=new Ju({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return K(this,null,function*(){this.calendar.$destroy()})}};var Fw=Ye(require("obsidian"));var js="google-calendar-view-web",rp=class extends Fw.ItemView{constructor(e){super(e);this.showSettings=!1}getViewType(){return js}getDisplayText(){return"Calendar Web View"}onPaneMenu(e,n){super.onPaneMenu(e,n),this.showSettings=this.calendar.$$.ctx[1],e.addItem(r=>{r.setTitle("Refresh"),r.setIcon("sync"),r.onClick(()=>{this.onClose(),this.onOpen()})}).addSeparator().addItem(r=>{r.setTitle(this.showSettings?"Hide Settings":"Settings"),r.setIcon("gear"),r.onClick(()=>{this.showSettings=!this.showSettings,this.calendar.$set({showSettings:this.showSettings})})})}getIcon(){return"calendar-with-checkmark"}onOpen(){return K(this,null,function*(){let n=me.getInstance().settings.viewSettings.web;n.width=-1,this.calendar=new Fu({target:this.contentEl,props:{codeBlockOptions:n,isObsidianView:!0,showSettings:this.showSettings}})})}onClose(){return K(this,null,function*(){this.calendar.$destroy()})}};var Yw=Ye(require("obsidian")),ip=class extends Yw.FuzzySuggestModal{constructor(e,n,r,i,s){super(me.getInstance().app);this.eventList=e,this.setPlaceholder("Select an event to insert"),this.editor=n,this.start=r,this.end=i,this.word=s}getItems(){return this.eventList}getItemText(e){return`${e.summary}	`}onChooseItem(e){return K(this,null,function*(){let n=`[${e.summary}](${e.htmlLink}&cal=${e.parent.id})`;this.editor.replaceRange(n,this.start,this.end,this.word)})}};function Gw(t,e){e.settings.atAnnotationEnabled!=!1&&(ta("@today",t,e)||ta("@tomorrow",t,e)||ta("@yesterday",t,e)||ta("@REGEX",t,e)||ta("@YYYY-MM-DD",t,e))}function ta(t,e,n){var u;let r=e.getCursor(),i=e.getCursor(),s="",l=window.moment();if(t==="@REGEX"){let f=e.getLine(r.line);if(f.length>2e3)return!1;let d=(u=f.match(/.*@([+,-])(\d+) /))!=null?u:[];if(d.length!=3||e.getCursor().ch!=d.index+d[0].length)return!1;if(i=Xa(_i({},r),{ch:r.ch-d[1].length-d[2].length-1}),i.ch<0)return;s=e.getRange(i,r),d[1]=="+"?l=window.moment().add(d[2],"day"):l=window.moment().subtract(d[2],"day")}else if(t==="@YYYY-MM-DD"){if(i=Xa(_i({},r),{ch:r.ch-t.length}),s=e.getRange(i,r),!s.startsWith("@")||s.length!="@YYYY-MM-DD".length)return!1;let f=["YYYY-MM-DD","YYYY/MM/DD","YYYY.MM.DD","YYYY MM DD","MM-DD-YYYY","MM/DD/YYYY","MM.DD.YYYY","MM DD YYYY","DD-MM-YYYY","DD/MM/YYYY","DD.MM.YYYY","DD MM YYYY"],d=["DD-MM-YYYY","DD/MM/YYYY","DD.MM.YYYY","DD MM YYYY","YYYY-MM-DD","YYYY/MM/DD","YYYY.MM.DD","YYYY MM DD","MM-DD-YYYY","MM/DD/YYYY","MM.DD.YYYY","MM DD YYYY"],p=window.moment(s.substring(1),n.settings.usDateFormat?f:d,!0);if(p.isValid())l=p;else return!1}else{if(i=Xa(_i({},r),{ch:r.ch-t.length}),i.ch<0||e.getRange(i,r)!=t)return!1;switch(t){case"@today":l=window.moment();break;case"@tomorrow":l=window.moment().add(1,"day");break;case"@yesterday":l=window.moment().add(-1,"day");break;default:return!1}}return Wt({startDate:l}).then(f=>{new ip(f,e,i,r,s).open()}),!0}var Ww=Ye(Ci());function kM(t){return K(this,null,function*(){let e=/\[.*]\(https:\/\/www\.google\.com\/calendar\/event\?eid=(.*)&cal=(.*)\)/g,n,r=[];do n=e.exec(t),n&&r.push(n);while(n);return r.length?yield Promise.all(r.map(s=>K(this,null,function*(){if(s){let l=atob(s[1]).split(" ")[0];return yield Ki(l,s[2])}}))):[]})}function Bw(t){return K(this,null,function*(){let e=t.getCursor(),n=t.getValue(),r=/{{gEvent(\d?).(.*)}} /g,i,s=[];do i=r.exec(n),i&&s.push(i);while(i);if(!s.length)return;let l=yield kM(n);!l.length||s.forEach(u=>K(this,null,function*(){let f=u[1]?parseInt(u[1]):0,d=t.getCursor();if(d.ch-=3,t.getRange(d,t.getCursor())!="}} ")return!1;let p=Ww.default.get(l[f],u[2],"");p===Object(p)&&(p=JSON.stringify(p)),n=n.replace(u[0],p!=null?p:""),t.setValue(n),e.ch+=p.length-u[0].length,t.setCursor(e)}))})}var zw=Ye(require("obsidian"));var qs=[".anyoneCanAddSelf",".attachments",".attachments[0]",".attachments[0]fileId",".attachments[0]fileUrl",".attachments[0]iconLink",".attachments[0]mimeType",".attachments[0]title",".attendees",".attendeesOmitted",".attendees[0]",".attendees[0].additionalGuests",".attendees[0].comment",".attendees[0].displayName",".attendees[0].email",".attendees[0].id",".attendees[0].optional",".attendees[0].organizer",".attendees[0].resource",".attendees[0].responseStatus",".attendees[0].self",".colorId",".conferenceData",".conferenceData.conferenceId",".conferenceData.conferenceSolution",".conferenceData.conferenceSolution.iconUri",".conferenceData.conferenceSolution.key",".conferenceData.conferenceSolution.key.type",".conferenceData.conferenceSolution.name",".conferenceData.createRequest",".conferenceData.createRequest.conferenceSolutionKey",".conferenceData.createRequest.conferenceSolutionKey.type",".conferenceData.createRequest.requestId",".conferenceData.createRequest.status",".conferenceData.createRequest.status.statusCode",".conferenceData.entryPoints",".conferenceData.entryPoints[0]",".conferenceData.entryPoints[0].accessCode",".conferenceData.entryPoints[0].entryPointType",".conferenceData.entryPoints[0].label",".conferenceData.entryPoints[0].meetingCode",".conferenceData.entryPoints[0].passcode",".conferenceData.entryPoints[0].password",".conferenceData.entryPoints[0].pin",".conferenceData.entryPoints[0].uri",".conferenceData.notes",".conferenceData.signature",".created",".creator",".creator.displayName",".creator.email",".creator.id",".creator.self",".description",".end",".end.date",".end.dateTime",".end.timeZone",".endTimeUnspecified",".etag",".eventType",".extendedProperties",".extendedProperties.private",".extendedProperties.shared",".gadget",".gadget.display",".gadget.height",".gadget.iconLink",".gadget.link",".gadget.preferences",".gadget.title",".gadget.type",".gadget.width",".guestsCanInviteOthers",".guestsCanModify",".guestsCanSeeOtherGuests",".hangoutLink",".htmlLink",".iCalUID",".id",".kind",".location",".locked",".organizer",".organizer.displayName",".organizer.email",".organizer.id",".organizer.self",".originalStartTime",".originalStartTime.date",".originalStartTime.dateTime",".originalStartTime.timeZone",".privateCopy",".parent",".parent.kind",".parent.id",".parent.summary",".parent.description",".parent.location",".parent.timeZone",".parent.conferenceProperties",".parent.conferenceProperties.allowedConferenceSolutionTypes",".recurrence",".recurrence[0]",".recurringEventId",".reminders",".reminders.overrides",".reminders.overrides[0]",".reminders.overrides[0].method",".reminders.overrides[0].minutes",".reminders.useDefault",".sequence",".source",".source.title",".source.url",".start",".start.date",".start.dateTime",".start.timeZone",".status",".summary",".transparency",".updated",".visibility"];var op=class extends zw.EditorSuggest{constructor(e){super(e)}onTrigger(e,n){let i=n.getLine(e.line).substring(0,e.ch).match(/{{gEvent(\d)?(\S+$)/);if(i){let s="{{gEvent".length;return i[1]&&s++,{end:e,start:{ch:i.index+s,line:e.line},query:i[2]}}}getSuggestions(e){return qs.filter(n=>e.query===n.substring(0,e.query.length))}renderSuggestion(e,n){n.createEl("span",{text:e,cls:"suggestionText"})}selectSuggestion(e){if(!this.context)return;let{editor:n}=this.context;if(n.replaceRange(e,this.context.start,this.context.end),qs.filter(i=>i.startsWith(`${e}.`)).length==0){let i=n.getCursor(),s=structuredClone(i);s.ch+=2,(n.getLine(s.line).length<s.ch||n.getRange(i,s)!="}}")&&n.replaceRange("}}",i),n.setCursor(s)}}};var ry=Ye(require("obsidian"));var na=Ye(require("obsidian")),sp=class extends na.Modal{constructor(e,n){super(e);this.onSubmit=n}onOpen(){let{contentEl:e}=this;e.createEl("h1",{text:"Enter a name for the template"}),new na.Setting(e).setName("Name").addText(n=>n.onChange(r=>{this.result=r})),new na.Setting(e).addButton(n=>n.setButtonText("Save").setCta().onClick(()=>{this.close(),this.onSubmit(this.result)}))}onClose(){let{contentEl:e}=this;e.empty()}};function EM(t){yt(t,"svelte-6isfqn",".optionContainer.svelte-6isfqn{display:flex;flex-direction:column}.header.svelte-6isfqn{display:grid;grid-template-columns:[first] 30% auto [last] 30%}.center.svelte-6isfqn{text-align:center}.settingsContainer.svelte-6isfqn{display:flex;flex-direction:row;flex:1 1;gap:20px}.optionItem.svelte-6isfqn{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.input.svelte-6isfqn,.eventList.svelte-6isfqn,.optionList.svelte-6isfqn,.calendarList.svelte-6isfqn{width:100%;display:flex;flex-direction:column}.eventList.svelte-6isfqn,.optionList.svelte-6isfqn,.calendarList.svelte-6isfqn{padding-left:16px}button.svelte-6isfqn{align-self:center}")}function Hw(t,e,n){let r=t.slice();return r[21]=e[n],r}function Uw(t,e,n){let r=t.slice();return r[21]=e[n],r}function jw(t,e,n){let r=t.slice();return r[26]=e[n],r[27]=e,r[28]=n,r}function qw(t,e,n){let r=t.slice();return r[29]=e[n],r[30]=e,r[31]=n,r}function Vw(t,e,n){let r=t.slice();return r[32]=e[n],r}function Kw(t){let e,n=t[0].settings.insertTemplates,r=[];for(let i=0;i<n.length;i+=1)r[i]=Zw(Vw(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Kt()},m(i,s){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,s);z(i,e,s)},p(i,s){if(s[0]&1){n=i[0].settings.insertTemplates;let l;for(l=0;l<n.length;l+=1){let u=Vw(i,n,l);r[l]?r[l].p(u,s):(r[l]=Zw(u),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){Nt(r,i),i&&W(e)}}}function Zw(t){let e,n=t[32].name+"",r,i;return{c(){e=P("option"),r=Ie(n),e.__value=i=t[32].name,e.value=e.__value},m(s,l){z(s,e,l),N(e,r)},p(s,l){l[0]&1&&n!==(n=s[32].name+"")&&xe(r,n),l[0]&1&&i!==(i=s[32].name)&&(e.__value=i,e.value=e.__value)},d(s){s&&W(e)}}}function CM(t){let e;return{c(){e=P("span"),e.textContent="Loading..."},m(n,r){z(n,e,r)},p:pe,d(n){n&&W(e)}}}function SM(t){let e,n=t[4],r=[];for(let i=0;i<n.length;i+=1)r[i]=Xw(qw(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Kt()},m(i,s){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,s);z(i,e,s)},p(i,s){if(s[0]&144){n=i[4];let l;for(l=0;l<n.length;l+=1){let u=qw(i,n,l);r[l]?r[l].p(u,s):(r[l]=Xw(u),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){Nt(r,i),i&&W(e)}}}function Xw(t){let e,n,r=t[29][0].summary+"",i,s,l,u,f,d,p,h;function g(){t[17].call(u,t[30],t[31])}return{c(){e=P("div"),n=P("label"),i=Ie(r),l=J(),u=P("input"),d=J(),E(n,"for",s=t[29][0].id),E(u,"type","checkbox"),E(u,"id",f=t[29][0].id),E(e,"class","optionItem svelte-6isfqn")},m(_,v){z(_,e,v),N(e,n),N(n,i),N(e,l),N(e,u),u.checked=t[29][1],N(e,d),p||(h=[X(u,"change",g),X(u,"change",t[7])],p=!0)},p(_,v){t=_,v[0]&16&&r!==(r=t[29][0].summary+"")&&xe(i,r),v[0]&16&&s!==(s=t[29][0].id)&&E(n,"for",s),v[0]&16&&f!==(f=t[29][0].id)&&E(u,"id",f),v[0]&16&&(u.checked=t[29][1])},d(_){_&&W(e),p=!1,Ge(h)}}}function TM(t){let e;return{c(){e=P("span"),e.textContent="Loading..."},m(n,r){z(n,e,r)},p:pe,d(n){n&&W(e)}}}function DM(t){let e,n=t[3],r=[];for(let i=0;i<n.length;i+=1)r[i]=Qw(jw(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Kt()},m(i,s){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,s);z(i,e,s)},p(i,s){if(s[0]&8){n=i[3];let l;for(l=0;l<n.length;l+=1){let u=jw(i,n,l);r[l]?r[l].p(u,s):(r[l]=Qw(u),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){Nt(r,i),i&&W(e)}}}function Qw(t){let e,n,r=t[26][0].summary+"",i,s,l,u,f,d,p,h;function g(){t[18].call(u,t[27],t[28])}return{c(){e=P("div"),n=P("label"),i=Ie(r),l=J(),u=P("input"),d=J(),E(n,"for",s=t[26][0].id),E(u,"type","checkbox"),E(u,"id",f=t[26][0].id),E(e,"class","optionItem svelte-6isfqn")},m(_,v){z(_,e,v),N(e,n),N(n,i),N(e,l),N(e,u),u.checked=t[26][1],N(e,d),p||(h=X(u,"change",g),p=!0)},p(_,v){t=_,v[0]&8&&r!==(r=t[26][0].summary+"")&&xe(i,r),v[0]&8&&s!==(s=t[26][0].id)&&E(n,"for",s),v[0]&8&&f!==(f=t[26][0].id)&&E(u,"id",f),v[0]&8&&(u.checked=t[26][1])},d(_){_&&W(e),p=!1,h()}}}function Jw(t){let e,n,r,i,s,l,u,f=qs,d=[];for(let g=0;g<f.length;g+=1)d[g]=$w(Uw(t,f,g));let p=t[5],h=[];for(let g=0;g<p.length;g+=1)h[g]=ey(Hw(t,p,g));return{c(){e=P("h4"),e.textContent="Table structure",n=J(),r=P("select");for(let g=0;g<d.length;g+=1)d[g].c();i=J(),s=P("div");for(let g=0;g<h.length;g+=1)h[g].c();E(r,"name","tableOptions"),E(r,"class","dropdown"),E(s,"class","optionList svelte-6isfqn")},m(g,_){z(g,e,_),z(g,n,_),z(g,r,_);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(r,null);z(g,i,_),z(g,s,_);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(s,null);l||(u=X(r,"change",t[8]),l=!0)},p(g,_){if(_&0){f=qs;let v;for(v=0;v<f.length;v+=1){let b=Uw(g,f,v);d[v]?d[v].p(b,_):(d[v]=$w(b),d[v].c(),d[v].m(r,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=f.length}if(_[0]&544){p=g[5];let v;for(v=0;v<p.length;v+=1){let b=Hw(g,p,v);h[v]?h[v].p(b,_):(h[v]=ey(b),h[v].c(),h[v].m(s,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=p.length}},d(g){g&&W(e),g&&W(n),g&&W(r),Nt(d,g),g&&W(i),g&&W(s),Nt(h,g),l=!1,u()}}}function $w(t){let e,n=t[21]+"",r,i;return{c(){e=P("option"),r=Ie(n),e.__value=i=t[21],e.value=e.__value},m(s,l){z(s,e,l),N(e,r)},p:pe,d(s){s&&W(e)}}}function ey(t){let e,n,r=t[21]+"",i,s,l,u,f,d,p;function h(){return t[19](t[21])}return{c(){e=P("div"),n=P("span"),i=Ie(r),s=J(),l=P("input"),f=J(),E(l,"type","checkbox"),E(l,"id",u=t[21]),l.checked=!0,E(e,"class","optionItem svelte-6isfqn")},m(g,_){z(g,e,_),N(e,n),N(n,i),N(e,s),N(e,l),N(e,f),d||(p=X(l,"click",h),d=!0)},p(g,_){t=g,_[0]&32&&r!==(r=t[21]+"")&&xe(i,r),_[0]&32&&u!==(u=t[21])&&E(l,"id",u)},d(g){g&&W(e),d=!1,p()}}}function OM(t){let e,n,r,i,s,l,u,f,d,p,h,g,_,v,b,C,y,O,T,R,I,x,U,D,Y,ne,j,oe,ce,Te,F,Z,G,te,ae,fe,ee,se,ye=t[0].settings.insertTemplates.length&&Kw(t);function de(ct,_t){return ct[4]?SM:CM}let be=de(t,[-1,-1]),Ve=be(t);function xt(ct,_t){return ct[3]?DM:TM}let Lt=xt(t,[-1,-1]),mt=Lt(t),bt=t[2]=="table"&&Jw(t);return{c(){e=P("div"),n=P("div"),r=P("select"),i=P("option"),i.textContent="None",ye&&ye.c(),s=J(),l=P("h1"),l.textContent="Insert Options",u=J(),f=P("button"),f.textContent="Save as template",d=J(),p=P("hr"),h=J(),g=P("div"),_=P("div"),v=P("label"),v.textContent="Insert type",b=J(),C=P("select"),y=P("option"),y.textContent="Bullet",T=P("option"),T.textContent="Table",R=J(),I=P("div"),x=P("label"),x.textContent="Insert date",U=J(),D=P("input"),ne=J(),j=P("h4"),j.textContent="Calendars",oe=J(),ce=P("div"),Ve.c(),Te=J(),F=P("h4"),F.textContent="Events",Z=J(),G=P("div"),mt.c(),te=J(),bt&&bt.c(),ae=J(),fe=P("button"),fe.textContent="Insert",i.__value="None",i.value=i.__value,E(r,"class","dropdown left"),t[1]===void 0&&Sn(()=>t[15].call(r)),E(l,"class","center svelte-6isfqn"),E(f,"class","right svelte-6isfqn"),E(n,"class","header svelte-6isfqn"),E(v,"for","insertType"),y.selected=O=!0,y.__value="bullet",y.value=y.__value,T.__value="table",T.value=T.__value,E(C,"class","dropdown"),t[2]===void 0&&Sn(()=>t[16].call(C)),E(_,"class","input svelte-6isfqn"),E(x,"for","date"),E(D,"type","date"),E(D,"name","date"),E(D,"id","date"),D.value=Y=window.moment().format("YYYY-MM-DD"),E(I,"class","input svelte-6isfqn"),E(g,"class","settingsContainer svelte-6isfqn"),E(ce,"class","calendarList svelte-6isfqn"),E(G,"class","eventList svelte-6isfqn"),E(fe,"class","svelte-6isfqn"),E(e,"class","optionContainer svelte-6isfqn")},m(ct,_t){z(ct,e,_t),N(e,n),N(n,r),N(r,i),ye&&ye.m(r,null),Jr(r,t[1],!0),N(n,s),N(n,l),N(n,u),N(n,f),N(e,d),N(e,p),N(e,h),N(e,g),N(g,_),N(_,v),N(_,b),N(_,C),N(C,y),N(C,T),Jr(C,t[2],!0),N(g,R),N(g,I),N(I,x),N(I,U),N(I,D),N(e,ne),N(e,j),N(e,oe),N(e,ce),Ve.m(ce,null),N(e,Te),N(e,F),N(e,Z),N(e,G),mt.m(G,null),N(e,te),bt&&bt.m(e,null),N(e,ae),N(e,fe),ee||(se=[X(r,"change",t[15]),X(r,"change",t[12]),X(f,"click",t[11]),X(C,"change",t[16]),X(D,"change",t[10]),X(fe,"click",t[6])],ee=!0)},p(ct,_t){ct[0].settings.insertTemplates.length?ye?ye.p(ct,_t):(ye=Kw(ct),ye.c(),ye.m(r,null)):ye&&(ye.d(1),ye=null),_t[0]&3&&Jr(r,ct[1]),_t[0]&4&&Jr(C,ct[2]),be===(be=de(ct,_t))&&Ve?Ve.p(ct,_t):(Ve.d(1),Ve=be(ct),Ve&&(Ve.c(),Ve.m(ce,null))),Lt===(Lt=xt(ct,_t))&&mt?mt.p(ct,_t):(mt.d(1),mt=Lt(ct),mt&&(mt.c(),mt.m(G,null))),ct[2]=="table"?bt?bt.p(ct,_t):(bt=Jw(ct),bt.c(),bt.m(e,ae)):bt&&(bt.d(1),bt=null)},i:pe,o:pe,d(ct){ct&&W(e),ye&&ye.d(),Ve.d(),mt.d(),bt&&bt.d(),ee=!1,Ge(se)}}}function MM(t,e,n){let{onSubmit:r}=e,{insertEventsModal:i}=e,s=me.getInstance(),l,u,f,d,p=[".summary",".description"];Io(()=>Dt(void 0,void 0,void 0,function*(){let D=yield mr();n(4,d=D.map(ne=>[ne,!0]));let Y=yield Wt();n(3,f=Y.map(ne=>[ne,!0]))}));let h=()=>{let D=f.filter(Y=>Y[1]).map(Y=>Y[0]);r(u,D,p,i)},g=D=>{f.forEach(Y=>{Y[0].parent.id==D.target.id&&(Y[1]=D.target.checked)}),n(3,f)},_=D=>{let Y=D.target.value;Y=="on"&&(Y=D.target.id),p.contains(Y)?p.remove(Y):p.push(Y),n(5,p)},v=D=>{p.contains(D)&&p.remove(D),n(5,p)},b=D=>Dt(void 0,void 0,void 0,function*(){let Y=yield mr();n(4,d=Y.map(j=>[j,!0]));let ne=yield Wt({startDate:window.moment(D.target.value).local()});n(3,f=ne.map(j=>[j,!0])),n(3,f)}),C=()=>d.filter(D=>D[1]).map(D=>D[0].id),y=()=>{new sp(app,D=>{let Y={name:D,insertType:u,tableOptions:p,calendarList:C()};n(0,s.settings.insertTemplates=[...s.settings.insertTemplates,Y],s),s.saveSettings(),He("Added template")}).open()},O=D=>{let Y=D.target.value;if(Y=="None")return;let j=s.settings.insertTemplates.find(oe=>oe.name==Y);!j||(n(2,u=j.insertType),n(5,p=j.tableOptions),d.forEach(oe=>oe[1]=j.calendarList.contains(oe[0].id)),f.forEach(oe=>oe[1]=j.calendarList.contains(oe[0].parent.id)),n(4,d),n(3,f))};function T(){l=Cs(this),n(1,l),n(0,s)}function R(){u=Cs(this),n(2,u)}function I(D,Y){D[Y][1]=this.checked,n(4,d)}function x(D,Y){D[Y][1]=this.checked,n(3,f)}let U=D=>v(D);return t.$$set=D=>{"onSubmit"in D&&n(13,r=D.onSubmit),"insertEventsModal"in D&&n(14,i=D.insertEventsModal)},[s,l,u,f,d,p,h,g,_,v,b,y,O,r,i,T,R,I,x,U]}var ty=class extends ze{constructor(e){super();Ue(this,e,MM,OM,We,{onSubmit:13,insertEventsModal:14},EM,[-1,-1])}},ny=ty;var iy=Ye(Ci()),lp=class extends ry.Modal{constructor(e){super(me.getInstance().app);this.editor=e}onOpen(){return K(this,null,function*(){let{contentEl:e}=this;new ny({target:e,props:{onSubmit:this.onSubmit,insertEventsModal:this}})})}onClose(){let{contentEl:e}=this;e.empty()}onSubmit(e,n,r,i){let s="",l="",u="";e=="bullet"?(n.forEach(f=>{u+=`
- ${`[${f.summary}](${f.htmlLink}&cal=${f.parent.id})`}`}),i.editor.replaceRange(u,i.editor.getCursor())):e=="table"&&(r.forEach(f=>{f=f.split(".").join(" ").toLocaleUpperCase(),s+=`| ${f} `,l+="| --- "}),s+=`|
`,l+=`|
`,n.forEach(f=>{r.forEach(d=>{let p=iy.default.get(f,d.substring(1),"");d==".summary"&&(p=`[${p}](${f.htmlLink}&cal=${f.parent.id})`),d.startsWith(".start")&&!d.contains("timeZone")&&(p=(f.start.date?window.moment(f.start.date):window.moment(f.start.dateTime)).format("YYYY-MM-DD HH:mm")),d.startsWith(".end")&&!d.contains("timeZone")&&(p=(f.start.date?window.moment(f.end.date):window.moment(f.end.dateTime)).format("YYYY-MM-DD HH:mm")),u+=`| ${p} `}),u+=`|
`}),i.editor.replaceRange(s+l+u,i.editor.getCursor())),i.close()}};var ap=class{constructor(){}make(){return{getCalendars:()=>yi(),getEvent:(e,n)=>Sd(e,n),getEvents:e=>pd(e),createEvent:e=>Td(e),deleteEvent:(e,n=!1)=>Cd(e,n),updateEvent:(e,n=!1)=>Ms(e,n),createEventNote:(e,n,r)=>or(e,n,r)}}};var cp=Ye(require("obsidian"));var ra=Ye(Ci());function oy(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var Vs=oy();function AM(t){Vs=t}var sy=/[&<>"']/,IM=new RegExp(sy.source,"g"),ly=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,NM=new RegExp(ly.source,"g"),PM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ay=t=>PM[t];function Dn(t,e){if(e){if(sy.test(t))return t.replace(IM,ay)}else if(ly.test(t))return t.replace(NM,ay);return t}var xM=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function uy(t){return t.replace(xM,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}var LM=/(^|[^\[])\^/g;function Pt(t,e){t=typeof t=="string"?t:t.source,e=e||"";let n={replace:(r,i)=>(i=i.source||i,i=i.replace(LM,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}var RM=/[^\w:]/g,FM=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function fy(t,e,n){if(t){let r;try{r=decodeURIComponent(uy(n)).replace(RM,"").toLowerCase()}catch(i){return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!FM.test(n)&&(n=BM(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(r){return null}return n}var ef={},YM=/^[^:]+:\/*[^/]*$/,GM=/^([^:]+:)[\s\S]*$/,WM=/^([^:]+:\/*[^/]*)[\s\S]*$/;function BM(t,e){ef[" "+t]||(YM.test(t)?ef[" "+t]=t+"/":ef[" "+t]=nf(t,"/",!0)),t=ef[" "+t];let n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(GM,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(WM,"$1")+e:t+e}var tf={exec:function(){}};function zr(t){let e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}function cy(t,e){let n=t.replace(/\|/g,(s,l,u)=>{let f=!1,d=l;for(;--d>=0&&u[d]==="\\";)f=!f;return f?"|":" |"}),r=n.split(/ \|/),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function nf(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r;){let s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function zM(t,e){if(t.indexOf(e[1])===-1)return-1;let n=t.length,r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function dy(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function py(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function hy(t,e,n,r){let i=e.href,s=e.title?Dn(e.title):null,l=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;let u={type:"link",raw:n,href:i,title:s,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,u}return{type:"image",raw:n,href:i,title:s,text:Dn(l)}}function HM(t,e){let n=t.match(/^(\s+)(?:```)/);if(n===null)return e;let r=n[1];return e.split(`
`).map(i=>{let s=i.match(/^\s+/);if(s===null)return i;let[l]=s;return l.length>=r.length?i.slice(r.length):i}).join(`
`)}var rf=class{constructor(e){this.options=e||Vs}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:nf(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=HM(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){let i=nf(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;let s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,s,l,u,f,d,p,h,g,_,v,b=n[1].trim(),C=b.length>1,y={type:"list",raw:"",ordered:C,start:C?+b.slice(0,-1):"",loose:!1,items:[]};b=C?`\\d{1,9}\\${b.slice(-1)}`:`\\${b}`,this.options.pedantic&&(b=C?b:"[*+-]");let O=new RegExp(`^( {0,3}${b})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(v=!1,!(!(n=O.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),p=n[2].split(`
`,1)[0],h=e.split(`
`,1)[0],this.options.pedantic?(l=2,_=p.trimLeft()):(l=n[2].search(/[^ ]/),l=l>4?1:l,_=p.slice(l),l+=n[1].length),f=!1,!p&&/^ *$/.test(h)&&(r+=h+`
`,e=e.substring(h.length+1),v=!0),!v){let R=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),I=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),x=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),U=new RegExp(`^ {0,${Math.min(3,l-1)}}#`);for(;e&&(g=e.split(`
`,1)[0],p=g,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(x.test(p)||U.test(p)||R.test(p)||I.test(e)));){if(p.search(/[^ ]/)>=l||!p.trim())_+=`
`+p.slice(l);else if(!f)_+=`
`+p;else break;!f&&!p.trim()&&(f=!0),r+=g+`
`,e=e.substring(g.length+1)}}y.loose||(d?y.loose=!0:/\n *\n *$/.test(r)&&(d=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(_),i&&(s=i[0]!=="[ ] ",_=_.replace(/^\[[ xX]\] +/,""))),y.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:_}),y.raw+=r}y.items[y.items.length-1].raw=r.trimRight(),y.items[y.items.length-1].text=_.trimRight(),y.raw=y.raw.trimRight();let T=y.items.length;for(u=0;u<T;u++)if(this.lexer.state.top=!1,y.items[u].tokens=this.lexer.blockTokens(y.items[u].text,[]),!y.loose){let R=y.items[u].tokens.filter(x=>x.type==="space"),I=R.length>0&&R.some(x=>/\n.*\n/.test(x.raw));y.loose=I}if(y.loose)for(u=0;u<T;u++)y.items[u].loose=!0;return y}}html(e){let n=this.rules.block.html.exec(e);if(n){let r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){let i=this.options.sanitizer?this.options.sanitizer(n[0]):Dn(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){let n=this.rules.block.table.exec(e);if(n){let r={type:"table",header:cy(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,s,l,u,f;for(s=0;s<i;s++)/^ *-+: *$/.test(r.align[s])?r.align[s]="right":/^ *:-+: *$/.test(r.align[s])?r.align[s]="center":/^ *:-+ *$/.test(r.align[s])?r.align[s]="left":r.align[s]=null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=cy(r.rows[s],r.header.length).map(d=>({text:d}));for(i=r.header.length,l=0;l<i;l++)r.header[l].tokens=this.lexer.inline(r.header[l].text);for(i=r.rows.length,l=0;l<i;l++)for(f=r.rows[l],u=0;u<f.length;u++)f[u].tokens=this.lexer.inline(f[u].text);return r}}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Dn(n[1])}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Dn(n[0]):n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let l=nf(r.slice(0,-1),"\\");if((r.length-l.length)%2==0)return}else{let l=zM(n[2],"()");if(l>-1){let f=(n[0].indexOf("!")===0?5:4)+n[1].length+l;n[2]=n[2].substring(0,l),n[0]=n[0].substring(0,f).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);l&&(i=l[1],s=l[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),hy(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return hy(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;let s=i[1]||i[2]||"";if(!s||s&&(r===""||this.rules.inline.punctuation.exec(r))){let l=i[0].length-1,u,f,d=l,p=0,h=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,n=n.slice(-1*e.length+l);(i=h.exec(n))!=null;){if(u=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!u)continue;if(f=u.length,i[3]||i[4]){d+=f;continue}else if((i[5]||i[6])&&l%3&&!((l+f)%3)){p+=f;continue}if(d-=f,d>0)continue;f=Math.min(f,f+d+p);let g=e.slice(0,l+i.index+(i[0].length-u.length)+f);if(Math.min(l,f)%2){let v=g.slice(1,-1);return{type:"em",raw:g,text:v,tokens:this.lexer.inlineTokens(v)}}let _=g.slice(2,-2);return{type:"strong",raw:g,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," "),i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=Dn(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){let r=this.rules.inline.autolink.exec(e);if(r){let i,s;return r[2]==="@"?(i=Dn(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=Dn(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=Dn(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let l;do l=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(l!==r[0]);i=Dn(r[0]),r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){let r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Dn(r[0]):r[0]:i=Dn(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}},Se={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:tf,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Se._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Se._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Se.def=Pt(Se.def).replace("label",Se._label).replace("title",Se._title).getRegex();Se.bullet=/(?:[*+-]|\d{1,9}[.)])/;Se.listItemStart=Pt(/^( *)(bull) */).replace("bull",Se.bullet).getRegex();Se.list=Pt(Se.list).replace(/bull/g,Se.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Se.def.source+")").getRegex();Se._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Se._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Se.html=Pt(Se.html,"i").replace("comment",Se._comment).replace("tag",Se._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Se.paragraph=Pt(Se._paragraph).replace("hr",Se.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Se._tag).getRegex();Se.blockquote=Pt(Se.blockquote).replace("paragraph",Se.paragraph).getRegex();Se.normal=zr({},Se);Se.gfm=zr({},Se.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Se.gfm.table=Pt(Se.gfm.table).replace("hr",Se.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Se._tag).getRegex();Se.gfm.paragraph=Pt(Se._paragraph).replace("hr",Se.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Se.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Se._tag).getRegex();Se.pedantic=zr({},Se.normal,{html:Pt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Se._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:tf,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Pt(Se.normal._paragraph).replace("hr",Se.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Se.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var we={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:tf,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:tf,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};we._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";we.punctuation=Pt(we.punctuation).replace(/punctuation/g,we._punctuation).getRegex();we.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;we.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;we._comment=Pt(Se._comment).replace("(?:-->|$)","-->").getRegex();we.emStrong.lDelim=Pt(we.emStrong.lDelim).replace(/punct/g,we._punctuation).getRegex();we.emStrong.rDelimAst=Pt(we.emStrong.rDelimAst,"g").replace(/punct/g,we._punctuation).getRegex();we.emStrong.rDelimUnd=Pt(we.emStrong.rDelimUnd,"g").replace(/punct/g,we._punctuation).getRegex();we._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;we._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;we._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;we.autolink=Pt(we.autolink).replace("scheme",we._scheme).replace("email",we._email).getRegex();we._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;we.tag=Pt(we.tag).replace("comment",we._comment).replace("attribute",we._attribute).getRegex();we._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;we._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;we._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;we.link=Pt(we.link).replace("label",we._label).replace("href",we._href).replace("title",we._title).getRegex();we.reflink=Pt(we.reflink).replace("label",we._label).replace("ref",Se._label).getRegex();we.nolink=Pt(we.nolink).replace("ref",Se._label).getRegex();we.reflinkSearch=Pt(we.reflinkSearch,"g").replace("reflink",we.reflink).replace("nolink",we.nolink).getRegex();we.normal=zr({},we);we.pedantic=zr({},we.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Pt(/^!?\[(label)\]\((.*?)\)/).replace("label",we._label).getRegex(),reflink:Pt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",we._label).getRegex()});we.gfm=zr({},we.normal,{escape:Pt(we.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});we.gfm.url=Pt(we.gfm.url,"i").replace("email",we.gfm._extended_email).getRegex();we.breaks=zr({},we.gfm,{br:Pt(we.br).replace("{2,}","*").getRegex(),text:Pt(we.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function UM(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function gy(t){let e="",n,r,i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}var ii=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Vs,this.options.tokenizer=this.options.tokenizer||new rf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:Se.normal,inline:we.normal};this.options.pedantic?(n.block=Se.pedantic,n.inline=we.pedantic):this.options.gfm&&(n.block=Se.gfm,this.options.breaks?n.inline=we.breaks:n.inline=we.gfm),this.tokenizer.rules=n}static get rules(){return{block:Se,inline:we}}static lex(e,n){return new ii(n).lex(e)}static lexInline(e,n){return new ii(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(u,f,d)=>f+"    ".repeat(d.length));let r,i,s,l;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(r=u.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0,f=e.slice(1),d;this.options.extensions.startBlock.forEach(function(p){d=p.call({lexer:this},f),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],l&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),l=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,l=e,u,f,d;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)p.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,u.index)+"["+py("a",u[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,u.index)+"["+py("a",u[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.escapedEmSt.exec(l))!=null;)l=l.slice(0,u.index+u[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(f||(d=""),f=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>(r=p.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,l,d)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,gy)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,gy))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let p=1/0,h=e.slice(1),g;this.options.extensions.startInline.forEach(function(_){g=_.call({lexer:this},h),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(s=e.substring(0,p+1))}if(r=this.tokenizer.inlineText(s,UM)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(d=r.raw.slice(-1)),f=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){let p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}},of=class{constructor(e){this.options=e||Vs}code(e,n,r){let i=(n||"").match(/\S*/)[0];if(this.options.highlight){let s=this.options.highlight(e,i);s!=null&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Dn(i)+'">'+(r?e:Dn(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Dn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,r,i){if(this.options.headerIds){let s=this.options.headerPrefix+i.slug(r);return`<h${n} id="${s}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){let i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){let r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=fy(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=fy(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}},up=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}},fp=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){let r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}},Hr=class{constructor(e){this.options=e||Vs,this.options.renderer=this.options.renderer||new of,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new up,this.slugger=new fp}static parse(e,n){return new Hr(n).parse(e)}static parseInline(e,n){return new Hr(n).parseInline(e)}parse(e,n=!0){let r="",i,s,l,u,f,d,p,h,g,_,v,b,C,y,O,T,R,I,x,U=e.length;for(i=0;i<U;i++){if(_=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_.type]&&(x=this.options.extensions.renderers[_.type].call({parser:this},_),x!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(_.type))){r+=x||"";continue}switch(_.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(_.tokens),_.depth,uy(this.parseInline(_.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(_.text,_.lang,_.escaped);continue}case"table":{for(h="",p="",u=_.header.length,s=0;s<u;s++)p+=this.renderer.tablecell(this.parseInline(_.header[s].tokens),{header:!0,align:_.align[s]});for(h+=this.renderer.tablerow(p),g="",u=_.rows.length,s=0;s<u;s++){for(d=_.rows[s],p="",f=d.length,l=0;l<f;l++)p+=this.renderer.tablecell(this.parseInline(d[l].tokens),{header:!1,align:_.align[l]});g+=this.renderer.tablerow(p)}r+=this.renderer.table(h,g);continue}case"blockquote":{g=this.parse(_.tokens),r+=this.renderer.blockquote(g);continue}case"list":{for(v=_.ordered,b=_.start,C=_.loose,u=_.items.length,g="",s=0;s<u;s++)O=_.items[s],T=O.checked,R=O.task,y="",O.task&&(I=this.renderer.checkbox(T),C?O.tokens.length>0&&O.tokens[0].type==="paragraph"?(O.tokens[0].text=I+" "+O.tokens[0].text,O.tokens[0].tokens&&O.tokens[0].tokens.length>0&&O.tokens[0].tokens[0].type==="text"&&(O.tokens[0].tokens[0].text=I+" "+O.tokens[0].tokens[0].text)):O.tokens.unshift({type:"text",text:I}):y+=I),y+=this.parse(O.tokens,C),g+=this.renderer.listitem(y,R,T);r+=this.renderer.list(g,v,b);continue}case"html":{r+=this.renderer.html(_.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(_.tokens));continue}case"text":{for(g=_.tokens?this.parseInline(_.tokens):_.text;i+1<U&&e[i+1].type==="text";)_=e[++i],g+=`
`+(_.tokens?this.parseInline(_.tokens):_.text);r+=n?this.renderer.paragraph(g):g;continue}default:{let D='Token with "'+_.type+'" type was not found.';if(this.options.silent){console.error(D);return}else throw new Error(D)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,s,l,u=e.length;for(i=0;i<u;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(l=this.options.extensions.renderers[s.type].call({parser:this},s),l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){r+=l||"";continue}switch(s.type){case"escape":{r+=n.text(s.text);break}case"html":{r+=n.html(s.text);break}case"link":{r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{r+=n.image(s.href,s.title,s.text);break}case"strong":{r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(s.tokens,n));break}case"text":{r+=n.text(s.text);break}default:{let f='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(f);return}else throw new Error(f)}}}return r}};function Oe(t,e,n){if(typeof t=="undefined"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=zr({},Oe.defaults,e||{}),dy(e),n){let i=e.highlight,s;try{s=ii.lex(t,e)}catch(f){return n(f)}let l=function(f){let d;if(!f)try{e.walkTokens&&Oe.walkTokens(s,e.walkTokens),d=Hr.parse(s,e)}catch(p){f=p}return e.highlight=i,f?n(f):n(null,d)};if(!i||i.length<3||(delete e.highlight,!s.length))return l();let u=0;Oe.walkTokens(s,function(f){f.type==="code"&&(u++,setTimeout(()=>{i(f.text,f.lang,function(d,p){if(d)return l(d);p!=null&&p!==f.text&&(f.text=p,f.escaped=!0),u--,u===0&&l()})},0))}),u===0&&l();return}function r(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Dn(i.message+"",!0)+"</pre>";throw i}try{let i=ii.lex(t,e);if(e.walkTokens){if(e.async)return Promise.all(Oe.walkTokens(i,e.walkTokens)).then(()=>Hr.parse(i,e)).catch(r);Oe.walkTokens(i,e.walkTokens)}return Hr.parse(i,e)}catch(i){r(i)}}Oe.options=Oe.setOptions=function(t){return zr(Oe.defaults,t),AM(Oe.defaults),Oe};Oe.getDefaults=oy;Oe.defaults=Vs;Oe.use=function(...t){let e=Oe.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{let r=zr({},n);if(r.async=Oe.defaults.async||r.async,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){let s=e.renderers[i.name];s?e.renderers[i.name]=function(...l){let u=i.renderer.apply(this,l);return u===!1&&(u=s.apply(this,l)),u}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){let i=Oe.defaults.renderer||new of;for(let s in n.renderer){let l=i[s];i[s]=(...u)=>{let f=n.renderer[s].apply(i,u);return f===!1&&(f=l.apply(i,u)),f}}r.renderer=i}if(n.tokenizer){let i=Oe.defaults.tokenizer||new rf;for(let s in n.tokenizer){let l=i[s];i[s]=(...u)=>{let f=n.tokenizer[s].apply(i,u);return f===!1&&(f=l.apply(i,u)),f}}r.tokenizer=i}if(n.walkTokens){let i=Oe.defaults.walkTokens;r.walkTokens=function(s){let l=[];return l.push(n.walkTokens.call(this,s)),i&&(l=l.concat(i.call(this,s))),l}}Oe.setOptions(r)})};Oe.walkTokens=function(t,e){let n=[];for(let r of t)switch(n=n.concat(e.call(Oe,r)),r.type){case"table":{for(let i of r.header)n=n.concat(Oe.walkTokens(i.tokens,e));for(let i of r.rows)for(let s of i)n=n.concat(Oe.walkTokens(s.tokens,e));break}case"list":{n=n.concat(Oe.walkTokens(r.items,e));break}default:Oe.defaults.extensions&&Oe.defaults.extensions.childTokens&&Oe.defaults.extensions.childTokens[r.type]?Oe.defaults.extensions.childTokens[r.type].forEach(function(i){n=n.concat(Oe.walkTokens(r[i],e))}):r.tokens&&(n=n.concat(Oe.walkTokens(r.tokens,e)))}return n};Oe.parseInline=function(t,e){if(typeof t=="undefined"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=zr({},Oe.defaults,e||{}),dy(e);try{let n=ii.lexInline(t,e);return e.walkTokens&&Oe.walkTokens(n,e.walkTokens),Hr.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Dn(n.message+"",!0)+"</pre>";throw n}};Oe.Parser=Hr;Oe.parser=Hr.parse;Oe.Renderer=of;Oe.TextRenderer=up;Oe.Lexer=ii;Oe.lexer=ii.lex;Oe.Tokenizer=rf;Oe.Slugger=fp;Oe.parse=Oe;var M9=Oe.options,A9=Oe.setOptions,I9=Oe.use,N9=Oe.walkTokens,P9=Oe.parseInline;var x9=Hr.parse,L9=ii.lex;var my=(t,e,n)=>{if(t<0&&(t=e.length+t),!(t>=e.length&&t>=0))return t+1<e.length?n.substring(e[t].position.start.offset,e[t+1].position.start.offset-1):n.substring(e[t].position.start.offset,n.length)},_y=t=>K(void 0,null,function*(){var h,g,_,v,b,C;let e=me.getInstance(),n=yield app.vault.adapter.read((0,cp.normalizePath)(t.file.path)),r=(g=ra.default.cloneDeep((h=app==null?void 0:app.metadataCache)==null?void 0:h.getFileCache(t.file).frontmatter))!=null?g:{},i=/\[([^[]*)::([^[]*)\]/gm,s,l=[];do s=i.exec(n),l.push(s);while(s);if(l.forEach(y=>{y&&ra.default.set(r,y[1].trim(),y[2].trim())}),!r){He("No frontmatter found in note",!0);return}let u=jM(r);for(let[y,O]of Object.entries(u)){let T=ra.default.get(r,y,null);T&&ra.default.set(r,O,T)}let f=yield mr(),d=r.position;delete r.position;let p=f.find(y=>{var O,T;return y.id==((O=r.calendar)!=null?O:e.settings.defaultCalendar)||y.summary==((T=r.calendar)!=null?T:e.settings.defaultCalendar)});if(!p){He("Event not created. Calendar not defined. Set a default calendar in the settings or set the field calendar");return}if(r.parent=p,r.summary||(r.summary=t.file.basename),r.description){if(typeof r.description=="string"){if(((_=r.description)==null?void 0:_.toLowerCase())=="header"&&(r.description="",((v=app==null?void 0:app.metadataCache)==null?void 0:v.getFileCache(t.file).headings).forEach(O=>{r.description+=`<h${O.level}>${O.heading}</h${O.level}>`})),((b=r.description)==null?void 0:b.toLowerCase())=="file"){let y=Oe.parse(n.substring(d.end.offset));r.description=y}}else if(typeof r.description=="object"){let y=(C=app==null?void 0:app.metadataCache)==null?void 0:C.getFileCache(t.file).headings,O=r.description.map(R=>{if(typeof R=="number"){let I=my(R,y,n);return I||-1}else if(typeof R=="object"){if(R.length!=2)return-1;let[I,x]=R;if(I<0&&(I=y.length+I),x<0&&(x=y.length+x),I>=y.length||x>=y.length||I<0||x<0||I>x)return-1;let U="";for(let D=I;D<=x;D++){let Y=my(D,y,n);if(!Y)return-1;U+=Y+`
`}return U}});if(O.contains(-1)){He("Event not created.A Header in the header list is out of range",!0);return}let T=Oe.parse(O.join(`
`));r.description=T}}if(!r.start&&!r.startTime&&(r.start={date:window.moment()}),!r.end&&!r.endTime&&(r.end=r.start),r.start.date?(r.start.date=window.moment(r.start.date).format("YYYY-MM-DD"),r.end.date=window.moment(r.end.date).format("YYYY-MM-DD")):(r.start.dateTime=window.moment(r.start.dateTime).format(),r.end.dateTime=window.moment(r.end.dateTime).format()),r.recurrence)try{let y=Ov.fromText(r.recurrence),O=new Yo;O.rrule(y),r.recurrence=O.valueOf()}catch(y){He("Event not created. Error in recurrence text.",!0);return}return r}),jM=t=>{var n;let e=new Map;if(typeof t.mapping=="string"){t.mapping.endsWith(".md")||(t.mapping+=".md");let r=(0,cp.normalizePath)(t.mapping),i=app.vault.getAbstractFileByPath(r);if(!i)return He(`Mapping Error, file "${r}" not found.`),e;if(t=(n=app==null?void 0:app.metadataCache)==null?void 0:n.getFileCache(i).frontmatter,!t)return He(`Mapping Error, file "${r}" does not contain frontmatter.`),e}return t.mapping?t.mapping:e};var vy=Ye(require("obsidian"));var wy=t=>K(void 0,null,function*(){var f,d;if(vy.Platform.isMobile)return;let e=me.getInstance(),{remote:n}=require("electron"),{file:r}=Fs(t,e),i=r?"Open Note":"Create Note",s=(f=t.summary)!=null?f:"Event started",l=(d=t.description)!=null?d:"",u;process.platform==="win32"?u=new n.Notification({toastXml:`
            <toast 
                content="Open Note"
                arguments="obsidian://googleOpenNote?event=${t.id}::${t.parent.id}"
                activationType="protocol"
            >
                <visual>
                    <binding template="ToastGeneric">
                        <text>Google event now</text>
                        <text>Title: ${s}</text>
                        <text>Description: ${l}</text>
                    </binding>
                </visual>

                <actions>
                    <action
                        content="${i}"
                        arguments="obsidian://googleOpenNote?event=${t.id}::${t.parent.id}"
                        activationType="protocol"/>

                    <action activationType="background" content="Dismiss" arguments="dismiss"/>
                </actions>
            </toast>`}):process.platform==="darwin"&&(u=new n.Notification({title:s,body:l,actions:[{type:"button",text:i},{type:"button",text:"Dismiss"}]}),u.on("action",(p,h)=>{h===0&&window.open(`obsidian://googleOpenNote?event=${t.id}::${t.parent.id}`)})),u.show()});var yy=Ye(require("obsidian"));var qM=(...e)=>K(void 0,[...e],function*(t={}){return(yield Wt(t)).map(i=>{var f;if(!((f=i.description)==null?void 0:f.includes("~obsidianTask~")))return null;let s=i.description.replace(/<br>/g,`
`).replace(/<\/?[^>]+(>|$)/g,""),l=(0,yy.parseYaml)(s);return{event:i,current:l.current||0,steps:l.steps||0,goal:l.goal||0,done:l.done||!1}}).filter(i=>i!==null)}),by=()=>K(void 0,null,function*(){return yield qM()});var VM={googleClientId:"",googleClientSecret:"",googleRefreshToken:"",useCustomClient:!0,googleOAuthServer:"https://obsidian-google-calendar.vercel.app",refreshInterval:10,useNotification:!1,showNotice:!0,autoCreateEventNotes:!0,autoCreateEventNotesMarker:"obsidian",autoCreateEventKeepOpen:!1,importStartOffset:1,importEndOffset:1,optionalNotePrefix:"",eventNoteNameFormat:"{{prefix}}{{event-title}}",defaultCalendar:"",calendarBlackList:[],insertTemplates:[],useDefaultTemplate:!1,defaultTemplate:"",defaultFolder:app.vault.config.newFileFolderPath,activateDailyNoteAddon:!1,dailyNoteDotColor:"#6aa1d8",useWeeklyNotes:!1,debugMode:!1,timelineHourFormat:0,atAnnotationEnabled:!0,usDateFormat:!0,viewSettings:{day:{type:"day",exclude:[],include:[],hourRange:[0,24],dayOffset:0,timespan:1,showAllDay:!0,navigation:!0},week:{type:"week",exclude:[],include:[],hourRange:[0,24],dayOffset:0,timespan:7,showAllDay:!0,navigation:!0},schedule:{type:"schedule",exclude:[],include:[],hourRange:[0,24],dayOffset:0,timespan:7,showAllDay:!0,navigation:!0},month:{type:"month",exclude:[],include:[],dayOffset:0},web:{type:"web",theme:"auto",view:"day",dayOffset:0}}},me=class extends oo.Plugin{constructor(){super(...arguments);this.events=[];this.initView=e=>K(this,null,function*(){this.app.workspace.getLeavesOfType(e).length===0&&(oo.Platform.isMobile||e===js||e===io?yield this.app.workspace.getLeaf(!0).setViewState({type:e}):yield this.app.workspace.getRightLeaf(!1).setViewState({type:e}));let n=this.app.workspace.getLeavesOfType(e).first();return this.app.workspace.revealLeaf(n),n});this.onLayoutReady=()=>{var r;ks(this),qi(this);let e=(r=this.app.internalPlugins)==null?void 0:r.plugins.templates;e&&e.enabled&&(this.coreTemplatePlugin=e);let n=this.app.plugins.plugins["templater-obsidian"];n&&n._loaded&&(this.templaterPlugin=n)}}static getInstance(){return me.instance}onload(){return K(this,null,function*(){if(me.instance=this,this.api=new ap().make(),yield this.loadSettings(),yield xd(this),this.app.workspace.onLayoutReady(this.onLayoutReady),this.events.push(this.app.vault.on("create",()=>{ks(this),qi(this)})),this.events.push(this.app.vault.on("delete",()=>{ks(this),qi(this)})),this.events.push(this.app.vault.on("rename",()=>{ks(this),qi(this)})),this.events.forEach(e=>{this.registerEvent(e)}),this.settings.useNotification){let e=window.setInterval(()=>K(this,null,function*(){let n=yield Wt(),r=window.moment();n.filter(s=>s.start.date?!1:window.moment(s.start.dateTime).isSame(r,"minute")).forEach(s=>{wy(s)})}),1e3*60);this.registerInterval(e)}this.registerMarkdownCodeBlockProcessor("gEvent",(e,n,r)=>Lw(e,n,r)),this.registerEditorSuggest(new op(this.app)),this.registerView(Vo,e=>new Ql(e)),this.registerView(io,e=>new Jl(e)),this.registerView(ea,e=>new np(e)),this.registerView(js,e=>new rp(e)),this.registerView(ro,e=>new Us(e)),this.registerEvent(this.app.workspace.on("editor-change",e=>{Gw(e,this),Bw(e)})),this.addCommand({id:"open-google-calendar-timline-view",name:"Open gCal Timeline View",callback:()=>this.initView(Vo)}),this.addCommand({id:"open-google-calendar-week-view",name:"Open gCal week view",callback:()=>this.initView(io)}),this.addCommand({id:"open-google-calendar-month-view",name:"Open gCal month view",callback:()=>this.initView(ea)}),this.addCommand({id:"open-google-calendar-web-view",name:"Open gCal Web View",callback:()=>this.initView(js)}),this.addCommand({id:"open-google-calendar-schedule-view",name:"Open gCal Schedule View",callback:()=>this.initView(ro)}),this.addCommand({id:"create-google-calendar-event",name:"Create gCal Event",checkCallback:e=>{let n=It();if(e)return n;!n||new Er({start:{},end:{}},()=>{xr()}).open()}}),this.addCommand({id:"list-google-calendars",name:"List Google Calendars",checkCallback:e=>{let n=It();if(e)return n;!n||mr().then(r=>{new Rd(r).open()})}}),this.addCommand({id:"list-google-events",name:"List gCal Events",checkCallback:e=>{let n=It();if(e)return n;!n||Wt().then(r=>{new Br(r,"details").open()})}}),this.addCommand({id:"google-calendar-trigger-auto-import",name:"gCal Trigger Auto Import",checkCallback:e=>{let n=It();if(e)return n;!n||xd(this)}}),this.addCommand({id:"google-calendar-create-event-note",name:"Create Event Note",checkCallback:e=>{let n=It();if(e)return n;!n||Wt().then(r=>{new Br(r,"createNote").open()})}}),this.addCommand({id:"google-calendar-get-todays-tasks",name:"Get Today's gCal Tasks",checkCallback:e=>{let n=It();if(e)return n;!n||by().then(r=>{console.log(r)})}}),this.addCommand({id:"google-calendar-create-event-note-current-event",name:"Create Event Note for Current gCal Event",checkCallback:e=>{let n=It();if(e)return n;!n||Wt().then(r=>{let i=r.filter(s=>{if(s.start.date)return!1;let l=window.moment(s.start.dateTime),u=window.moment(s.end.dateTime),f=window.moment();return!(f.isBefore(l)||f.isAfter(u))});i.length==0&&(i=r.filter(s=>{if(s.start.date)return!1;let l=window.moment(s.start.dateTime).subtract(1,"hour"),u=window.moment(s.end.dateTime),f=window.moment();return!(f.isBefore(l)||f.isAfter(u))})),i.length==0&&(i=r.filter(s=>!!s.start.date)),i.length==1?this.settings.useDefaultTemplate&&this.settings.defaultFolder&&this.settings.defaultFolder?or(i[0],this.settings.defaultFolder,this.settings.defaultTemplate):new ei(i[0],()=>{}).open():new Br(i,"createNote").open()})}}),this.addCommand({id:"insert-google-event-codeblock",name:"Insert gCal Event CodeBlock",editorCallback:e=>{e.replaceRange("```gEvent\ndate: "+window.moment().format("YYYY-MM-DD")+"\ntype: day\n```",e.getCursor())}}),this.addCommand({id:"insert-google-event-template",name:"Insert gCal Event Template",editorCallback:e=>{e.replaceRange("{{gEvent.}}",e.getCursor());let n=e.getCursor();n.ch+="{{gEvent.".length,e.setCursor(n)}}),this.addCommand({id:"insert-google-events",name:"Insert gCal Events",editorCheckCallback:(e,n)=>{let r=It();if(e)return r;!r||new lp(n).open()}}),this.addCommand({id:"create-google-calendar-event-from-frontmatter ",name:"Create gCal Event From Frontmatter",editorCheckCallback:(e,n,r)=>{let i=It();if(e)return i;!i||!r.file||_y(r).then(s=>{!s||Du(s)})}}),this.settingsTab=new fd(this.app,this),this.addSettingTab(this.settingsTab),this.registerObsidianProtocolHandler("googleLogin",e=>K(this,null,function*(){if(!oo.Platform.isDesktop&&e.code){Gg(e.code,e.state);return}oo.Platform.isMobile&&e.at&&(vi(e.at),zi(e.rt),wi(+new Date+36e5),new oo.Notice("Login successful!"),this.settingsTab.display())})),this.registerObsidianProtocolHandler("googleOpenNote",e=>K(this,null,function*(){if(!e.event)return;let[n,r]=e.event.split("::"),i=yield Ki(n,r),{file:s}=Fs(i,this);s?app.workspace.getLeaf(!0).openFile(s):this.settings.useDefaultTemplate&&this.settings.defaultFolder&&this.settings.defaultFolder?or(i,this.settings.defaultFolder,this.settings.defaultTemplate):new ei(i,l=>s=l).open()}))})}onunload(){this.app.workspace.detachLeavesOfType(Vo),this.app.workspace.detachLeavesOfType(io),this.app.workspace.detachLeavesOfType(ea),this.app.workspace.detachLeavesOfType(js),this.app.workspace.detachLeavesOfType(ro);for(let e in this.events)this.app.vault.offref(e);this.events=[]}loadSettings(){return K(this,null,function*(){this.settings=Object.assign({},VM,yield this.loadData())})}saveSettings(){return K(this,null,function*(){yield this.saveData(this.settings)})}};
/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pievilinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */
/*!
* rrule.js - Library for working with recurrence rules for calendar dates.
* https://github.com/jakubroztocil/rrule
*
* Copyright 2010, Jakub Roztocil and Lars Schoning
* Licenced under the BSD licence.
* https://github.com/jakubroztocil/rrule/blob/master/LICENCE
*
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
